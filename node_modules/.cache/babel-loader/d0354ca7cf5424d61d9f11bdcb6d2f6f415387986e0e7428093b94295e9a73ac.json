{"ast":null,"code":"var _jsxFileName = \"E:\\\\WEB\\\\korportal-master\\\\src\\\\components\\\\NotificationModule\\\\NotificationModule.jsx\",\n  _s = $RefreshSig$();\nimport s from './NotificationModule.module.css';\nimport bellIcon from '../../assets/img/icons/bell-icon.svg';\nimport newsIcon from '../../assets/img/icons/fi-rs-apps.svg';\nimport { useEffect, useState } from 'react';\nimport { getNews } from '../../api/api';\nimport { useSelector } from 'react-redux';\nimport { userSelector } from '../../selectors/userSelectors';\nimport { useOutsideClick } from '../../hooks/useOutsideClick';\nimport { getNewsList } from '../../api/apiNews';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NotificationModule = ({\n  mobileMode,\n  toggleMobileMode\n}) => {\n  _s();\n  let userSeenNews = useSelector(userSelector.userSeenNews);\n  let user = useSelector(userSelector.userData);\n  let [isOpenedStatus, setOpenedStatus] = useState(false);\n  let [isUnVisibleCount, setUnVisibleCount] = useState(0);\n  let getDataParams = filterType => {\n    return {\n      userID: user.id,\n      fromNumber: 0,\n      limitNumber: 100,\n      filterType: filterType,\n      qt: true,\n      all: 0,\n      categoryID: 1\n    };\n  };\n  useEffect(() => {\n    if (user && user.id) {\n      getNewsList(getDataParams('Не переглянуті')).then(result => {\n        setUnVisibleCount(result.qt);\n      });\n    }\n  }, [user, userSeenNews]);\n  useEffect(() => {\n    mobileMode && setOpenedStatus(false);\n  }, [mobileMode]);\n  const linkOnClickHandler = () => {\n    mobileMode && toggleMobileMode(button => !button);\n    setOpenedStatus(status => !status);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${s.notification_container} ${isOpenedStatus && s.active}`,\n    ref: useOutsideClick(() => isOpenedStatus && setOpenedStatus(false)),\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: linkOnClickHandler,\n      title: \"\\u0421\\u043F\\u043E\\u0432\\u0456\\u0449\\u0435\\u043D\\u043D\\u044F\",\n      className: `${s.notification_btn} ${isUnVisibleCount > 0 && s.red_circle}`,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: bellIcon,\n        alt: \"bell icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.notification_body,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: s.body_title,\n        children: [\"\\u0421\\u043F\\u043E\\u0432\\u0456\\u0449\\u0435\\u043D\\u043D\\u044F (\", isUnVisibleCount ? isUnVisibleCount : 0, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.body_list,\n        children: isUnVisibleCount > 0 ? /*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: () => setOpenedStatus(false),\n          href: '/feed-news?filter=noviews',\n          className: s.body_link,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: newsIcon,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u041D\\u0435\\u043F\\u0435\\u0440\\u0435\\u0433\\u043B\\u044F\\u043D\\u0443\\u0442\\u0456 \\u043D\\u043E\\u0432\\u0438\\u043D\\u0438 (\", isUnVisibleCount ? isUnVisibleCount : 0, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 7\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#7d7d7d'\n          },\n          children: \"\\u041D\\u0435\\u043C\\u0430\\u0454 \\u043D\\u043E\\u0432\\u0438\\u0445 \\u0441\\u043F\\u043E\\u0432\\u0456\\u0449\\u0435\\u043D\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 3\n  }, this);\n};\n_s(NotificationModule, \"DdF+7Q0LlRprjm9xf86vqjjzMiM=\", false, function () {\n  return [useSelector, useSelector, useOutsideClick];\n});\n_c = NotificationModule;\nexport default NotificationModule;\nvar _c;\n$RefreshReg$(_c, \"NotificationModule\");","map":{"version":3,"names":["s","bellIcon","newsIcon","useEffect","useState","getNews","useSelector","userSelector","useOutsideClick","getNewsList","jsxDEV","_jsxDEV","NotificationModule","mobileMode","toggleMobileMode","_s","userSeenNews","user","userData","isOpenedStatus","setOpenedStatus","isUnVisibleCount","setUnVisibleCount","getDataParams","filterType","userID","id","fromNumber","limitNumber","qt","all","categoryID","then","result","linkOnClickHandler","button","status","className","notification_container","active","ref","children","onClick","title","notification_btn","red_circle","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","notification_body","body_title","body_list","href","body_link","style","color","_c","$RefreshReg$"],"sources":["E:/WEB/korportal-master/src/components/NotificationModule/NotificationModule.jsx"],"sourcesContent":["import s from './NotificationModule.module.css';\r\nimport bellIcon from '../../assets/img/icons/bell-icon.svg';\r\nimport newsIcon from '../../assets/img/icons/fi-rs-apps.svg';\r\nimport { useEffect, useState } from 'react';\r\nimport { getNews } from '../../api/api';\r\nimport { useSelector } from 'react-redux';\r\nimport { userSelector } from '../../selectors/userSelectors';\r\nimport { useOutsideClick } from '../../hooks/useOutsideClick';\r\nimport { getNewsList } from '../../api/apiNews';\r\n\r\nconst NotificationModule = ({ mobileMode, toggleMobileMode }) => {\r\n\tlet userSeenNews = useSelector(userSelector.userSeenNews);\r\n\tlet user = useSelector(userSelector.userData);\r\n\r\n\tlet [isOpenedStatus, setOpenedStatus] = useState(false);\r\n\r\n\tlet [isUnVisibleCount, setUnVisibleCount] = useState(0);\r\n\r\n\tlet getDataParams = (filterType) => {\r\n\t\treturn {\r\n\t\t\tuserID: user.id,\r\n\t\t\tfromNumber: 0,\r\n\t\t\tlimitNumber: 100,\r\n\t\t\tfilterType: filterType,\r\n\t\t\tqt: true,\r\n\t\t\tall: 0,\r\n\t\t\tcategoryID: 1,\r\n\t\t};\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (user && user.id) {\r\n\t\t\tgetNewsList(getDataParams('Не переглянуті')).then((result) => {\r\n\t\t\t\tsetUnVisibleCount(result.qt);\r\n\t\t\t});\r\n\t\t}\r\n\t}, [user, userSeenNews]);\r\n\r\n\tuseEffect(() => {\r\n\t\tmobileMode && setOpenedStatus(false);\r\n\t}, [mobileMode]);\r\n\r\n\tconst linkOnClickHandler = () => {\r\n\t\tmobileMode && toggleMobileMode((button) => !button);\r\n\t\tsetOpenedStatus((status) => !status);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`${s.notification_container} ${isOpenedStatus && s.active}`}\r\n\t\t\tref={useOutsideClick(() => isOpenedStatus && setOpenedStatus(false))}>\r\n\t\t\t<button onClick={linkOnClickHandler} title=\"Сповіщення\" className={`${s.notification_btn} ${isUnVisibleCount > 0 && s.red_circle}`}>\r\n\t\t\t\t<img src={bellIcon} alt=\"bell icon\" />\r\n\t\t\t</button>\r\n\r\n\t\t\t<div className={s.notification_body}>\r\n\t\t\t\t<p className={s.body_title}>Сповіщення ({isUnVisibleCount ? isUnVisibleCount : 0})</p>\r\n\t\t\t\t<div className={s.body_list}>\r\n\t\t\t\t\t{isUnVisibleCount > 0 ? (\r\n\t\t\t\t\t\t<a onClick={() => setOpenedStatus(false)} href={'/feed-news?filter=noviews'} className={s.body_link}>\r\n\t\t\t\t\t\t\t<img src={newsIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t<span>Непереглянуті новини ({isUnVisibleCount ? isUnVisibleCount : 0})</span>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p style={{ color: '#7d7d7d' }}>Немає нових сповіщень</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NotificationModule;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}