{"ast":null,"code":"import{useEffect,useRef,useState}from'react';import s from'./MasonryGallery.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";let date=[`1Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a\n\t\t\t\t\tearum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! blanditiis\n\t\t\t\t\tfacilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! blanditiis facilis, praesentium animi.\n\t\t\t\t\tQuidem rerum dignissimos quas delectus debitis pariatur fugiat!`,`2Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a\n\t\t\t\t\tearum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! blanditiis\n\t\t\t\t\tfacilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! blanditiis facilis, praesentium animi.\n\t\t\t\t\tQuidem rerum dignissimos quas delectus debitis pariatur fugiat! blanditiis facilis, praesentium animi. Quidem rerum dignissimos\n\t\t\t\t\tquas delectus debitis pariatur fugiat! blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis\n\t\t\t\t\tpariatur fugiat!`,`3Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a\n\t\t\t\t\tearum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,`\t\t\t\t\t4Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a\n\t\t\t\t\tearum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! blanditiis\n\t\t\t\t\tfacilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,`\t\t\t\t\t5Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a\n\t\t\t\t\tearum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum\n\t\t\t\t\tdolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod,\n\t\t\t\t\tblanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! blanditiis facilis,\n\t\t\t\t\tpraesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,`\t\t\t\t\t6Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a\n\t\t\t\t\tearum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum\n\t\t\t\t\tdolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod,\n\t\t\t\t\tblanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,`7Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a\n\t\t\t\t\tearum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,`8Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a\n\t\t\t\t\tearum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum\n\t\t\t\t\tdolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod,\n\t\t\t\t\tblanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum dolor sit amet\n\t\t\t\t\tconsectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod, blanditiis\n\t\t\t\t\tfacilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum dolor sit amet\n\t\t\t\t\tconsectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod, blanditiis\n\t\t\t\t\tfacilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,`9Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a\n\t\t\t\t\tearum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum\n\t\t\t\t\tdolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod,\n\t\t\t\t\tblanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! earum quod, blanditiis\n\t\t\t\t\tfacilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,`10Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum\n\t\t\t\t\ta earum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,`11Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum\n\t\t\t\t\ta earum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! earum quod,\n\t\t\t\t\tblanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,`12Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum\n\t\t\t\t\ta`,`13Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum\n\t\t\t\t\ta earum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum\n\t\t\t\t\tdolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod,\n\t\t\t\t\tblanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,`14Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum\n\t\t\t\t\ta earum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,`15Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum\n\t\t\t\t\ta earum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum\n\t\t\t\t\tdolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod,\n\t\t\t\t\tblanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum dolor sit amet\n\t\t\t\t\tconsectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod, blanditiis\n\t\t\t\t\tfacilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,`16Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum\n\t\t\t\t\ta earum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum\n\t\t\t\t\tdolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod,\n\t\t\t\t\tblanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`];let date2=['https://portal.softcom.ua/content/pictures/news/204/0_c950b6a2598ee30ce60a976473171201.webp','https://portal.softcom.ua/content/pictures/news/114/8143a0b13864287f49231364a28f9861.webp','https://portal.softcom.ua/content/pictures/news/114/0_ca0cfa3fee00e069c788f8bf004d73ed.webp','https://portal.softcom.ua/content/pictures/news/114/0_287f10f366717da565a5785d0ce971b0.webp','https://portal.softcom.ua/content/pictures/news/115/0_9a04a7a25c3ffa24f9710eed855303b4.webp','https://portal.softcom.ua/content/pictures/news/115/017bf1af817f7e716cc79d838a89ee5f.webp','https://portal.softcom.ua/content/pictures/news/113/d8fa4702b5dbfe75a84e15f24b6401c6.webp','https://portal.softcom.ua/content/pictures/news/112/18169e39f49ed3bd5560bdde216506f1.webp','https://portal.softcom.ua/content/pictures/news/111/b329dd506fad2d22c7767aed4dc62d9c.webp','https://portal.softcom.ua/content/pictures/news/33/%D0%9C%D1%83%D0%BB%D1%8C%D1%82%D0%B8%D0%BC%D0%B5%D0%B4%D1%96%D0%B0%20(36)%202.jfif','https://portal.softcom.ua/content/pictures/news/4/preview.jpeg','https://portal.softcom.ua/content/pictures/news/7/preview.jpeg','https://web.archive.org/web/20220919054459im_/https://www.softcom.ua/images/V34_ukr.jpg','https://softcom.ua/images/cd823ca7-f482-45f2-809f-27ffe6787fc9.jpg','https://portal.softcom.ua/content/pictures/news/187/0_1165314a063533c78d74a591b11d8a77.webp'];const MasonryGallery=()=>{let[isContainerHeight,setContainerHeight]=useState(0);let[loadedImgs,setLoadedImgs]=useState([]);let[isLoadImages,setIsLoadImages]=useState(false);let ref=useRef();useEffect(()=>{date2.forEach(item=>{setLoadedImgs(imgs=>[...imgs,false]);});},[]);useEffect(()=>{if(!loadedStatusImages.includes(false)){setIsLoadImages(true);}},[loadedImgs]);// useEffect(() => {\n// \tlet loadedStatusImages = [];\n// \tlet currentImg = document.querySelectorAll(`.${s.item} img`);\n// \tcurrentImg.forEach((item, index) => {\n// \t\tloadedStatusImages.push(false);\n// \t\tconsole.log(item);\n// \t\titem.addEventListener('load', () => {\n// \t\t\tloadedStatusImages[index] = true;\n// \t\t});\n// \t\titem.addEventListener('error', function () {\n// \t\t\tloadedStatusImages[index] = true;\n// \t\t});\n// \t});\n// \tlet interval = setInterval(() => {\n// \t\tconsole.log(loadedStatusImages.includes(false));\n// \t\tconsole.log(loadedStatusImages);\n// \t\tif (!loadedStatusImages.includes(false)) {\n// \t\t\tsetIsLoadImages(true);\n// \t\t}\n// \t}, 50);\n// \treturn () => {\n// \t\tclearInterval(interval);\n// \t};\n// }, []);\nuseEffect(()=>{const observer=new ResizeObserver(entries=>{let galleryItems=document.querySelectorAll(`.${s.item}`);let slicedItems=[];let concatHeight1=0;let concatHeight2=0;let concatHeight3=0;let concatHeight4=0;galleryItems.forEach((item,index)=>{if(index<galleryItems.length-3){slicedItems.push(item);}});for(let index=0;index<slicedItems.length;index+=4){const element=slicedItems[index];concatHeight1+=element.offsetHeight*1;}for(let index=1;index<slicedItems.length;index+=4){const element=slicedItems[index];concatHeight2+=element.offsetHeight*1;}for(let index=2;index<slicedItems.length;index+=4){const element=slicedItems[index];concatHeight3+=element.offsetHeight*1;}for(let index=3;index<slicedItems.length;index+=4){const element=slicedItems[index];concatHeight4+=element.offsetHeight*1;}concatHeight1=concatHeight1+slicedItems.length/4*8;concatHeight2=concatHeight2+slicedItems.length/4*8;concatHeight3=concatHeight3+slicedItems.length/4*8;concatHeight4=concatHeight4+slicedItems.length/4*8;setContainerHeight(Math.max(concatHeight1,concatHeight2,concatHeight3,concatHeight4));console.log(concatHeight1);console.log(concatHeight2);console.log(concatHeight3);console.log(concatHeight4);console.log(Math.max(concatHeight1,concatHeight2,concatHeight3,concatHeight4));console.log(entries);console.log(entries[0].contentRect);});if(isLoadImages){observer.observe(ref.current);}return()=>{observer.unobserve(ref.current);};},[isLoadImages]);return/*#__PURE__*/_jsxs(\"div\",{ref:ref,className:s.list,style:{height:isContainerHeight},children:[date2.map((galleryItem,galleryIndex)=>/*#__PURE__*/_jsx(\"div\",{className:s.item,children:/*#__PURE__*/_jsx(\"img\",{src:`${galleryItem}`,onLoad:()=>{setLoadedImgs(imgs=>{let currentImgs=[...imgs];currentImgs[galleryIndex]=true;return currentImgs;});}})})),/*#__PURE__*/_jsx(\"div\",{className:`${s.item} ${s.break}`}),/*#__PURE__*/_jsx(\"div\",{className:`${s.item} ${s.break}`}),/*#__PURE__*/_jsx(\"div\",{className:`${s.item} ${s.break}`})]});};export default MasonryGallery;","map":{"version":3,"names":["useEffect","useRef","useState","s","jsx","_jsx","jsxs","_jsxs","date","date2","MasonryGallery","isContainerHeight","setContainerHeight","loadedImgs","setLoadedImgs","isLoadImages","setIsLoadImages","ref","forEach","item","imgs","loadedStatusImages","includes","observer","ResizeObserver","entries","galleryItems","document","querySelectorAll","slicedItems","concatHeight1","concatHeight2","concatHeight3","concatHeight4","index","length","push","element","offsetHeight","Math","max","console","log","contentRect","observe","current","unobserve","className","list","style","height","children","map","galleryItem","galleryIndex","src","onLoad","currentImgs","break"],"sources":["E:/web/web/2024/korportal/src/components/MasonryGallery/MasonryGallery.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\nimport s from './MasonryGallery.module.css';\r\n\r\nlet date = [\r\n\t`1Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a\r\n\t\t\t\t\tearum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! blanditiis\r\n\t\t\t\t\tfacilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! blanditiis facilis, praesentium animi.\r\n\t\t\t\t\tQuidem rerum dignissimos quas delectus debitis pariatur fugiat!`,\r\n\t`2Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a\r\n\t\t\t\t\tearum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! blanditiis\r\n\t\t\t\t\tfacilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! blanditiis facilis, praesentium animi.\r\n\t\t\t\t\tQuidem rerum dignissimos quas delectus debitis pariatur fugiat! blanditiis facilis, praesentium animi. Quidem rerum dignissimos\r\n\t\t\t\t\tquas delectus debitis pariatur fugiat! blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis\r\n\t\t\t\t\tpariatur fugiat!`,\r\n\t`3Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a\r\n\t\t\t\t\tearum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,\r\n\t`\t\t\t\t\t4Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a\r\n\t\t\t\t\tearum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! blanditiis\r\n\t\t\t\t\tfacilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,\r\n\t`\t\t\t\t\t5Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a\r\n\t\t\t\t\tearum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum\r\n\t\t\t\t\tdolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod,\r\n\t\t\t\t\tblanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! blanditiis facilis,\r\n\t\t\t\t\tpraesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,\r\n\t`\t\t\t\t\t6Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a\r\n\t\t\t\t\tearum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum\r\n\t\t\t\t\tdolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod,\r\n\t\t\t\t\tblanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,\r\n\t`7Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a\r\n\t\t\t\t\tearum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,\r\n\t`8Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a\r\n\t\t\t\t\tearum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum\r\n\t\t\t\t\tdolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod,\r\n\t\t\t\t\tblanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum dolor sit amet\r\n\t\t\t\t\tconsectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod, blanditiis\r\n\t\t\t\t\tfacilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum dolor sit amet\r\n\t\t\t\t\tconsectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod, blanditiis\r\n\t\t\t\t\tfacilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,\r\n\t`9Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a\r\n\t\t\t\t\tearum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum\r\n\t\t\t\t\tdolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod,\r\n\t\t\t\t\tblanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! earum quod, blanditiis\r\n\t\t\t\t\tfacilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,\r\n\t`10Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum\r\n\t\t\t\t\ta earum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,\r\n\t`11Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum\r\n\t\t\t\t\ta earum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! earum quod,\r\n\t\t\t\t\tblanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,\r\n\t`12Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum\r\n\t\t\t\t\ta`,\r\n\t`13Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum\r\n\t\t\t\t\ta earum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum\r\n\t\t\t\t\tdolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod,\r\n\t\t\t\t\tblanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,\r\n\t`14Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum\r\n\t\t\t\t\ta earum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,\r\n\t`15Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum\r\n\t\t\t\t\ta earum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum\r\n\t\t\t\t\tdolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod,\r\n\t\t\t\t\tblanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum dolor sit amet\r\n\t\t\t\t\tconsectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod, blanditiis\r\n\t\t\t\t\tfacilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,\r\n\t`16Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum\r\n\t\t\t\t\ta earum quod, blanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat! Lorem, ipsum\r\n\t\t\t\t\tdolor sit amet consectetur adipisicing elit. Necessitatibus culpa consectetur adipisci, quibusdam quisquam nostrum a earum quod,\r\n\t\t\t\t\tblanditiis facilis, praesentium animi. Quidem rerum dignissimos quas delectus debitis pariatur fugiat!`,\r\n];\r\nlet date2 = [\r\n\t'https://portal.softcom.ua/content/pictures/news/204/0_c950b6a2598ee30ce60a976473171201.webp',\r\n\t'https://portal.softcom.ua/content/pictures/news/114/8143a0b13864287f49231364a28f9861.webp',\r\n\t'https://portal.softcom.ua/content/pictures/news/114/0_ca0cfa3fee00e069c788f8bf004d73ed.webp',\r\n\t'https://portal.softcom.ua/content/pictures/news/114/0_287f10f366717da565a5785d0ce971b0.webp',\r\n\t'https://portal.softcom.ua/content/pictures/news/115/0_9a04a7a25c3ffa24f9710eed855303b4.webp',\r\n\t'https://portal.softcom.ua/content/pictures/news/115/017bf1af817f7e716cc79d838a89ee5f.webp',\r\n\t'https://portal.softcom.ua/content/pictures/news/113/d8fa4702b5dbfe75a84e15f24b6401c6.webp',\r\n\t'https://portal.softcom.ua/content/pictures/news/112/18169e39f49ed3bd5560bdde216506f1.webp',\r\n\t'https://portal.softcom.ua/content/pictures/news/111/b329dd506fad2d22c7767aed4dc62d9c.webp',\r\n\t'https://portal.softcom.ua/content/pictures/news/33/%D0%9C%D1%83%D0%BB%D1%8C%D1%82%D0%B8%D0%BC%D0%B5%D0%B4%D1%96%D0%B0%20(36)%202.jfif',\r\n\t'https://portal.softcom.ua/content/pictures/news/4/preview.jpeg',\r\n\t'https://portal.softcom.ua/content/pictures/news/7/preview.jpeg',\r\n\t'https://web.archive.org/web/20220919054459im_/https://www.softcom.ua/images/V34_ukr.jpg',\r\n\t'https://softcom.ua/images/cd823ca7-f482-45f2-809f-27ffe6787fc9.jpg',\r\n\t'https://portal.softcom.ua/content/pictures/news/187/0_1165314a063533c78d74a591b11d8a77.webp',\r\n];\r\n\r\nconst MasonryGallery = () => {\r\n\tlet [isContainerHeight, setContainerHeight] = useState(0);\r\n\tlet [loadedImgs, setLoadedImgs] = useState([]);\r\n\tlet [isLoadImages, setIsLoadImages] = useState(false);\r\n\tlet ref = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tdate2.forEach((item) => {\r\n\t\t\tsetLoadedImgs((imgs) => [...imgs, false]);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!loadedStatusImages.includes(false)) {\r\n\t\t\tsetIsLoadImages(true);\r\n\t\t}\r\n\t}, [loadedImgs]);\r\n\r\n\t// useEffect(() => {\r\n\t// \tlet loadedStatusImages = [];\r\n\r\n\t// \tlet currentImg = document.querySelectorAll(`.${s.item} img`);\r\n\t// \tcurrentImg.forEach((item, index) => {\r\n\t// \t\tloadedStatusImages.push(false);\r\n\t// \t\tconsole.log(item);\r\n\r\n\t// \t\titem.addEventListener('load', () => {\r\n\t// \t\t\tloadedStatusImages[index] = true;\r\n\t// \t\t});\r\n\t// \t\titem.addEventListener('error', function () {\r\n\t// \t\t\tloadedStatusImages[index] = true;\r\n\t// \t\t});\r\n\t// \t});\r\n\r\n\t// \tlet interval = setInterval(() => {\r\n\t// \t\tconsole.log(loadedStatusImages.includes(false));\r\n\t// \t\tconsole.log(loadedStatusImages);\r\n\r\n\t// \t\tif (!loadedStatusImages.includes(false)) {\r\n\t// \t\t\tsetIsLoadImages(true);\r\n\t// \t\t}\r\n\t// \t}, 50);\r\n\r\n\t// \treturn () => {\r\n\t// \t\tclearInterval(interval);\r\n\t// \t};\r\n\t// }, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst observer = new ResizeObserver((entries) => {\r\n\t\t\tlet galleryItems = document.querySelectorAll(`.${s.item}`);\r\n\t\t\tlet slicedItems = [];\r\n\r\n\t\t\tlet concatHeight1 = 0;\r\n\t\t\tlet concatHeight2 = 0;\r\n\t\t\tlet concatHeight3 = 0;\r\n\t\t\tlet concatHeight4 = 0;\r\n\r\n\t\t\tgalleryItems.forEach((item, index) => {\r\n\t\t\t\tif (index < galleryItems.length - 3) {\r\n\t\t\t\t\tslicedItems.push(item);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tfor (let index = 0; index < slicedItems.length; index += 4) {\r\n\t\t\t\tconst element = slicedItems[index];\r\n\t\t\t\tconcatHeight1 += element.offsetHeight * 1;\r\n\t\t\t}\r\n\t\t\tfor (let index = 1; index < slicedItems.length; index += 4) {\r\n\t\t\t\tconst element = slicedItems[index];\r\n\t\t\t\tconcatHeight2 += element.offsetHeight * 1;\r\n\t\t\t}\r\n\t\t\tfor (let index = 2; index < slicedItems.length; index += 4) {\r\n\t\t\t\tconst element = slicedItems[index];\r\n\t\t\t\tconcatHeight3 += element.offsetHeight * 1;\r\n\t\t\t}\r\n\t\t\tfor (let index = 3; index < slicedItems.length; index += 4) {\r\n\t\t\t\tconst element = slicedItems[index];\r\n\t\t\t\tconcatHeight4 += element.offsetHeight * 1;\r\n\t\t\t}\r\n\t\t\tconcatHeight1 = concatHeight1 + (slicedItems.length / 4) * 8;\r\n\t\t\tconcatHeight2 = concatHeight2 + (slicedItems.length / 4) * 8;\r\n\t\t\tconcatHeight3 = concatHeight3 + (slicedItems.length / 4) * 8;\r\n\t\t\tconcatHeight4 = concatHeight4 + (slicedItems.length / 4) * 8;\r\n\r\n\t\t\tsetContainerHeight(Math.max(concatHeight1, concatHeight2, concatHeight3, concatHeight4));\r\n\t\t\tconsole.log(concatHeight1);\r\n\t\t\tconsole.log(concatHeight2);\r\n\t\t\tconsole.log(concatHeight3);\r\n\t\t\tconsole.log(concatHeight4);\r\n\t\t\tconsole.log(Math.max(concatHeight1, concatHeight2, concatHeight3, concatHeight4));\r\n\r\n\t\t\tconsole.log(entries);\r\n\t\t\tconsole.log(entries[0].contentRect);\r\n\t\t});\r\n\r\n\t\tif (isLoadImages) {\r\n\t\t\tobserver.observe(ref.current);\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tobserver.unobserve(ref.current);\r\n\t\t};\r\n\t}, [isLoadImages]);\r\n\r\n\treturn (\r\n\t\t<div ref={ref} className={s.list} style={{ height: isContainerHeight }}>\r\n\t\t\t{date2.map((galleryItem, galleryIndex) => (\r\n\t\t\t\t<div className={s.item}>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={`${galleryItem}`}\r\n\t\t\t\t\t\tonLoad={() => {\r\n\t\t\t\t\t\t\tsetLoadedImgs((imgs) => {\r\n\t\t\t\t\t\t\t\tlet currentImgs = [...imgs];\r\n\t\t\t\t\t\t\t\tcurrentImgs[galleryIndex] = true;\r\n\t\t\t\t\t\t\t\treturn currentImgs;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\r\n\t\t\t<div className={`${s.item} ${s.break}`}></div>\r\n\t\t\t<div className={`${s.item} ${s.break}`}></div>\r\n\t\t\t<div className={`${s.item} ${s.break}`}></div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default MasonryGallery;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}