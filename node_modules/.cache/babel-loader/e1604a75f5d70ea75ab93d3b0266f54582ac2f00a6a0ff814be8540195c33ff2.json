{"ast":null,"code":"import{memo,useEffect,useState}from'react';import s from'./VivoChatSection.module.css';import NewsList from'../NewsListTest/NewsList';import{getNews}from'../../api/api';import NewsFilter from'../NewsFilterTest/NewsFilter';import arrowLinkIcon from'../../assets/img/icons/redirect-icon.svg';import{Link,useSearchParams}from'react-router-dom';import{useSelector}from'react-redux';import{userSelector}from'../../selectors/userSelectors';import Loader from'../UI/Loader/Loader';import{getNewsList}from'../../api/apiNews';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VivoChatSection=_ref=>{let{ref1,adminStatus,title,fullScreen}=_ref;let user=useSelector(userSelector.userData);const[searchParams,setSearchParams]=useSearchParams();const step=5;let[data,setData]=useState(false);let[isFetching,setFetching]=useState(false);let[isFetchingDisable,setFetchingDisable]=useState(false);let[isNullStatus,setNullStatus]=useState(false);let[isFirstLoad,setFirstLoad]=useState(false);let[filterParams,setFilterParams]=useState({params:'Усі',tags:false});let[fromToNumbers,setFromToNumbers]=useState({from:0,to:step});let[isEndScroll,setEndScroll]=useState(0);const fetchingNewNewsList=async function(getDataParams){let push=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;console.log(isEndScroll);setFetching(true);let result=await getNewsList(getDataParams);if(result){if(push){console.log(result);if(result.error){setData(dataCur=>[...dataCur,result]);}else{setData(dataCur=>[...dataCur,...result]);}}else{setData(result);}setFetching(false);let promise=new Promise((resolve,reject)=>{setTimeout(()=>{console.log('heare +');setFetchingDisable(false);return resolve('готово!');},500);});let result2=await promise;}else{setFetching(false);let promise=new Promise((resolve,reject)=>{setTimeout(()=>{console.log('heare -');setFetchingDisable(false);return resolve('готово!');},500);});let result2=await promise;console.log(`error ${result}`);}};const handleScroll=e=>{console.log();if(!isFetchingDisable){console.log('yes');let block=e.currentTarget;// Відступ до кінця блоку\nlet y=0;if(Math.ceil(block.scrollTop+block.clientHeight)>=Math.ceil(block.scrollHeight)-y){setFetchingDisable(true);}}else{console.log('no');}};let getDataParams={userID:user.id,fromNumber:fromToNumbers.from,limitNumber:fromToNumbers.to,filterType:filterParams.params,tagsStatus:filterParams.tags,all:0,categoryID:1};useEffect(()=>{let el=document.querySelector('.main-scroll-block');el.addEventListener('scroll',e=>handleScroll(e));return()=>{el.removeEventListener('scroll',e=>handleScroll(e));};},[]);useEffect(()=>{let filterParam=searchParams.get('filter');if(user&&user.id&&!filterParam){setData(false);fetchingNewNewsList(getDataParams);}},[user]);useEffect(()=>{if(user&&user.id){console.log('im heare');setNullStatus(true);setFetchingDisable(false);setData(false);setEndScroll(0);setFromToNumbers({from:0,to:step});}},[filterParams]);useEffect(()=>{if(isNullStatus&&!data&&isEndScroll===0&&fromToNumbers.from===0){setNullStatus(false);fetchingNewNewsList(getDataParams);}},[isNullStatus,data,isEndScroll,fromToNumbers]);useEffect(()=>{if(isFetchingDisable){setEndScroll(endScroll=>endScroll+1);}},[isFetchingDisable]);useEffect(()=>{if(isEndScroll>0&&data&&!isNullStatus){setFromToNumbers({from:isEndScroll*step,to:step});}},[isEndScroll]);useEffect(()=>{if(isEndScroll>0&&data&&user&&user.id&&!isNullStatus&&!data[data.length-1].error){fetchingNewNewsList(getDataParams,true);}},[fromToNumbers]);useEffect(()=>{let filterParam=searchParams.get('filter');console.log(filterParam);if(!isFirstLoad&&filterParam&&filterParam==='noviews'&&user&&user.id){console.log(isFirstLoad);setFirstLoad(true);setFilterParams({params:'Не переглянуті',tags:false});}},[searchParams,user]);return/*#__PURE__*/_jsxs(\"div\",{ref:ref1,className:`${s.chat} section-container ${fullScreen&&s.full_screen}`,children:[title&&/*#__PURE__*/_jsxs(Link,{className:\"title_link\",title:\"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438\",to:'feed-news',children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0421\\u0442\\u0440\\u0456\\u0447\\u043A\\u0430 \\u043E\\u0441\\u0442\\u0430\\u043D\\u043D\\u0456\\u0445 \\u043D\\u043E\\u0432\\u0438\\u043D\"}),/*#__PURE__*/_jsx(\"img\",{src:arrowLinkIcon,alt:\"\"})]}),/*#__PURE__*/_jsx(NewsFilter,{isFetching:isFetching,setFilterParams:setFilterParams,fullScreen:fullScreen}),data!==false&&/*#__PURE__*/_jsx(NewsList,{adminStatus:adminStatus,data:data,fullScreen:fullScreen,filterParams:filterParams}),isFetching&&/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'100px',position:'relative',marginTop:'40px'},children:/*#__PURE__*/_jsx(Loader,{})})]});};export default/*#__PURE__*/memo(VivoChatSection);","map":{"version":3,"names":["memo","useEffect","useState","s","NewsList","getNews","NewsFilter","arrowLinkIcon","Link","useSearchParams","useSelector","userSelector","Loader","getNewsList","jsx","_jsx","jsxs","_jsxs","VivoChatSection","_ref","ref1","adminStatus","title","fullScreen","user","userData","searchParams","setSearchParams","step","data","setData","isFetching","setFetching","isFetchingDisable","setFetchingDisable","isNullStatus","setNullStatus","isFirstLoad","setFirstLoad","filterParams","setFilterParams","params","tags","fromToNumbers","setFromToNumbers","from","to","isEndScroll","setEndScroll","fetchingNewNewsList","getDataParams","push","arguments","length","undefined","console","log","result","error","dataCur","promise","Promise","resolve","reject","setTimeout","result2","handleScroll","e","block","currentTarget","y","Math","ceil","scrollTop","clientHeight","scrollHeight","userID","id","fromNumber","limitNumber","filterType","tagsStatus","all","categoryID","el","document","querySelector","addEventListener","removeEventListener","filterParam","get","endScroll","ref","className","chat","full_screen","children","src","alt","style","width","height","position","marginTop"],"sources":["E:/web/web/2024/korportal/src/components/VivoChatSectionTest/VivoChatSection.jsx"],"sourcesContent":["import { memo, useEffect, useState } from 'react';\r\nimport s from './VivoChatSection.module.css';\r\nimport NewsList from '../NewsListTest/NewsList';\r\nimport { getNews } from '../../api/api';\r\nimport NewsFilter from '../NewsFilterTest/NewsFilter';\r\nimport arrowLinkIcon from '../../assets/img/icons/redirect-icon.svg';\r\nimport { Link, useSearchParams } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { userSelector } from '../../selectors/userSelectors';\r\nimport Loader from '../UI/Loader/Loader';\r\nimport { getNewsList } from '../../api/apiNews';\r\n\r\nconst VivoChatSection = ({ ref1, adminStatus, title, fullScreen }) => {\r\n\tlet user = useSelector(userSelector.userData);\r\n\tconst [searchParams, setSearchParams] = useSearchParams();\r\n\r\n\tconst step = 5;\r\n\r\n\tlet [data, setData] = useState(false);\r\n\r\n\tlet [isFetching, setFetching] = useState(false);\r\n\tlet [isFetchingDisable, setFetchingDisable] = useState(false);\r\n\tlet [isNullStatus, setNullStatus] = useState(false);\r\n\tlet [isFirstLoad, setFirstLoad] = useState(false);\r\n\r\n\tlet [filterParams, setFilterParams] = useState({ params: 'Усі', tags: false });\r\n\tlet [fromToNumbers, setFromToNumbers] = useState({ from: 0, to: step });\r\n\r\n\tlet [isEndScroll, setEndScroll] = useState(0);\r\n\r\n\tconst fetchingNewNewsList = async (getDataParams, push = false) => {\r\n\t\tconsole.log(isEndScroll);\r\n\r\n\t\tsetFetching(true);\r\n\r\n\t\tlet result = await getNewsList(getDataParams);\r\n\t\tif (result) {\r\n\t\t\tif (push) {\r\n\t\t\t\tconsole.log(result);\r\n\t\t\t\tif (result.error) {\r\n\t\t\t\t\tsetData((dataCur) => [...dataCur, result]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetData((dataCur) => [...dataCur, ...result]);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetData(result);\r\n\t\t\t}\r\n\t\t\tsetFetching(false);\r\n\t\t\tlet promise = new Promise((resolve, reject) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tconsole.log('heare +');\r\n\t\t\t\t\tsetFetchingDisable(false);\r\n\t\t\t\t\treturn resolve('готово!');\r\n\t\t\t\t}, 500);\r\n\t\t\t});\r\n\t\t\tlet result2 = await promise;\r\n\t\t} else {\r\n\t\t\tsetFetching(false);\r\n\t\t\tlet promise = new Promise((resolve, reject) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tconsole.log('heare -');\r\n\t\t\t\t\tsetFetchingDisable(false);\r\n\t\t\t\t\treturn resolve('готово!');\r\n\t\t\t\t}, 500);\r\n\t\t\t});\r\n\t\t\tlet result2 = await promise;\r\n\t\t\tconsole.log(`error ${result}`);\r\n\t\t}\r\n\t};\r\n\tconst handleScroll = (e) => {\r\n\t\tconsole.log();\r\n\r\n\t\tif (!isFetchingDisable) {\r\n\t\t\tconsole.log('yes');\r\n\r\n\t\t\tlet block = e.currentTarget;\r\n\t\t\t// Відступ до кінця блоку\r\n\t\t\tlet y = 0;\r\n\t\t\tif (Math.ceil(block.scrollTop + block.clientHeight) >= Math.ceil(block.scrollHeight) - y) {\r\n\t\t\t\tsetFetchingDisable(true);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconsole.log('no');\r\n\t\t}\r\n\t};\r\n\r\n\tlet getDataParams = {\r\n\t\tuserID: user.id,\r\n\t\tfromNumber: fromToNumbers.from,\r\n\t\tlimitNumber: fromToNumbers.to,\r\n\t\tfilterType: filterParams.params,\r\n\t\ttagsStatus: filterParams.tags,\r\n\t\tall: 0,\r\n\t\tcategoryID: 1,\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tlet el = document.querySelector('.main-scroll-block');\r\n\t\tel.addEventListener('scroll', (e) => handleScroll(e));\r\n\t\treturn () => {\r\n\t\t\tel.removeEventListener('scroll', (e) => handleScroll(e));\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet filterParam = searchParams.get('filter');\r\n\r\n\t\tif (user && user.id && !filterParam) {\r\n\t\t\tsetData(false);\r\n\t\t\tfetchingNewNewsList(getDataParams);\r\n\t\t}\r\n\t}, [user]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (user && user.id) {\r\n\t\t\tconsole.log('im heare');\r\n\t\t\tsetNullStatus(true);\r\n\t\t\tsetFetchingDisable(false);\r\n\t\t\tsetData(false);\r\n\t\t\tsetEndScroll(0);\r\n\t\t\tsetFromToNumbers({ from: 0, to: step });\r\n\t\t}\r\n\t}, [filterParams]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isNullStatus && !data && isEndScroll === 0 && fromToNumbers.from === 0) {\r\n\t\t\tsetNullStatus(false);\r\n\t\t\tfetchingNewNewsList(getDataParams);\r\n\t\t}\r\n\t}, [isNullStatus, data, isEndScroll, fromToNumbers]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isFetchingDisable) {\r\n\t\t\tsetEndScroll((endScroll) => endScroll + 1);\r\n\t\t}\r\n\t}, [isFetchingDisable]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isEndScroll > 0 && data && !isNullStatus) {\r\n\t\t\tsetFromToNumbers({ from: isEndScroll * step, to: step });\r\n\t\t}\r\n\t}, [isEndScroll]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isEndScroll > 0 && data && user && user.id && !isNullStatus && !data[data.length - 1].error) {\r\n\t\t\tfetchingNewNewsList(getDataParams, true);\r\n\t\t}\r\n\t}, [fromToNumbers]);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet filterParam = searchParams.get('filter');\r\n\r\n\t\tconsole.log(filterParam);\r\n\r\n\t\tif (!isFirstLoad && filterParam && filterParam === 'noviews' && user && user.id) {\r\n\t\t\tconsole.log(isFirstLoad);\r\n\r\n\t\t\tsetFirstLoad(true);\r\n\t\t\tsetFilterParams({ params: 'Не переглянуті', tags: false });\r\n\t\t}\r\n\t}, [searchParams, user]);\r\n\r\n\treturn (\r\n\t\t<div ref={ref1} className={`${s.chat} section-container ${fullScreen && s.full_screen}`}>\r\n\t\t\t{title && (\r\n\t\t\t\t<Link className=\"title_link\" title=\"Перейти\" to={'feed-news'}>\r\n\t\t\t\t\t<h3>Стрічка останніх новин</h3>\r\n\t\t\t\t\t<img src={arrowLinkIcon} alt=\"\" />\r\n\t\t\t\t</Link>\r\n\t\t\t)}\r\n\t\t\t<NewsFilter isFetching={isFetching} setFilterParams={setFilterParams} fullScreen={fullScreen} />\r\n\t\t\t{data !== false && <NewsList adminStatus={adminStatus} data={data} fullScreen={fullScreen} filterParams={filterParams} />}\r\n\t\t\t{isFetching && (\r\n\t\t\t\t<div style={{ width: '100%', height: '100px', position: 'relative', marginTop: '40px' }}>\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default memo(VivoChatSection);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}