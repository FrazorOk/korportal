{"ast":null,"code":"import{useSearchParams}from'react-router-dom';import CompanyMarketingList from'../../components/CompanyMarketingList/CompanyMarketingList';import Tabs from'../../components/UI/Tabs/Tabs';import{useScrollToTop}from'../../hooks/scrollToTop';import{useEffect,useState}from'react';import AddEventButton from'../../components/UI/AddEventButton/AddEventButton';import{getNews}from'../../api/api';import{useRedirectAdmin}from'../../hooks/useRedirectHook';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminCompanyMarketingNewsPage=()=>{let{statusAdmin}=useRedirectAdmin();useScrollToTop();const[searchParams,setSearchParams]=useSearchParams();let[marketingData,setMarketingData]=useState([]);let[companyData,setCompanyData]=useState([]);let[tabIndex,setTabIndex]=useState(0);const tabsTitles=['Новини маркетингу','Новини компанії'];const tabsItems=[/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{title:\"\\u0421\\u0442\\u0432\\u043E\\u0440\\u0438\\u0442\\u0438 \\u043D\\u043E\\u0432\\u0438\\u043D\\u0443 \\u043C\\u0430\\u0440\\u043A\\u0435\\u0442\\u0438\\u043D\\u0433\\u0443\",style:{width:'100%',height:'55px'},children:/*#__PURE__*/_jsx(AddEventButton,{path:'add-change-company-marketing-news?type=marketing'})}),/*#__PURE__*/_jsx(CompanyMarketingList,{admin:true,newsList:marketingData,linkTo:\"marketing-separate-news\",type:\"marketing\"})]}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{title:\"\\u0421\\u0442\\u0432\\u043E\\u0440\\u0438\\u0442\\u0438 \\u043D\\u043E\\u0432\\u0438\\u043D\\u0443 \\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0456\\u0457\",style:{width:'100%',height:'55px'},children:/*#__PURE__*/_jsx(AddEventButton,{path:'add-change-company-marketing-news?type=company'})}),/*#__PURE__*/_jsx(CompanyMarketingList,{admin:true,newsList:companyData,linkTo:\"company-separate-news\",type:\"company\"})]})];useEffect(()=>{getNews(setMarketingData,1,3);getNews(setCompanyData,1,4);let interval=setInterval(()=>{getNews(setMarketingData,1,3);getNews(setCompanyData,1,4);},300000);return()=>{clearInterval(interval);};},[]);useEffect(()=>{let startedTab=searchParams.get('activetab');if(startedTab&&startedTab>-1&&startedTab<tabsItems.length)setTabIndex(startedTab*1);},[searchParams]);return/*#__PURE__*/_jsx(_Fragment,{children:statusAdmin&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mobile\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u041D\\u0430\\u043B\\u0430\\u0448\\u0442\\u0443\\u0432\\u0430\\u043D\\u043D\\u044F \\u043D\\u043E\\u0432\\u0438\\u043D\\u0438 \\u043C\\u0430\\u0440\\u043A\\u0435\\u0442\\u0438\\u043D\\u0433\\u0443 \\u0442\\u0430 \\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0456\\u0457\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:'580px',width:'100%'},children:/*#__PURE__*/_jsx(Tabs,{titleTabs:tabsTitles,setIndex:setTabIndex,tabIndex:tabIndex})}),tabsItems.map((tabItem,itemIndex)=>{if(itemIndex===tabIndex){return tabItem;}})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"desktop\",children:/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0'},className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"column-50\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u041D\\u0430\\u043B\\u0430\\u0448\\u0442\\u0443\\u0432\\u0430\\u043D\\u043D\\u044F \\u043D\\u043E\\u0432\\u0438\\u043D\\u0438 \\u043C\\u0430\\u0440\\u043A\\u0435\\u0442\\u0438\\u043D\\u0433\\u0443\"}),/*#__PURE__*/_jsx(\"div\",{title:\"\\u0421\\u0442\\u0432\\u043E\\u0440\\u0438\\u0442\\u0438 \\u043D\\u043E\\u0432\\u0438\\u043D\\u0443 \\u043C\\u0430\\u0440\\u043A\\u0435\\u0442\\u0438\\u043D\\u0433\\u0443\",style:{width:'100%',height:'60px'},children:/*#__PURE__*/_jsx(AddEventButton,{path:'add-change-company-marketing-news?type=marketing'})}),/*#__PURE__*/_jsx(CompanyMarketingList,{admin:true,newsList:marketingData,linkTo:\"marketing-separate-news\",type:\"marketing\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"column-50\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u041D\\u0430\\u043B\\u0430\\u0448\\u0442\\u0443\\u0432\\u0430\\u043D\\u043D\\u044F \\u043D\\u043E\\u0432\\u0438\\u043D\\u0438 \\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0456\\u0457\"}),/*#__PURE__*/_jsx(\"div\",{title:\"\\u0421\\u0442\\u0432\\u043E\\u0440\\u0438\\u0442\\u0438 \\u043D\\u043E\\u0432\\u0438\\u043D\\u0443 \\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0456\\u0457\",style:{width:'100%',height:'60px'},children:/*#__PURE__*/_jsx(AddEventButton,{path:'add-change-company-marketing-news?type=company'})}),/*#__PURE__*/_jsx(CompanyMarketingList,{admin:true,newsList:companyData,linkTo:\"company-separate-news\",type:\"company\"})]})]})})]})});};export default AdminCompanyMarketingNewsPage;","map":{"version":3,"names":["useSearchParams","CompanyMarketingList","Tabs","useScrollToTop","useEffect","useState","AddEventButton","getNews","useRedirectAdmin","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","AdminCompanyMarketingNewsPage","statusAdmin","searchParams","setSearchParams","marketingData","setMarketingData","companyData","setCompanyData","tabIndex","setTabIndex","tabsTitles","tabsItems","children","title","style","width","height","path","admin","newsList","linkTo","type","interval","setInterval","clearInterval","startedTab","get","length","className","maxWidth","titleTabs","setIndex","map","tabItem","itemIndex","marginTop"],"sources":["E:/web/web/2024/korportal/src/pages/AdminCompanyMarketingNewsPage/AdminCompanyMarketingNewsPage.jsx"],"sourcesContent":["import { useSearchParams } from 'react-router-dom';\r\nimport CompanyMarketingList from '../../components/CompanyMarketingList/CompanyMarketingList';\r\nimport Tabs from '../../components/UI/Tabs/Tabs';\r\nimport { useScrollToTop } from '../../hooks/scrollToTop';\r\nimport { useEffect, useState } from 'react';\r\nimport AddEventButton from '../../components/UI/AddEventButton/AddEventButton';\r\nimport { getNews } from '../../api/api';\r\nimport { useRedirectAdmin } from '../../hooks/useRedirectHook';\r\n\r\nconst AdminCompanyMarketingNewsPage = () => {\r\n\tlet { statusAdmin } = useRedirectAdmin();\r\n\tuseScrollToTop();\r\n\r\n\tconst [searchParams, setSearchParams] = useSearchParams();\r\n\r\n\tlet [marketingData, setMarketingData] = useState([]);\r\n\tlet [companyData, setCompanyData] = useState([]);\r\n\tlet [tabIndex, setTabIndex] = useState(0);\r\n\r\n\tconst tabsTitles = ['Новини маркетингу', 'Новини компанії'];\r\n\tconst tabsItems = [\r\n\t\t<>\r\n\t\t\t<div title=\"Створити новину маркетингу\" style={{ width: '100%', height: '55px' }}>\r\n\t\t\t\t<AddEventButton path={'add-change-company-marketing-news?type=marketing'} />\r\n\t\t\t</div>\r\n\t\t\t<CompanyMarketingList admin={true} newsList={marketingData} linkTo=\"marketing-separate-news\" type=\"marketing\" />\r\n\t\t</>,\r\n\t\t<>\r\n\t\t\t<div title=\"Створити новину компанії\" style={{ width: '100%', height: '55px' }}>\r\n\t\t\t\t<AddEventButton path={'add-change-company-marketing-news?type=company'} />\r\n\t\t\t</div>\r\n\t\t\t<CompanyMarketingList admin={true} newsList={companyData} linkTo=\"company-separate-news\" type=\"company\" />\r\n\t\t</>,\r\n\t];\r\n\r\n\tuseEffect(() => {\r\n\t\tgetNews(setMarketingData, 1, 3);\r\n\t\tgetNews(setCompanyData, 1, 4);\r\n\r\n\t\tlet interval = setInterval(() => {\r\n\t\t\tgetNews(setMarketingData, 1, 3);\r\n\t\t\tgetNews(setCompanyData, 1, 4);\r\n\t\t}, 300000);\r\n\r\n\t\treturn () => {\r\n\t\t\tclearInterval(interval);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet startedTab = searchParams.get('activetab');\r\n\t\tif (startedTab && startedTab > -1 && startedTab < tabsItems.length) setTabIndex(startedTab * 1);\r\n\t}, [searchParams]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{statusAdmin && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{/* Mobile */}\r\n\t\t\t\t\t<div className=\"mobile\">\r\n\t\t\t\t\t\t<h1>Налаштування новини маркетингу та компанії</h1>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div style={{ maxWidth: '580px', width: '100%' }}>\r\n\t\t\t\t\t\t\t\t<Tabs titleTabs={tabsTitles} setIndex={setTabIndex} tabIndex={tabIndex} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{tabsItems.map((tabItem, itemIndex) => {\r\n\t\t\t\t\t\t\t\tif (itemIndex === tabIndex) {\r\n\t\t\t\t\t\t\t\t\treturn tabItem;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* Desktop */}\r\n\t\t\t\t\t<div className=\"desktop\">\r\n\t\t\t\t\t\t<div style={{ marginTop: '0' }} className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"column-50\">\r\n\t\t\t\t\t\t\t\t<h1>Налаштування новини маркетингу</h1>\r\n\t\t\t\t\t\t\t\t<div title=\"Створити новину маркетингу\" style={{ width: '100%', height: '60px' }}>\r\n\t\t\t\t\t\t\t\t\t<AddEventButton path={'add-change-company-marketing-news?type=marketing'} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<CompanyMarketingList admin={true} newsList={marketingData} linkTo=\"marketing-separate-news\" type=\"marketing\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"column-50\">\r\n\t\t\t\t\t\t\t\t<h1>Налаштування новини компанії</h1>\r\n\t\t\t\t\t\t\t\t<div title=\"Створити новину компанії\" style={{ width: '100%', height: '60px' }}>\r\n\t\t\t\t\t\t\t\t\t<AddEventButton path={'add-change-company-marketing-news?type=company'} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<CompanyMarketingList admin={true} newsList={companyData} linkTo=\"company-separate-news\" type=\"company\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default AdminCompanyMarketingNewsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}