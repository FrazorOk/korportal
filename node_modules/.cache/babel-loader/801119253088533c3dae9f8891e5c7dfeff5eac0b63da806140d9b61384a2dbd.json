{"ast":null,"code":"import{useEffect,useState}from'react';import DeleteButton from'../../../components/UI/DeleteButton/DeleteButton';import s from'./GalleryFilesFormSection.module.css';import{deleteGalleryCatalogsFiles,domain,uploadFileInGallery}from'../../../api/api';import Loader from'../../../components/UI/Loader/Loader';import asseptIcon from'../../../assets/img/icons/assept-blue-icon.svg';import axios from'axios';import{getCookie}from'../../../helpers/cookieMetods';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const GalleryFilesFormSection=_ref=>{let{files,Id,getCatalogFunction}=_ref;let[filesList,setFilesList]=useState([]);let[fetchingFiles,setFetchingFiles]=useState([]);let[inputFiles,setInputFiles]=useState([]);let[fetchingStatus,setFetchingStatus]=useState(true);async function processArray(array){for(let index=0;index<array.length;index++){let imgInArray=[array[index]];const handleUpload=e=>{let token=getCookie('_form_token');let data=new FormData();data.append('token',`${token}`);data.append('catalog_id',Id);if(imgInArray){for(let i=0;i<imgInArray.length;i++){data.append('img[]',imgInArray[i]);}}axios.post(`${domain}/php/upload.php`,data,{onUploadProgress:event=>{const percent=Math.round(event.loaded*100/event.total);console.log(`main percent: ${percent}`);setFetchingFiles(fetchingFilesList=>{let currentItem=[...fetchingFilesList];currentItem[index]={fetching:currentItem[index].fetching,url:currentItem[index].url,id:currentItem[index].id,type:currentItem[index].type,percent:percent};console.log(currentItem[index]);return currentItem;});}}).then(response=>{console.log(response);return response.data;}).catch(error=>{console.error('error '+error);});};let result=await handleUpload();if(result.id){setFetchingFiles(fetchingFilesList=>{let currentItem=[...fetchingFilesList];currentItem[index]={id:result.id,url:result.url,fetching:false,type:result.file_type};return currentItem;});}console.log(result);}}const nullState=()=>{setFetchingFiles([]);setInputFiles([]);setFetchingStatus(true);};const onChangeInputFilesHandler=e=>{let filesListInput=e.target.files;if(filesListInput.length>0){let objectFetchingFile={fetching:true,url:'',id:null,type:null};let currentArray=[];for(let index=0;index<filesListInput.length;index++){currentArray.push(objectFetchingFile);}setFetchingFiles(currentArray);setInputFiles(filesListInput);}};useEffect(()=>{files&&setFilesList(files);},[files]);useEffect(()=>{if(fetchingFiles.length>0&&inputFiles.length>0&&fetchingStatus){setFetchingStatus(false);setTimeout(()=>{processArray(inputFiles);},300);}},[fetchingFiles,inputFiles]);useEffect(()=>{if(fetchingFiles&&fetchingFiles.length>0){let allFetchedStatus=fetchingFiles.find(findItem=>{console.log(findItem.fetching);console.log(findItem);if(findItem.fetching==true){return true;}});console.log(allFetchedStatus);if(!allFetchedStatus){nullState();getCatalogFunction();}}},[fetchingFiles]);const onClickDeleteHandler=id=>{const deleteGallery=async()=>{let result=await deleteGalleryCatalogsFiles(id,'files');getCatalogFunction();};deleteGallery();};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:s.files_list,children:[/*#__PURE__*/_jsxs(\"div\",{className:`${s.files_item} ${s.files_add_btn}`,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"upload-files\"}),/*#__PURE__*/_jsx(\"input\",{id:\"upload-files\",type:\"file\",multiple:true,onChange:onChangeInputFilesHandler})]}),fetchingFiles&&fetchingFiles.map((file,indexFile)=>/*#__PURE__*/_jsx(\"div\",{className:`${s.files_item} ${s.files_fetching}`,children:file.fetching?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader,{}),file&&file.percent&&/*#__PURE__*/_jsxs(\"p\",{style:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)'},children:[file.percent,\"%\"]})]}):/*#__PURE__*/_jsx(\"img\",{className:s.assept_icon,src:asseptIcon,alt:\"\"})},indexFile)),filesList&&filesList.length>0&&filesList.map(file=>/*#__PURE__*/_jsxs(\"div\",{className:s.files_item,children:[file.file_type==='image'&&/*#__PURE__*/_jsx(\"img\",{loading:\"lazy\",className:s.file_img,src:`${file.url}`,alt:\"\"}),file.file_type==='video'&&/*#__PURE__*/_jsx(\"video\",{controls:true,loading:\"lazy\",className:s.file_img,src:`${file.url}`,alt:\"\"}),file.file_type!=='video'&&file.file_type!=='image'&&/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',height:'100%',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',gap:'16px',position:'absolute',top:0,left:0,padding:'20px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{textAlign:'center',overflowWrap:'break-word',width:'100%'},children:file.file_type}),/*#__PURE__*/_jsx(\"span\",{style:{textAlign:'center',overflowWrap:'break-word',width:'100%'},children:file.url})]}),/*#__PURE__*/_jsx(DeleteButton,{onClickHandler:()=>onClickDeleteHandler(file.id)})]},file.id))]})});};export default GalleryFilesFormSection;","map":{"version":3,"names":["useEffect","useState","DeleteButton","s","deleteGalleryCatalogsFiles","domain","uploadFileInGallery","Loader","asseptIcon","axios","getCookie","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GalleryFilesFormSection","_ref","files","Id","getCatalogFunction","filesList","setFilesList","fetchingFiles","setFetchingFiles","inputFiles","setInputFiles","fetchingStatus","setFetchingStatus","processArray","array","index","length","imgInArray","handleUpload","e","token","data","FormData","append","i","post","onUploadProgress","event","percent","Math","round","loaded","total","console","log","fetchingFilesList","currentItem","fetching","url","id","type","then","response","catch","error","result","file_type","nullState","onChangeInputFilesHandler","filesListInput","target","objectFetchingFile","currentArray","push","setTimeout","allFetchedStatus","find","findItem","onClickDeleteHandler","deleteGallery","children","className","files_list","files_item","files_add_btn","htmlFor","multiple","onChange","map","file","indexFile","files_fetching","style","position","top","left","transform","assept_icon","src","alt","loading","file_img","controls","width","height","display","flexDirection","alignItems","justifyContent","gap","padding","textAlign","overflowWrap","onClickHandler"],"sources":["E:/WEB/korportal-master/src/pages/AdminAddChangeGalleryPage/GalleryFilesFormSection/GalleryFilesFormSection.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport DeleteButton from '../../../components/UI/DeleteButton/DeleteButton';\r\nimport s from './GalleryFilesFormSection.module.css';\r\nimport { deleteGalleryCatalogsFiles, domain, uploadFileInGallery } from '../../../api/api';\r\nimport Loader from '../../../components/UI/Loader/Loader';\r\nimport asseptIcon from '../../../assets/img/icons/assept-blue-icon.svg';\r\nimport axios from 'axios';\r\nimport { getCookie } from '../../../helpers/cookieMetods';\r\n\r\nconst GalleryFilesFormSection = ({ files, Id, getCatalogFunction }) => {\r\n\tlet [filesList, setFilesList] = useState([]);\r\n\tlet [fetchingFiles, setFetchingFiles] = useState([]);\r\n\tlet [inputFiles, setInputFiles] = useState([]);\r\n\tlet [fetchingStatus, setFetchingStatus] = useState(true);\r\n\r\n\tasync function processArray(array) {\r\n\t\tfor (let index = 0; index < array.length; index++) {\r\n\t\t\tlet imgInArray = [array[index]];\r\n\r\n\t\t\tconst handleUpload = (e) => {\r\n\t\t\t\tlet token = getCookie('_form_token');\r\n\r\n\t\t\t\tlet data = new FormData();\r\n\t\t\t\tdata.append('token', `${token}`);\r\n\t\t\t\tdata.append('catalog_id', Id);\r\n\r\n\t\t\t\tif (imgInArray) {\r\n\t\t\t\t\tfor (let i = 0; i < imgInArray.length; i++) {\r\n\t\t\t\t\t\tdata.append('img[]', imgInArray[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\taxios\r\n\t\t\t\t\t.post(`${domain}/php/upload.php`, data, {\r\n\t\t\t\t\t\tonUploadProgress: (event) => {\r\n\t\t\t\t\t\t\tconst percent = Math.round((event.loaded * 100) / event.total);\r\n\r\n\t\t\t\t\t\t\tconsole.log(`main percent: ${percent}`);\r\n\t\t\t\t\t\t\tsetFetchingFiles((fetchingFilesList) => {\r\n\t\t\t\t\t\t\t\tlet currentItem = [...fetchingFilesList];\r\n\r\n\t\t\t\t\t\t\t\tcurrentItem[index] = {\r\n\t\t\t\t\t\t\t\t\tfetching: currentItem[index].fetching,\r\n\t\t\t\t\t\t\t\t\turl: currentItem[index].url,\r\n\t\t\t\t\t\t\t\t\tid: currentItem[index].id,\r\n\t\t\t\t\t\t\t\t\ttype: currentItem[index].type,\r\n\t\t\t\t\t\t\t\t\tpercent: percent,\r\n\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\tconsole.log(currentItem[index]);\r\n\r\n\t\t\t\t\t\t\t\treturn currentItem;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\treturn response.data;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tconsole.error('error ' + error);\r\n\t\t\t\t\t});\r\n\t\t\t};\r\n\t\t\tlet result = await handleUpload();\r\n\r\n\t\t\tif (result.id) {\r\n\t\t\t\tsetFetchingFiles((fetchingFilesList) => {\r\n\t\t\t\t\tlet currentItem = [...fetchingFilesList];\r\n\r\n\t\t\t\t\tcurrentItem[index] = {\r\n\t\t\t\t\t\tid: result.id,\r\n\t\t\t\t\t\turl: result.url,\r\n\t\t\t\t\t\tfetching: false,\r\n\t\t\t\t\t\ttype: result.file_type,\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\treturn currentItem;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconsole.log(result);\r\n\t\t}\r\n\t}\r\n\tconst nullState = () => {\r\n\t\tsetFetchingFiles([]);\r\n\t\tsetInputFiles([]);\r\n\t\tsetFetchingStatus(true);\r\n\t};\r\n\tconst onChangeInputFilesHandler = (e) => {\r\n\t\tlet filesListInput = e.target.files;\r\n\r\n\t\tif (filesListInput.length > 0) {\r\n\t\t\tlet objectFetchingFile = { fetching: true, url: '', id: null, type: null };\r\n\r\n\t\t\tlet currentArray = [];\r\n\t\t\tfor (let index = 0; index < filesListInput.length; index++) {\r\n\t\t\t\tcurrentArray.push(objectFetchingFile);\r\n\t\t\t}\r\n\t\t\tsetFetchingFiles(currentArray);\r\n\t\t\tsetInputFiles(filesListInput);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfiles && setFilesList(files);\r\n\t}, [files]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (fetchingFiles.length > 0 && inputFiles.length > 0 && fetchingStatus) {\r\n\t\t\tsetFetchingStatus(false);\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tprocessArray(inputFiles);\r\n\t\t\t}, 300);\r\n\t\t}\r\n\t}, [fetchingFiles, inputFiles]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (fetchingFiles && fetchingFiles.length > 0) {\r\n\t\t\tlet allFetchedStatus = fetchingFiles.find((findItem) => {\r\n\t\t\t\tconsole.log(findItem.fetching);\r\n\t\t\t\tconsole.log(findItem);\r\n\r\n\t\t\t\tif (findItem.fetching == true) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tconsole.log(allFetchedStatus);\r\n\r\n\t\t\tif (!allFetchedStatus) {\r\n\t\t\t\tnullState();\r\n\t\t\t\tgetCatalogFunction();\r\n\t\t\t}\r\n\t\t}\r\n\t}, [fetchingFiles]);\r\n\r\n\tconst onClickDeleteHandler = (id) => {\r\n\t\tconst deleteGallery = async () => {\r\n\t\t\tlet result = await deleteGalleryCatalogsFiles(id, 'files');\r\n\t\t\tgetCatalogFunction();\r\n\t\t};\r\n\t\tdeleteGallery();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={s.files_list}>\r\n\t\t\t\t<div className={`${s.files_item} ${s.files_add_btn}`}>\r\n\t\t\t\t\t<label htmlFor=\"upload-files\"></label>\r\n\t\t\t\t\t<input id=\"upload-files\" type=\"file\" multiple onChange={onChangeInputFilesHandler}></input>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{fetchingFiles &&\r\n\t\t\t\t\tfetchingFiles.map((file, indexFile) => (\r\n\t\t\t\t\t\t<div key={indexFile} className={`${s.files_item} ${s.files_fetching}`}>\r\n\t\t\t\t\t\t\t{file.fetching ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t\t\t\t{file && file.percent && (\r\n\t\t\t\t\t\t\t\t\t\t<p style={{ position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)' }}>{file.percent}%</p>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<img className={s.assept_icon} src={asseptIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t{filesList &&\r\n\t\t\t\t\tfilesList.length > 0 &&\r\n\t\t\t\t\tfilesList.map((file) => (\r\n\t\t\t\t\t\t<div key={file.id} className={s.files_item}>\r\n\t\t\t\t\t\t\t{file.file_type === 'image' && <img loading=\"lazy\" className={s.file_img} src={`${file.url}`} alt=\"\" />}\r\n\t\t\t\t\t\t\t{file.file_type === 'video' && <video controls loading=\"lazy\" className={s.file_img} src={`${file.url}`} alt=\"\" />}\r\n\t\t\t\t\t\t\t{file.file_type !== 'video' && file.file_type !== 'image' && (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\t\t\t\t\t\tgap: '16px',\r\n\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t\t\t\tleft: 0,\r\n\t\t\t\t\t\t\t\t\t\tpadding: '20px',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<span style={{ textAlign: 'center', overflowWrap: 'break-word', width: '100%' }}>{file.file_type}</span>\r\n\t\t\t\t\t\t\t\t\t<span style={{ textAlign: 'center', overflowWrap: 'break-word', width: '100%' }}>{file.url}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<DeleteButton onClickHandler={() => onClickDeleteHandler(file.id)} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default GalleryFilesFormSection;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}