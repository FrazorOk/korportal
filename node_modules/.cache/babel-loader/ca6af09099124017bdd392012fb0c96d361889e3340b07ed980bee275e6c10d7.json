{"ast":null,"code":"import s from'./AdminPostSection.module.css';import{useState}from'react';import smileIcon from'../../../assets/img/icons/smile-icon.svg';import EmojiList from'../../../components/EmojiList/EmojiList';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FormTextBlock=_ref=>{let{text,setText,validationErrors}=_ref;let[visibleStatus2,setVisibleStatus2]=useState(false);let[selectionStart,setSelectionStart]=useState(null);let[selectionEnd,setSelectionEnd]=useState(null);const swiftInsert=(original,index,insert)=>original.substring(0,index)+insert+original.substring(index);console.log(swiftInsert('Привет, Мир',7,' великолепный'));const boldBtnOnClickHandler=e=>{e.preventDefault();setText(currentText=>{let firstSubtext=swiftInsert(currentText,selectionStart,'<b>');return swiftInsert(firstSubtext,selectionEnd+3,'</b>');});};return/*#__PURE__*/_jsxs(\"div\",{className:s.post_item,children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0422\\u0435\\u043A\\u0441\\u0442 \\u043F\\u043E\\u0434\\u0456\\u0457:\",/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'20px',color:'red'},title:\"\\u041E\\u0431\\u043E\\u0432`\\u044F\\u0437\\u043A\\u043E\\u0432\\u0435\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.row_btns,children:[/*#__PURE__*/_jsx(\"button\",{onClick:boldBtnOnClickHandler,children:/*#__PURE__*/_jsx(\"b\",{children:\"b\"})}),/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(\"i\",{children:\"i\"})}),/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(\"span\",{style:{textDecoration:'underline'},children:\"u\"})})]}),/*#__PURE__*/_jsx(\"textarea\",{value:text,onSelect:e=>{setSelectionStart(e.target.selectionStart);setSelectionEnd(e.target.selectionEnd);console.log(e);console.log(e.target.selectionStart);console.log(e.target.selectionEnd);},onChange:e=>{setText(e.target.value);},placeholder:\"\\u0422\\u0435\\u043A\\u0441\\u0442 \\u043F\\u043E\\u0434\\u0456\\u0457\",className:`${s.text} ${validationErrors.text?s.validated:''}`}),/*#__PURE__*/_jsx(\"button\",{title:\"\\u0421\\u043C\\u0430\\u0439\\u043B\\u0438\\u043A\\u0438\",onClick:e=>{e.preventDefault();setVisibleStatus2(status=>!status);},className:s.smile_button,children:/*#__PURE__*/_jsx(\"img\",{src:smileIcon,alt:\"\"})}),/*#__PURE__*/_jsx(EmojiList,{visibleStatus:visibleStatus2,setSmile:setText})]});};export default FormTextBlock;","map":{"version":3,"names":["s","useState","smileIcon","EmojiList","jsx","_jsx","jsxs","_jsxs","FormTextBlock","_ref","text","setText","validationErrors","visibleStatus2","setVisibleStatus2","selectionStart","setSelectionStart","selectionEnd","setSelectionEnd","swiftInsert","original","index","insert","substring","console","log","boldBtnOnClickHandler","e","preventDefault","currentText","firstSubtext","className","post_item","children","style","fontSize","color","title","row_btns","onClick","textDecoration","value","onSelect","target","onChange","placeholder","validated","status","smile_button","src","alt","visibleStatus","setSmile"],"sources":["C:/Users/zhuikov/OneDrive - SOFTCOM/Desktop/web/2024/korportal/src/pages/AdminAddChangeNewsPage/AdminPostSection/FormTextBlock.jsx"],"sourcesContent":["import s from './AdminPostSection.module.css';\r\nimport { useState } from 'react';\r\nimport smileIcon from '../../../assets/img/icons/smile-icon.svg';\r\nimport EmojiList from '../../../components/EmojiList/EmojiList';\r\n\r\nconst FormTextBlock = ({ text, setText, validationErrors }) => {\r\n\tlet [visibleStatus2, setVisibleStatus2] = useState(false);\r\n\tlet [selectionStart, setSelectionStart] = useState(null);\r\n\tlet [selectionEnd, setSelectionEnd] = useState(null);\r\n\r\n\tconst swiftInsert = (original, index, insert) => original.substring(0, index) + insert + original.substring(index);\r\n\r\n\tconsole.log(swiftInsert('Привет, Мир', 7, ' великолепный'));\r\n\r\n\tconst boldBtnOnClickHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetText((currentText) => {\r\n\t\t\tlet firstSubtext = swiftInsert(currentText, selectionStart, '<b>');\r\n\t\t\treturn swiftInsert(firstSubtext, selectionEnd + 3, '</b>');\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={s.post_item}>\r\n\t\t\t<p>\r\n\t\t\t\tТекст події:\r\n\t\t\t\t<span style={{ fontSize: '20px', color: 'red' }} title=\"Обов`язкове\">\r\n\t\t\t\t\t*\r\n\t\t\t\t</span>\r\n\t\t\t</p>\r\n\t\t\t<div className={s.row_btns}>\r\n\t\t\t\t<button onClick={boldBtnOnClickHandler}>\r\n\t\t\t\t\t<b>b</b>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button>\r\n\t\t\t\t\t<i>i</i>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button>\r\n\t\t\t\t\t<span style={{ textDecoration: 'underline' }}>u</span>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<textarea\r\n\t\t\t\tvalue={text}\r\n\t\t\t\tonSelect={(e) => {\r\n\t\t\t\t\tsetSelectionStart(e.target.selectionStart);\r\n\t\t\t\t\tsetSelectionEnd(e.target.selectionEnd);\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\tconsole.log(e.target.selectionStart);\r\n\t\t\t\t\tconsole.log(e.target.selectionEnd);\r\n\t\t\t\t}}\r\n\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\tsetText(e.target.value);\r\n\t\t\t\t}}\r\n\t\t\t\tplaceholder=\"Текст події\"\r\n\t\t\t\tclassName={`${s.text} ${validationErrors.text ? s.validated : ''}`}></textarea>\r\n\t\t\t<button\r\n\t\t\t\ttitle=\"Смайлики\"\r\n\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tsetVisibleStatus2((status) => !status);\r\n\t\t\t\t}}\r\n\t\t\t\tclassName={s.smile_button}>\r\n\t\t\t\t<img src={smileIcon} alt=\"\" />\r\n\t\t\t</button>\r\n\t\t\t<EmojiList visibleStatus={visibleStatus2} setSmile={setText} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default FormTextBlock;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}