{"ast":null,"code":"import BirthdaySection from'./BirthdaySection/BirthdaySection';import EventSection from'./EventSection/EventSection';import NewsSection from'./NewsSection/NewsSection';import HeroSection from'./HeroSection/HeroSection';import TodaySection from'./TodaySection/TodaySection';import VivoChatSection from'../../components/VivoChatSection/VivoChatSection';import{memo,useEffect,useRef,useState}from'react';import{useScrollToTop}from'../../hooks/scrollToTop';import GallerySection from'./GallerySection/GallerySection';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HomePage=()=>{let ref=useRef();let ref2=useRef();let ref3=useRef();const[width,setwidth]=useState(0);const[scroll,setScroll]=useState(0);const[windowHeight,setWindowHeight]=useState(null);const[statusStiky,setStatusStiky]=useState(false);const[stikuNeeded,setStikuNeeded]=useState(false);const handleScroll=sizeWindow=>{if(ref3.current){if(ref3.current.getBoundingClientRect().height>ref2.current.getBoundingClientRect().height){setStikuNeeded(false);}else{setStikuNeeded(true);let heightWindows=ref3.current.getBoundingClientRect();if(ref3.current&&ref.current&&sizeWindow<heightWindows.height+130){setStatusStiky(true);setScroll(ref.current.getBoundingClientRect().top+ref3.current.getBoundingClientRect().height-sizeWindow+30);}else{setStatusStiky(false);setScroll(ref.current.getBoundingClientRect().top-95);}}}};useScrollToTop();useEffect(()=>{const observer=new ResizeObserver(entries=>{setwidth(entries[0].contentRect.width/2-15);setWindowHeight(window.innerHeight);});observer.observe(ref.current);return()=>{ref.current&&observer.unobserve(ref.current);};},[]);useEffect(()=>{let el=document.querySelector('.main-scroll-block');if(windowHeight){el.addEventListener('scroll',e=>handleScroll(window.innerHeight));}return()=>{el.removeEventListener('scroll',e=>handleScroll(window.innerHeight));};},[windowHeight]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0413\\u043E\\u043B\\u043E\\u0432\\u043D\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(HeroSection,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{marginTop:0},children:[/*#__PURE__*/_jsx(GallerySection,{}),/*#__PURE__*/_jsx(TodaySection,{})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(EventSection,{})}),/*#__PURE__*/_jsxs(\"div\",{ref:ref,className:\"row end\",children:[/*#__PURE__*/_jsxs(\"div\",{ref:ref3,style:{width:width},className:`column-50 ${stikuNeeded&&scroll<0&&'sticky-position'} ${stikuNeeded&&statusStiky&&'sticky-position__bottom'}`,children:[/*#__PURE__*/_jsx(NewsSection,{}),/*#__PURE__*/_jsx(BirthdaySection,{})]}),/*#__PURE__*/_jsx(VivoChatSection,{adminStatus:false,ref1:ref2,title:true,fullScreen:false})]})]});};export default/*#__PURE__*/memo(HomePage);","map":{"version":3,"names":["BirthdaySection","EventSection","NewsSection","HeroSection","TodaySection","VivoChatSection","memo","useEffect","useRef","useState","useScrollToTop","GallerySection","jsx","_jsx","jsxs","_jsxs","HomePage","ref","ref2","ref3","width","setwidth","scroll","setScroll","windowHeight","setWindowHeight","statusStiky","setStatusStiky","stikuNeeded","setStikuNeeded","handleScroll","sizeWindow","current","getBoundingClientRect","height","heightWindows","top","observer","ResizeObserver","entries","contentRect","window","innerHeight","observe","unobserve","el","document","querySelector","addEventListener","e","removeEventListener","children","className","style","marginTop","adminStatus","ref1","title","fullScreen"],"sources":["E:/web/web/2024/korportal/src/pages/HomePage/HomePage.jsx"],"sourcesContent":["import BirthdaySection from './BirthdaySection/BirthdaySection';\r\nimport EventSection from './EventSection/EventSection';\r\nimport NewsSection from './NewsSection/NewsSection';\r\nimport HeroSection from './HeroSection/HeroSection';\r\nimport TodaySection from './TodaySection/TodaySection';\r\nimport VivoChatSection from '../../components/VivoChatSection/VivoChatSection';\r\nimport { memo, useEffect, useRef, useState } from 'react';\r\nimport { useScrollToTop } from '../../hooks/scrollToTop';\r\nimport GallerySection from './GallerySection/GallerySection';\r\n\r\nconst HomePage = () => {\r\n\tlet ref = useRef();\r\n\tlet ref2 = useRef();\r\n\tlet ref3 = useRef();\r\n\r\n\tconst [width, setwidth] = useState(0);\r\n\tconst [scroll, setScroll] = useState(0);\r\n\tconst [windowHeight, setWindowHeight] = useState(null);\r\n\tconst [statusStiky, setStatusStiky] = useState(false);\r\n\tconst [stikuNeeded, setStikuNeeded] = useState(false);\r\n\r\n\tconst handleScroll = (sizeWindow) => {\r\n\t\tif (ref3.current) {\r\n\t\t\tif (ref3.current.getBoundingClientRect().height > ref2.current.getBoundingClientRect().height) {\r\n\t\t\t\tsetStikuNeeded(false);\r\n\t\t\t} else {\r\n\t\t\t\tsetStikuNeeded(true);\r\n\t\t\t\tlet heightWindows = ref3.current.getBoundingClientRect();\r\n\r\n\t\t\t\tif (ref3.current && ref.current && sizeWindow < heightWindows.height + 130) {\r\n\t\t\t\t\tsetStatusStiky(true);\r\n\t\t\t\t\tsetScroll(ref.current.getBoundingClientRect().top + ref3.current.getBoundingClientRect().height - sizeWindow + 30);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetStatusStiky(false);\r\n\t\t\t\t\tsetScroll(ref.current.getBoundingClientRect().top - 95);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tuseScrollToTop();\r\n\tuseEffect(() => {\r\n\t\tconst observer = new ResizeObserver((entries) => {\r\n\t\t\tsetwidth(entries[0].contentRect.width / 2 - 15);\r\n\t\t\tsetWindowHeight(window.innerHeight);\r\n\t\t});\r\n\t\tobserver.observe(ref.current);\r\n\t\treturn () => {\r\n\t\t\tref.current && observer.unobserve(ref.current);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet el = document.querySelector('.main-scroll-block');\r\n\r\n\t\tif (windowHeight) {\r\n\t\t\tel.addEventListener('scroll', (e) => handleScroll(window.innerHeight));\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tel.removeEventListener('scroll', (e) => handleScroll(window.innerHeight));\r\n\t\t};\r\n\t}, [windowHeight]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Головна</h1>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<HeroSection />\r\n\t\t\t\t<div className=\"row\" style={{ marginTop: 0 }}>\r\n\t\t\t\t\t<GallerySection />\r\n\t\t\t\t\t<TodaySection />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<EventSection />\r\n\t\t\t</div>\r\n\t\t\t<div ref={ref} className=\"row end\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tref={ref3}\r\n\t\t\t\t\tstyle={{ width: width }}\r\n\t\t\t\t\tclassName={`column-50 ${stikuNeeded && scroll < 0 && 'sticky-position'} ${\r\n\t\t\t\t\t\tstikuNeeded && statusStiky && 'sticky-position__bottom'\r\n\t\t\t\t\t}`}>\r\n\t\t\t\t\t<NewsSection />\r\n\t\t\t\t\t<BirthdaySection />\r\n\t\t\t\t</div>\r\n\t\t\t\t<VivoChatSection adminStatus={false} ref1={ref2} title={true} fullScreen={false} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default memo(HomePage);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}