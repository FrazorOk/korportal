{"ast":null,"code":"import{useSelector}from'react-redux';import{userSelector}from'../selectors/userSelectors';import{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';export let useRedirectAdmin=()=>{let[statusAdmin,setStatusAdmin]=useState(false);let adminStatus=useSelector(userSelector.userAdminStatus);let navigate=useNavigate();useEffect(()=>{if(adminStatus==='isAdmin'){setStatusAdmin(true);}if(adminStatus==='notAdmin'){navigate('/error');}},[adminStatus]);return{statusAdmin};};export let useRedirectDevs=redirectStatus=>{const devsID=['dba91e41-d7cf-4b9e-bcc8-b1202822bbb7','34655084-81b7-48d1-8393-c82ff3841d06','a2241277-148b-4e7f-b749-8e8cd7750ee6'];let[statusDev,setStatusDev]=useState(false);let userID=useSelector(userSelector.userData);let navigate=useNavigate();const findDevIds=array=>{let findResult=array.find(itemID=>itemID===userID.id);if(findResult){return true;}else{return false;}};useEffect(()=>{if(userID&&userID.id){let devStatus=findDevIds(devsID);if(devStatus){setStatusDev(true);}else{redirectStatus&&navigate('/error');!redirectStatus&&setStatusDev(false);}}},[userID]);return{statusDev};};","map":{"version":3,"names":["useSelector","userSelector","useEffect","useState","useNavigate","useRedirectAdmin","statusAdmin","setStatusAdmin","adminStatus","userAdminStatus","navigate","useRedirectDevs","redirectStatus","devsID","statusDev","setStatusDev","userID","userData","findDevIds","array","findResult","find","itemID","id","devStatus"],"sources":["C:/Users/zhuikov/OneDrive - SOFTCOM/Desktop/web/2024/korportal/src/hooks/useRedirectHook.js"],"sourcesContent":["import { useSelector } from 'react-redux';\r\nimport { userSelector } from '../selectors/userSelectors';\r\nimport { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport let useRedirectAdmin = () => {\r\n\tlet [statusAdmin, setStatusAdmin] = useState(false);\r\n\r\n\tlet adminStatus = useSelector(userSelector.userAdminStatus);\r\n\tlet navigate = useNavigate();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (adminStatus === 'isAdmin') {\r\n\t\t\tsetStatusAdmin(true);\r\n\t\t}\r\n\t\tif (adminStatus === 'notAdmin') {\r\n\t\t\tnavigate('/error');\r\n\t\t}\r\n\t}, [adminStatus]);\r\n\r\n\treturn { statusAdmin };\r\n};\r\n\r\nexport let useRedirectDevs = (redirectStatus) => {\r\n\tconst devsID = ['dba91e41-d7cf-4b9e-bcc8-b1202822bbb7', '34655084-81b7-48d1-8393-c82ff3841d06', 'a2241277-148b-4e7f-b749-8e8cd7750ee6'];\r\n\tlet [statusDev, setStatusDev] = useState(false);\r\n\r\n\tlet userID = useSelector(userSelector.userData);\r\n\tlet navigate = useNavigate();\r\n\r\n\tconst findDevIds = (array) => {\r\n\t\tlet findResult = array.find((itemID) => itemID === userID.id);\r\n\r\n\t\tif (findResult) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userID && userID.id) {\r\n\t\t\tlet devStatus = findDevIds(devsID);\r\n\r\n\t\t\tif (devStatus) {\r\n\t\t\t\tsetStatusDev(true);\r\n\t\t\t} else {\r\n\t\t\t\tredirectStatus && navigate('/error');\r\n\t\t\t\t!redirectStatus && setStatusDev(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [userID]);\r\n\r\n\treturn { statusDev };\r\n};\r\n"],"mappings":"AAAA,OAASA,WAAW,KAAQ,aAAa,CACzC,OAASC,YAAY,KAAQ,4BAA4B,CACzD,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,MAAO,IAAI,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CACnC,GAAI,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGJ,QAAQ,CAAC,KAAK,CAAC,CAEnD,GAAI,CAAAK,WAAW,CAAGR,WAAW,CAACC,YAAY,CAACQ,eAAe,CAAC,CAC3D,GAAI,CAAAC,QAAQ,CAAGN,WAAW,CAAC,CAAC,CAE5BF,SAAS,CAAC,IAAM,CACf,GAAIM,WAAW,GAAK,SAAS,CAAE,CAC9BD,cAAc,CAAC,IAAI,CAAC,CACrB,CACA,GAAIC,WAAW,GAAK,UAAU,CAAE,CAC/BE,QAAQ,CAAC,QAAQ,CAAC,CACnB,CACD,CAAC,CAAE,CAACF,WAAW,CAAC,CAAC,CAEjB,MAAO,CAAEF,WAAY,CAAC,CACvB,CAAC,CAED,MAAO,IAAI,CAAAK,eAAe,CAAIC,cAAc,EAAK,CAChD,KAAM,CAAAC,MAAM,CAAG,CAAC,sCAAsC,CAAE,sCAAsC,CAAE,sCAAsC,CAAC,CACvI,GAAI,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CAE/C,GAAI,CAAAa,MAAM,CAAGhB,WAAW,CAACC,YAAY,CAACgB,QAAQ,CAAC,CAC/C,GAAI,CAAAP,QAAQ,CAAGN,WAAW,CAAC,CAAC,CAE5B,KAAM,CAAAc,UAAU,CAAIC,KAAK,EAAK,CAC7B,GAAI,CAAAC,UAAU,CAAGD,KAAK,CAACE,IAAI,CAAEC,MAAM,EAAKA,MAAM,GAAKN,MAAM,CAACO,EAAE,CAAC,CAE7D,GAAIH,UAAU,CAAE,CACf,MAAO,KAAI,CACZ,CAAC,IAAM,CACN,MAAO,MAAK,CACb,CACD,CAAC,CAEDlB,SAAS,CAAC,IAAM,CACf,GAAIc,MAAM,EAAIA,MAAM,CAACO,EAAE,CAAE,CACxB,GAAI,CAAAC,SAAS,CAAGN,UAAU,CAACL,MAAM,CAAC,CAElC,GAAIW,SAAS,CAAE,CACdT,YAAY,CAAC,IAAI,CAAC,CACnB,CAAC,IAAM,CACNH,cAAc,EAAIF,QAAQ,CAAC,QAAQ,CAAC,CACpC,CAACE,cAAc,EAAIG,YAAY,CAAC,KAAK,CAAC,CACvC,CACD,CACD,CAAC,CAAE,CAACC,MAAM,CAAC,CAAC,CAEZ,MAAO,CAAEF,SAAU,CAAC,CACrB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}