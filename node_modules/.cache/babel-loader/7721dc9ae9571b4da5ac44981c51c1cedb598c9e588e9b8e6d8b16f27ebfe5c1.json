{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zhuikov\\\\OneDrive - SOFTCOM\\\\Desktop\\\\web\\\\2024\\\\korportal\\\\src\\\\components\\\\NewsItem\\\\NewsItem.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\nimport s from './NewsItem.module.css';\nimport arrowIcon from '../../assets/img/icons/arrow-down-icon.svg';\nimport heartIcon from '../../assets/img/icons/heart-icon.svg';\nimport commentsIcon from '../../assets/img/icons/comments-icon.svg';\nimport changeIcon from '../../assets/img/icons/pencil-icon.svg';\nimport smileIcon from '../../assets/img/icons/smile-icon.svg';\nimport clockIcon from '../../assets/img/icons/clock-icon.svg';\nimport mailIcon from '../../assets/img/icons/paper-plane-icon.svg';\nimport CommentsList from '../CommentsList/CommentsList';\nimport { addIdToSeenNews, getNewsFromID, sendCommentNews, toggleLike } from '../../api/api';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { userSelector } from '../../selectors/userSelectors';\nimport EmojiList from '../EmojiList/EmojiList';\nimport { Link } from 'react-router-dom';\nimport { fetchSeenNews } from '../../store/thunks';\nimport NewsImgSlider from '../NewsImgSlider/NewsImgSlider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst toDay = new Date().toJSON().slice(0, 10);\nconst NewsItem = ({\n  item,\n  filterParams,\n  adminStatus\n}) => {\n  _s();\n  let ref = useRef();\n  let refText = useRef();\n  const dispatch = useDispatch();\n  let userSeenNews = useSelector(userSelector.userSeenNews);\n  let user = useSelector(userSelector.userData);\n  let {\n    id,\n    title,\n    pub_date,\n    tags,\n    text,\n    img,\n    comment,\n    reaction,\n    views\n  } = item;\n  let [fetchedComments, setFetchedComments] = useState(null);\n  let [commentsLength, setCommentsLenth] = useState(0);\n  let [textAreaComment, setTextAreaComment] = useState('');\n  let [reacionState, setReacionState] = useState(null);\n  let [reacionStateLength, setReacionStateLenth] = useState(0);\n  let [reacionStatus, setReacionStatus] = useState(false);\n  let [currentViews, setCurrentViews] = useState(null);\n  let [currentText, setCurrentText] = useState(null);\n  let [visibleStatus, toggleVisibleStatus] = useState(false);\n  let [fetchingStatus, setFetchingStatus] = useState(false);\n  let [smileStatus, setSmileStatus] = useState(false);\n  let [isSeenStatus, setSeenStatus] = useState(false);\n\n  // functions\n  const findReactionStatus = state1 => {\n    if (state1) {\n      let likeStatus = false;\n      state1.forEach(el => {\n        if (el.UserCode && user.id && el.UserCode === user.id) {\n          setReacionStatus(true);\n          likeStatus = true;\n        }\n      });\n      if (!likeStatus) {\n        setReacionStatus(false);\n      }\n    } else {\n      setReacionStatus(false);\n    }\n  };\n  const changeIdSeenNews = async () => {\n    let result = await addIdToSeenNews(id, user.id);\n    result.status === 200 && dispatch(fetchSeenNews(user.id));\n  };\n  useEffect(() => {\n    if (text) {\n      function kitcut(text, limit) {\n        if (text.length >= limit) {\n          let currentText = text.substring(0, limit);\n          let lastIndex = currentText.lastIndexOf(' '); // позиция последнего пробела\n          currentText = currentText.substring(0, lastIndex) + '...'; // обрезаем до последнего слова\n          return currentText;\n        } else {\n          return text;\n        }\n      }\n      let currentText = kitcut(text, 150);\n      setCurrentText(currentText);\n    }\n  }, [text]);\n\n  // for close tab\n  useEffect(() => {\n    toggleVisibleStatus(false);\n    setSmileStatus(false);\n    return () => {\n      toggleVisibleStatus(false);\n      setSmileStatus(false);\n    };\n  }, [filterParams]);\n\n  // this item is seen?\n  useEffect(() => {\n    userSeenNews.forEach(element => {\n      if (element == id) {\n        setSeenStatus(true);\n      }\n    });\n  }, [userSeenNews]);\n\n  // reactions\n  useEffect(() => {\n    setReacionState(reaction);\n    findReactionStatus(reaction);\n  }, [reaction]);\n  useEffect(() => {\n    !reacionState && setReacionStateLenth(0);\n    reacionState && setReacionStateLenth(reacionState.length);\n    reacionState && user && findReactionStatus(reacionState);\n  }, [reacionState, user]);\n\n  // comments\n  useEffect(() => {\n    setFetchedComments(comment);\n  }, [comment]);\n  useEffect(() => {\n    fetchedComments && setCommentsLenth(fetchedComments.length);\n  }, [fetchedComments]);\n  useEffect(() => {\n    views && setCurrentViews(views);\n  }, [views]);\n\n  // Handlers\n  let commentButtonOnClickHandler = e => {\n    if (!visibleStatus) {\n      toggleVisibleStatus(true);\n    }\n    if (!isSeenStatus) {\n      let changeViews = async () => {\n        await changeIdSeenNews();\n        let relustItem = await getNewsFromID(id, setFetchedComments, setReacionState);\n        setCurrentViews(relustItem[0].views);\n      };\n      changeViews();\n    }\n    setTimeout(() => {\n      ref.current.focus();\n    }, 100);\n  };\n  let sendCommetnButtonOnClickHandler = e => {\n    let sendAndGetComments = async () => {\n      setFetchingStatus(true);\n      await sendCommentNews(id, user.id, textAreaComment, setFetchingStatus);\n      await getNewsFromID(id, setFetchedComments, setReacionState);\n      setFetchingStatus(false);\n      setTextAreaComment('');\n      setSmileStatus(false);\n    };\n    if (textAreaComment) {\n      sendAndGetComments();\n    }\n  };\n  let addLikeButtonHandler = e => {\n    let sendAndGetLikes = async () => {\n      setFetchingStatus(true);\n      await toggleLike(id, user.id, 'like');\n      await getNewsFromID(id, setFetchedComments, setReacionState);\n      setFetchingStatus(false);\n    };\n    sendAndGetLikes();\n  };\n  let removeLikeButtonHandler = e => {\n    let sendAndGetLikes = async () => {\n      setFetchingStatus(true);\n      await toggleLike(id, user.id, '0');\n      await getNewsFromID(id, setFetchedComments, setReacionState, id);\n      setReacionStatus(false);\n      setFetchingStatus(false);\n    };\n    sendAndGetLikes();\n  };\n  let onClickVisibleButtonHandler = e => {\n    toggleVisibleStatus(status => visibleStatus = !status);\n    setSmileStatus(false);\n    if (!isSeenStatus) {\n      let changeViews = async () => {\n        await changeIdSeenNews();\n        let relustItem = await getNewsFromID(id, setFetchedComments, setReacionState);\n        setCurrentViews(relustItem[0].views);\n      };\n      changeViews();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${s.item} ${visibleStatus && s.active}`,\n    children: [adminStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.admin_btns,\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: `./add-change-news/${id}`,\n        title: \"\\u0420\\u0435\\u0434\\u0430\\u0433\\u0443\\u0432\\u0430\\u0442\\u0438\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: changeIcon,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.left_column,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: s.title,\n        children: title && title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: s.date,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: clockIcon,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 6\n        }, this), pub_date && toDay === pub_date.slice(0, 10) ? `Сьогодні ${pub_date.slice(11, 16)}` : `${pub_date.slice(8, 10)}-${pub_date.slice(5, 7)}-${pub_date.slice(0, 4)} ${pub_date.slice(11, 16)}`]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.tags,\n        children: tags && tags.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: '#5182FE'\n          },\n          className: s.tag,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 9\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 8\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 5\n      }, this), !visibleStatus && currentText ? /*#__PURE__*/_jsxDEV(\"p\", {\n        ref: refText,\n        dangerouslySetInnerHTML: {\n          __html: currentText\n        },\n        className: `${s.text}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        ref: refText,\n        dangerouslySetInnerHTML: {\n          __html: text\n        },\n        className: `${s.text}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 6\n      }, this), currentText && text.length >= 150 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClickVisibleButtonHandler,\n        style: {\n          textDecoration: 'underline',\n          color: '#004795',\n          backgroundColor: 'transparent',\n          marginTop: '6px'\n        },\n        children: visibleStatus ? 'Приховати частину' : 'Показати більше'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.right_column,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.images_container,\n        children: /*#__PURE__*/_jsxDEV(NewsImgSlider, {\n          img: img\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.buttons_container,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.buttons_row,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            title: 'Подобається',\n            onClick: reacionStatus ? removeLikeButtonHandler : addLikeButtonHandler,\n            disabled: fetchingStatus,\n            className: `${s.likes_button} ${reacionStatus && s.liked}`,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: heartIcon,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: reacionStateLength\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            title: 'Коментарі',\n            onClick: commentButtonOnClickHandler,\n            className: s.coments_button,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: commentsIcon,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: commentsLength\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: s.views,\n            children: [\"\\u041F\\u0435\\u0440\\u0435\\u0433\\u043B\\u044F\\u0434\\u0438: \", currentViews ? currentViews : '0']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.commet_container,\n        children: [fetchedComments && /*#__PURE__*/_jsxDEV(CommentsList, {\n          comment: fetchedComments\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.coments_input,\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: textAreaComment,\n            onKeyDown: e => e.key === 'Enter' && sendCommetnButtonOnClickHandler(e),\n            onChange: e => setTextAreaComment(e.target.value),\n            ref: ref,\n            placeholder: \"\\u0412\\u0430\\u0448 \\u043A\\u043E\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440...\",\n            name: \"\",\n            id: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: s.coments_input__btns,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              title: 'Смайлики',\n              disabled: fetchingStatus,\n              onClick: () => setSmileStatus(status => !status),\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: smileIcon,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              title: 'Додати коментар',\n              disabled: fetchingStatus,\n              onClick: sendCommetnButtonOnClickHandler,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: mailIcon,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(EmojiList, {\n          visibleStatus: smileStatus,\n          setSmile: setTextAreaComment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      title: visibleStatus ? 'Згорнути' : 'Розгорнути',\n      className: s.open_button,\n      onClick: onClickVisibleButtonHandler,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: arrowIcon,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 3\n  }, this);\n};\n_s(NewsItem, \"xz32uLrs3tO0L3BpAvEC3npvaIU=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = NewsItem;\nexport default NewsItem;\nvar _c;\n$RefreshReg$(_c, \"NewsItem\");","map":{"version":3,"names":["useEffect","useRef","useState","s","arrowIcon","heartIcon","commentsIcon","changeIcon","smileIcon","clockIcon","mailIcon","CommentsList","addIdToSeenNews","getNewsFromID","sendCommentNews","toggleLike","useDispatch","useSelector","userSelector","EmojiList","Link","fetchSeenNews","NewsImgSlider","jsxDEV","_jsxDEV","toDay","Date","toJSON","slice","NewsItem","item","filterParams","adminStatus","_s","ref","refText","dispatch","userSeenNews","user","userData","id","title","pub_date","tags","text","img","comment","reaction","views","fetchedComments","setFetchedComments","commentsLength","setCommentsLenth","textAreaComment","setTextAreaComment","reacionState","setReacionState","reacionStateLength","setReacionStateLenth","reacionStatus","setReacionStatus","currentViews","setCurrentViews","currentText","setCurrentText","visibleStatus","toggleVisibleStatus","fetchingStatus","setFetchingStatus","smileStatus","setSmileStatus","isSeenStatus","setSeenStatus","findReactionStatus","state1","likeStatus","forEach","el","UserCode","changeIdSeenNews","result","status","kitcut","limit","length","substring","lastIndex","lastIndexOf","element","commentButtonOnClickHandler","e","changeViews","relustItem","setTimeout","current","focus","sendCommetnButtonOnClickHandler","sendAndGetComments","addLikeButtonHandler","sendAndGetLikes","removeLikeButtonHandler","onClickVisibleButtonHandler","className","active","children","admin_btns","to","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","left_column","date","map","index","style","backgroundColor","tag","dangerouslySetInnerHTML","__html","onClick","textDecoration","color","marginTop","right_column","images_container","buttons_container","buttons_row","disabled","likes_button","liked","coments_button","commet_container","coments_input","value","onKeyDown","key","onChange","target","placeholder","name","coments_input__btns","setSmile","open_button","_c","$RefreshReg$"],"sources":["C:/Users/zhuikov/OneDrive - SOFTCOM/Desktop/web/2024/korportal/src/components/NewsItem/NewsItem.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\nimport s from './NewsItem.module.css';\r\nimport arrowIcon from '../../assets/img/icons/arrow-down-icon.svg';\r\nimport heartIcon from '../../assets/img/icons/heart-icon.svg';\r\nimport commentsIcon from '../../assets/img/icons/comments-icon.svg';\r\nimport changeIcon from '../../assets/img/icons/pencil-icon.svg';\r\nimport smileIcon from '../../assets/img/icons/smile-icon.svg';\r\nimport clockIcon from '../../assets/img/icons/clock-icon.svg';\r\nimport mailIcon from '../../assets/img/icons/paper-plane-icon.svg';\r\nimport CommentsList from '../CommentsList/CommentsList';\r\nimport { addIdToSeenNews, getNewsFromID, sendCommentNews, toggleLike } from '../../api/api';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { userSelector } from '../../selectors/userSelectors';\r\nimport EmojiList from '../EmojiList/EmojiList';\r\nimport { Link } from 'react-router-dom';\r\nimport { fetchSeenNews } from '../../store/thunks';\r\nimport NewsImgSlider from '../NewsImgSlider/NewsImgSlider';\r\n\r\nconst toDay = new Date().toJSON().slice(0, 10);\r\n\r\nconst NewsItem = ({ item, filterParams, adminStatus }) => {\r\n\tlet ref = useRef();\r\n\tlet refText = useRef();\r\n\tconst dispatch = useDispatch();\r\n\r\n\tlet userSeenNews = useSelector(userSelector.userSeenNews);\r\n\tlet user = useSelector(userSelector.userData);\r\n\tlet { id, title, pub_date, tags, text, img, comment, reaction, views } = item;\r\n\r\n\tlet [fetchedComments, setFetchedComments] = useState(null);\r\n\tlet [commentsLength, setCommentsLenth] = useState(0);\r\n\tlet [textAreaComment, setTextAreaComment] = useState('');\r\n\r\n\tlet [reacionState, setReacionState] = useState(null);\r\n\tlet [reacionStateLength, setReacionStateLenth] = useState(0);\r\n\tlet [reacionStatus, setReacionStatus] = useState(false);\r\n\r\n\tlet [currentViews, setCurrentViews] = useState(null);\r\n\r\n\tlet [currentText, setCurrentText] = useState(null);\r\n\r\n\tlet [visibleStatus, toggleVisibleStatus] = useState(false);\r\n\tlet [fetchingStatus, setFetchingStatus] = useState(false);\r\n\tlet [smileStatus, setSmileStatus] = useState(false);\r\n\tlet [isSeenStatus, setSeenStatus] = useState(false);\r\n\r\n\t// functions\r\n\tconst findReactionStatus = (state1) => {\r\n\t\tif (state1) {\r\n\t\t\tlet likeStatus = false;\r\n\r\n\t\t\tstate1.forEach((el) => {\r\n\t\t\t\tif (el.UserCode && user.id && el.UserCode === user.id) {\r\n\t\t\t\t\tsetReacionStatus(true);\r\n\t\t\t\t\tlikeStatus = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (!likeStatus) {\r\n\t\t\t\tsetReacionStatus(false);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetReacionStatus(false);\r\n\t\t}\r\n\t};\r\n\tconst changeIdSeenNews = async () => {\r\n\t\tlet result = await addIdToSeenNews(id, user.id);\r\n\t\tresult.status === 200 && dispatch(fetchSeenNews(user.id));\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (text) {\r\n\t\t\tfunction kitcut(text, limit) {\r\n\t\t\t\tif (text.length >= limit) {\r\n\t\t\t\t\tlet currentText = text.substring(0, limit);\r\n\t\t\t\t\tlet lastIndex = currentText.lastIndexOf(' '); // позиция последнего пробела\r\n\t\t\t\t\tcurrentText = currentText.substring(0, lastIndex) + '...'; // обрезаем до последнего слова\r\n\t\t\t\t\treturn currentText;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn text;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet currentText = kitcut(text, 150);\r\n\r\n\t\t\tsetCurrentText(currentText);\r\n\t\t}\r\n\t}, [text]);\r\n\r\n\t// for close tab\r\n\tuseEffect(() => {\r\n\t\ttoggleVisibleStatus(false);\r\n\t\tsetSmileStatus(false);\r\n\r\n\t\treturn () => {\r\n\t\t\ttoggleVisibleStatus(false);\r\n\t\t\tsetSmileStatus(false);\r\n\t\t};\r\n\t}, [filterParams]);\r\n\r\n\t// this item is seen?\r\n\tuseEffect(() => {\r\n\t\tuserSeenNews.forEach((element) => {\r\n\t\t\tif (element == id) {\r\n\t\t\t\tsetSeenStatus(true);\r\n\t\t\t}\r\n\t\t});\r\n\t}, [userSeenNews]);\r\n\r\n\t// reactions\r\n\tuseEffect(() => {\r\n\t\tsetReacionState(reaction);\r\n\t\tfindReactionStatus(reaction);\r\n\t}, [reaction]);\r\n\tuseEffect(() => {\r\n\t\t!reacionState && setReacionStateLenth(0);\r\n\t\treacionState && setReacionStateLenth(reacionState.length);\r\n\t\treacionState && user && findReactionStatus(reacionState);\r\n\t}, [reacionState, user]);\r\n\r\n\t// comments\r\n\tuseEffect(() => {\r\n\t\tsetFetchedComments(comment);\r\n\t}, [comment]);\r\n\tuseEffect(() => {\r\n\t\tfetchedComments && setCommentsLenth(fetchedComments.length);\r\n\t}, [fetchedComments]);\r\n\r\n\tuseEffect(() => {\r\n\t\tviews && setCurrentViews(views);\r\n\t}, [views]);\r\n\r\n\t// Handlers\r\n\tlet commentButtonOnClickHandler = (e) => {\r\n\t\tif (!visibleStatus) {\r\n\t\t\ttoggleVisibleStatus(true);\r\n\t\t}\r\n\t\tif (!isSeenStatus) {\r\n\t\t\tlet changeViews = async () => {\r\n\t\t\t\tawait changeIdSeenNews();\r\n\t\t\t\tlet relustItem = await getNewsFromID(id, setFetchedComments, setReacionState);\r\n\t\t\t\tsetCurrentViews(relustItem[0].views);\r\n\t\t\t};\r\n\r\n\t\t\tchangeViews();\r\n\t\t}\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tref.current.focus();\r\n\t\t}, 100);\r\n\t};\r\n\tlet sendCommetnButtonOnClickHandler = (e) => {\r\n\t\tlet sendAndGetComments = async () => {\r\n\t\t\tsetFetchingStatus(true);\r\n\t\t\tawait sendCommentNews(id, user.id, textAreaComment, setFetchingStatus);\r\n\t\t\tawait getNewsFromID(id, setFetchedComments, setReacionState);\r\n\t\t\tsetFetchingStatus(false);\r\n\t\t\tsetTextAreaComment('');\r\n\t\t\tsetSmileStatus(false);\r\n\t\t};\r\n\t\tif (textAreaComment) {\r\n\t\t\tsendAndGetComments();\r\n\t\t}\r\n\t};\r\n\tlet addLikeButtonHandler = (e) => {\r\n\t\tlet sendAndGetLikes = async () => {\r\n\t\t\tsetFetchingStatus(true);\r\n\t\t\tawait toggleLike(id, user.id, 'like');\r\n\t\t\tawait getNewsFromID(id, setFetchedComments, setReacionState);\r\n\t\t\tsetFetchingStatus(false);\r\n\t\t};\r\n\t\tsendAndGetLikes();\r\n\t};\r\n\tlet removeLikeButtonHandler = (e) => {\r\n\t\tlet sendAndGetLikes = async () => {\r\n\t\t\tsetFetchingStatus(true);\r\n\t\t\tawait toggleLike(id, user.id, '0');\r\n\t\t\tawait getNewsFromID(id, setFetchedComments, setReacionState, id);\r\n\t\t\tsetReacionStatus(false);\r\n\t\t\tsetFetchingStatus(false);\r\n\t\t};\r\n\r\n\t\tsendAndGetLikes();\r\n\t};\r\n\tlet onClickVisibleButtonHandler = (e) => {\r\n\t\ttoggleVisibleStatus((status) => (visibleStatus = !status));\r\n\t\tsetSmileStatus(false);\r\n\t\tif (!isSeenStatus) {\r\n\t\t\tlet changeViews = async () => {\r\n\t\t\t\tawait changeIdSeenNews();\r\n\t\t\t\tlet relustItem = await getNewsFromID(id, setFetchedComments, setReacionState);\r\n\t\t\t\tsetCurrentViews(relustItem[0].views);\r\n\t\t\t};\r\n\r\n\t\t\tchangeViews();\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`${s.item} ${visibleStatus && s.active}`}>\r\n\t\t\t{adminStatus && (\r\n\t\t\t\t<div className={s.admin_btns}>\r\n\t\t\t\t\t<Link to={`./add-change-news/${id}`} title=\"Редагувати\">\r\n\t\t\t\t\t\t<img src={changeIcon} alt=\"\" />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className={s.left_column}>\r\n\t\t\t\t<p className={s.title}>{title && title}</p>\r\n\t\t\t\t<p className={s.date}>\r\n\t\t\t\t\t<img src={clockIcon} alt=\"\" />\r\n\t\t\t\t\t{pub_date && toDay === pub_date.slice(0, 10)\r\n\t\t\t\t\t\t? `Сьогодні ${pub_date.slice(11, 16)}`\r\n\t\t\t\t\t\t: `${pub_date.slice(8, 10)}-${pub_date.slice(5, 7)}-${pub_date.slice(0, 4)} ${pub_date.slice(11, 16)}`}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className={s.tags}>\r\n\t\t\t\t\t{tags &&\r\n\t\t\t\t\t\ttags.map((item, index) => (\r\n\t\t\t\t\t\t\t<div key={index} style={{ backgroundColor: '#5182FE' }} className={s.tag}>\r\n\t\t\t\t\t\t\t\t<p>{item}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t\t{!visibleStatus && currentText ? (\r\n\t\t\t\t\t<p ref={refText} dangerouslySetInnerHTML={{ __html: currentText }} className={`${s.text}`} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p ref={refText} dangerouslySetInnerHTML={{ __html: text }} className={`${s.text}`} />\r\n\t\t\t\t)}\r\n\t\t\t\t{currentText && text.length >= 150 && (\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={onClickVisibleButtonHandler}\r\n\t\t\t\t\t\tstyle={{ textDecoration: 'underline', color: '#004795', backgroundColor: 'transparent', marginTop: '6px' }}>\r\n\t\t\t\t\t\t{visibleStatus ? 'Приховати частину' : 'Показати більше'}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className={s.right_column}>\r\n\t\t\t\t<div className={s.images_container}>\r\n\t\t\t\t\t<NewsImgSlider img={img} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.buttons_container}>\r\n\t\t\t\t\t<div className={s.buttons_row}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttitle={'Подобається'}\r\n\t\t\t\t\t\t\tonClick={reacionStatus ? removeLikeButtonHandler : addLikeButtonHandler}\r\n\t\t\t\t\t\t\tdisabled={fetchingStatus}\r\n\t\t\t\t\t\t\tclassName={`${s.likes_button} ${reacionStatus && s.liked}`}>\r\n\t\t\t\t\t\t\t<img src={heartIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t<p>{reacionStateLength}</p>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button title={'Коментарі'} onClick={commentButtonOnClickHandler} className={s.coments_button}>\r\n\t\t\t\t\t\t\t<img src={commentsIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t<p>{commentsLength}</p>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className={s.views}>Перегляди: {currentViews ? currentViews : '0'}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.commet_container}>\r\n\t\t\t\t\t{fetchedComments && <CommentsList comment={fetchedComments} />}\r\n\t\t\t\t\t<div className={s.coments_input}>\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\tvalue={textAreaComment}\r\n\t\t\t\t\t\t\tonKeyDown={(e) => e.key === 'Enter' && sendCommetnButtonOnClickHandler(e)}\r\n\t\t\t\t\t\t\tonChange={(e) => setTextAreaComment(e.target.value)}\r\n\t\t\t\t\t\t\tref={ref}\r\n\t\t\t\t\t\t\tplaceholder=\"Ваш коментар...\"\r\n\t\t\t\t\t\t\tname=\"\"\r\n\t\t\t\t\t\t\tid=\"\"></textarea>\r\n\t\t\t\t\t\t<div className={s.coments_input__btns}>\r\n\t\t\t\t\t\t\t<button title={'Смайлики'} disabled={fetchingStatus} onClick={() => setSmileStatus((status) => !status)}>\r\n\t\t\t\t\t\t\t\t<img src={smileIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button title={'Додати коментар'} disabled={fetchingStatus} onClick={sendCommetnButtonOnClickHandler}>\r\n\t\t\t\t\t\t\t\t<img src={mailIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<EmojiList visibleStatus={smileStatus} setSmile={setTextAreaComment} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<button title={visibleStatus ? 'Згорнути' : 'Розгорнути'} className={s.open_button} onClick={onClickVisibleButtonHandler}>\r\n\t\t\t\t<img src={arrowIcon} alt=\"\" />\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NewsItem;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}