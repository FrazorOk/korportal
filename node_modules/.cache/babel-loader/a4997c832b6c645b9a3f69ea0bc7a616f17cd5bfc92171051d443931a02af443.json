{"ast":null,"code":"import{useEffect,useState}from'react';import{useParams,useSearchParams}from'react-router-dom';import{getHolidayFromID}from'../../api/api';import{useRedirectAdmin}from'../../hooks/useRedirectHook';import{useScrollToTop}from'../../hooks/scrollToTop';import GoBackButton from'../../components/UI/GoBackButton/GoBackButton';import AdminNewsSection from'./AdminNewsSection/AdminNewsSection';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminAddChangeCompanyMarketingNewsPage=()=>{let{statusAdmin}=useRedirectAdmin();let{newsId}=useParams();let[data,setData]=useState({});let[type,setType]=useState(false);const[searchParams,setSearchParams]=useSearchParams();useScrollToTop();useEffect(()=>{if(newsId&&statusAdmin){let getNews=async()=>{let result=await getHolidayFromID(newsId,type==='marketing'?3:4,2);setData(result[0]);console.log(result);};getNews();}},[newsId,statusAdmin]);useEffect(()=>{let typeParams=searchParams.get('type');if(typeParams)setType(typeParams);},[searchParams]);return/*#__PURE__*/_jsx(_Fragment,{children:statusAdmin&&/*#__PURE__*/_jsxs(\"div\",{children:[newsId?/*#__PURE__*/_jsxs(\"h1\",{children:[\"\\u0420\\u0435\\u0434\\u0430\\u0433\\u0443\\u0432\\u0430\\u043D\\u043D\\u044F \\u043D\\u043E\\u0432\\u0438\\u043D\\u0438 \",type&&type==='marketing'?'маркетингу':'компанії']}):/*#__PURE__*/_jsxs(\"h1\",{children:[\"\\u0421\\u0442\\u0432\\u043E\\u0440\\u0435\\u043D\\u043D\\u044F \\u043D\\u043E\\u0432\\u0438\\u043D\\u0438 \",type&&type==='marketing'?'маркетингу':'компанії']}),/*#__PURE__*/_jsx(GoBackButton,{toLink:`/admin-company-marketing-news?activetab=${type&&type==='marketing'?'0':'1'}`}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"column-50\",children:/*#__PURE__*/_jsx(AdminNewsSection,{newsId:newsId,data:data,type:type})})})]})});};export default AdminAddChangeCompanyMarketingNewsPage;","map":{"version":3,"names":["useEffect","useState","useParams","useSearchParams","getHolidayFromID","useRedirectAdmin","useScrollToTop","GoBackButton","AdminNewsSection","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","AdminAddChangeCompanyMarketingNewsPage","statusAdmin","newsId","data","setData","type","setType","searchParams","setSearchParams","getNews","result","console","log","typeParams","get","children","toLink","className"],"sources":["E:/WEB/korportal-master/src/pages/AdminAddChangeCompanyMarketingNewsPage/AdminAddChangeCompanyMarketingNewsPage.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useParams, useSearchParams } from 'react-router-dom';\r\nimport { getHolidayFromID } from '../../api/api';\r\nimport { useRedirectAdmin } from '../../hooks/useRedirectHook';\r\nimport { useScrollToTop } from '../../hooks/scrollToTop';\r\nimport GoBackButton from '../../components/UI/GoBackButton/GoBackButton';\r\nimport AdminNewsSection from './AdminNewsSection/AdminNewsSection';\r\n\r\nconst AdminAddChangeCompanyMarketingNewsPage = () => {\r\n\tlet { statusAdmin } = useRedirectAdmin();\r\n\tlet { newsId } = useParams();\r\n\tlet [data, setData] = useState({});\r\n\tlet [type, setType] = useState(false);\r\n\r\n\tconst [searchParams, setSearchParams] = useSearchParams();\r\n\r\n\tuseScrollToTop();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (newsId && statusAdmin) {\r\n\t\t\tlet getNews = async () => {\r\n\t\t\t\tlet result = await getHolidayFromID(newsId, type === 'marketing' ? 3 : 4, 2);\r\n\t\t\t\tsetData(result[0]);\r\n\t\t\t\tconsole.log(result);\r\n\t\t\t};\r\n\t\t\tgetNews();\r\n\t\t}\r\n\t}, [newsId, statusAdmin]);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet typeParams = searchParams.get('type');\r\n\t\tif (typeParams) setType(typeParams);\r\n\t}, [searchParams]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{statusAdmin && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{newsId ? (\r\n\t\t\t\t\t\t<h1>Редагування новини {type && type === 'marketing' ? 'маркетингу' : 'компанії'}</h1>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h1>Створення новини {type && type === 'marketing' ? 'маркетингу' : 'компанії'}</h1>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<GoBackButton toLink={`/admin-company-marketing-news?activetab=${type && type === 'marketing' ? '0' : '1'}`} />\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"column-50\">\r\n\t\t\t\t\t\t\t<AdminNewsSection newsId={newsId} data={data} type={type} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default AdminAddChangeCompanyMarketingNewsPage;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,SAAS,CAAEC,eAAe,KAAQ,kBAAkB,CAC7D,OAASC,gBAAgB,KAAQ,eAAe,CAChD,OAASC,gBAAgB,KAAQ,6BAA6B,CAC9D,OAASC,cAAc,KAAQ,yBAAyB,CACxD,MAAO,CAAAC,YAAY,KAAM,+CAA+C,CACxE,MAAO,CAAAC,gBAAgB,KAAM,qCAAqC,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEnE,KAAM,CAAAC,sCAAsC,CAAGA,CAAA,GAAM,CACpD,GAAI,CAAEC,WAAY,CAAC,CAAGX,gBAAgB,CAAC,CAAC,CACxC,GAAI,CAAEY,MAAO,CAAC,CAAGf,SAAS,CAAC,CAAC,CAC5B,GAAI,CAACgB,IAAI,CAAEC,OAAO,CAAC,CAAGlB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAClC,GAAI,CAACmB,IAAI,CAAEC,OAAO,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CAErC,KAAM,CAACqB,YAAY,CAAEC,eAAe,CAAC,CAAGpB,eAAe,CAAC,CAAC,CAEzDG,cAAc,CAAC,CAAC,CAEhBN,SAAS,CAAC,IAAM,CACf,GAAIiB,MAAM,EAAID,WAAW,CAAE,CAC1B,GAAI,CAAAQ,OAAO,CAAG,KAAAA,CAAA,GAAY,CACzB,GAAI,CAAAC,MAAM,CAAG,KAAM,CAAArB,gBAAgB,CAACa,MAAM,CAAEG,IAAI,GAAK,WAAW,CAAG,CAAC,CAAG,CAAC,CAAE,CAAC,CAAC,CAC5ED,OAAO,CAACM,MAAM,CAAC,CAAC,CAAC,CAAC,CAClBC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC,CACpB,CAAC,CACDD,OAAO,CAAC,CAAC,CACV,CACD,CAAC,CAAE,CAACP,MAAM,CAAED,WAAW,CAAC,CAAC,CAEzBhB,SAAS,CAAC,IAAM,CACf,GAAI,CAAA4B,UAAU,CAAGN,YAAY,CAACO,GAAG,CAAC,MAAM,CAAC,CACzC,GAAID,UAAU,CAAEP,OAAO,CAACO,UAAU,CAAC,CACpC,CAAC,CAAE,CAACN,YAAY,CAAC,CAAC,CAElB,mBACCV,IAAA,CAAAE,SAAA,EAAAgB,QAAA,CACEd,WAAW,eACXN,KAAA,QAAAoB,QAAA,EACEb,MAAM,cACNP,KAAA,OAAAoB,QAAA,EAAI,0GAAmB,CAACV,IAAI,EAAIA,IAAI,GAAK,WAAW,CAAG,YAAY,CAAG,UAAU,EAAK,CAAC,cAEtFV,KAAA,OAAAoB,QAAA,EAAI,8FAAiB,CAACV,IAAI,EAAIA,IAAI,GAAK,WAAW,CAAG,YAAY,CAAG,UAAU,EAAK,CACnF,cAEDR,IAAA,CAACL,YAAY,EAACwB,MAAM,CAAE,2CAA2CX,IAAI,EAAIA,IAAI,GAAK,WAAW,CAAG,GAAG,CAAG,GAAG,EAAG,CAAE,CAAC,cAE/GR,IAAA,QAAKoB,SAAS,CAAC,KAAK,CAAAF,QAAA,cACnBlB,IAAA,QAAKoB,SAAS,CAAC,WAAW,CAAAF,QAAA,cACzBlB,IAAA,CAACJ,gBAAgB,EAACS,MAAM,CAAEA,MAAO,CAACC,IAAI,CAAEA,IAAK,CAACE,IAAI,CAAEA,IAAK,CAAE,CAAC,CACxD,CAAC,CACF,CAAC,EACF,CACL,CACA,CAAC,CAEL,CAAC,CAED,cAAe,CAAAL,sCAAsC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}