{"ast":null,"code":"import s from'./AdminPostSection.module.css';import{useState}from'react';import smileIcon from'../../../assets/img/icons/smile-icon.svg';import EmojiList from'../../../components/EmojiList/EmojiList';import ModalWidnow from'../../../components/UI/ModalWidnow/ModalWidnow';import UsersList from'../../../components/UsersList/UsersList';import UserInfoModalBtn from'../../../components/UserInfoModalBtn/UserInfoModalBtn';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const FormTextBlock=_ref=>{let{text,setText,validationErrors}=_ref;let[visibleStatus2,setVisibleStatus2]=useState(false);let[selectionStart,setSelectionStart]=useState(null);let[selectionEnd,setSelectionEnd]=useState(null);let[modalStatus,setModalStatus]=useState(false);const boldBtnOnClickHandler=e=>{e.preventDefault();let tagStart='';let tagEnd='';let target=e.target.innerHTML;console.log(target);if(target==='b'){tagStart='<b>';tagEnd='</b>';}if(target==='i'){tagStart='<i>';tagEnd='</i>';}if(target==='u'){tagStart='<span style=\"text-decoration:underline\">';tagEnd='</span>';}if(target==='link'){const result=prompt('Введіть посилання');tagStart=`<a href=\"${result}\">`;tagEnd='</a>';}setText(currentText=>{const selectedText=currentText.slice(selectionStart,selectionEnd);const newText=currentText.slice(0,selectionStart)+tagStart+selectedText+tagEnd+currentText.slice(selectionEnd);return newText;});};const addUserModalHandler=e=>{e.preventDefault();setModalStatus(true);};const addUserLinkHandler=(userId,userName)=>{let tagStart=`<a href=\"${userId}\"><p>{${userName}}</p></a>`;setText(currentText=>{const newText=currentText.slice(0,selectionStart)+tagStart+currentText.slice(selectionEnd);return newText;});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:s.post_item,children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0422\\u0435\\u043A\\u0441\\u0442 \\u043F\\u043E\\u0434\\u0456\\u0457:\",/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'20px',color:'red'},title:\"\\u041E\\u0431\\u043E\\u0432`\\u044F\\u0437\\u043A\\u043E\\u0432\\u0435\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.row_btns,children:[/*#__PURE__*/_jsx(\"button\",{onClick:boldBtnOnClickHandler,children:/*#__PURE__*/_jsx(\"b\",{children:\"b\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:boldBtnOnClickHandler,children:/*#__PURE__*/_jsx(\"i\",{children:\"i\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:boldBtnOnClickHandler,children:/*#__PURE__*/_jsx(\"span\",{style:{textDecoration:'underline'},children:\"u\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:boldBtnOnClickHandler,children:/*#__PURE__*/_jsx(\"span\",{children:\"link\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:addUserModalHandler,children:/*#__PURE__*/_jsx(\"span\",{children:\"#user\"})})]}),/*#__PURE__*/_jsx(\"textarea\",{value:text,onSelect:e=>{setSelectionStart(e.target.selectionStart);setSelectionEnd(e.target.selectionEnd);},onChange:e=>{setText(e.target.value);},placeholder:\"\\u0422\\u0435\\u043A\\u0441\\u0442 \\u043F\\u043E\\u0434\\u0456\\u0457\",className:`${s.text} ${validationErrors.text?s.validated:''}`}),/*#__PURE__*/_jsx(\"button\",{title:\"\\u0421\\u043C\\u0430\\u0439\\u043B\\u0438\\u043A\\u0438\",onClick:e=>{e.preventDefault();setVisibleStatus2(status=>!status);},className:s.smile_button,children:/*#__PURE__*/_jsx(\"img\",{src:smileIcon,alt:\"\"})}),/*#__PURE__*/_jsx(EmojiList,{visibleStatus:visibleStatus2,setSmile:setText})]}),modalStatus&&/*#__PURE__*/_jsx(ModalWidnow,{closeModal:()=>setModalStatus(false),children:/*#__PURE__*/_jsx(UsersList,{addLinkHandler:addUserLinkHandler})})]});};export default FormTextBlock;","map":{"version":3,"names":["s","useState","smileIcon","EmojiList","ModalWidnow","UsersList","UserInfoModalBtn","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FormTextBlock","_ref","text","setText","validationErrors","visibleStatus2","setVisibleStatus2","selectionStart","setSelectionStart","selectionEnd","setSelectionEnd","modalStatus","setModalStatus","boldBtnOnClickHandler","e","preventDefault","tagStart","tagEnd","target","innerHTML","console","log","result","prompt","currentText","selectedText","slice","newText","addUserModalHandler","addUserLinkHandler","userId","userName","children","className","post_item","style","fontSize","color","title","row_btns","onClick","textDecoration","value","onSelect","onChange","placeholder","validated","status","smile_button","src","alt","visibleStatus","setSmile","closeModal","addLinkHandler"],"sources":["C:/Users/zhuikov/OneDrive - SOFTCOM/Desktop/web/2024/korportal/src/pages/AdminAddChangeNewsPage/AdminPostSection/FormTextBlock.jsx"],"sourcesContent":["import s from './AdminPostSection.module.css';\r\nimport { useState } from 'react';\r\nimport smileIcon from '../../../assets/img/icons/smile-icon.svg';\r\nimport EmojiList from '../../../components/EmojiList/EmojiList';\r\nimport ModalWidnow from '../../../components/UI/ModalWidnow/ModalWidnow';\r\nimport UsersList from '../../../components/UsersList/UsersList';\r\nimport UserInfoModalBtn from '../../../components/UserInfoModalBtn/UserInfoModalBtn';\r\n\r\nconst FormTextBlock = ({ text, setText, validationErrors }) => {\r\n\tlet [visibleStatus2, setVisibleStatus2] = useState(false);\r\n\tlet [selectionStart, setSelectionStart] = useState(null);\r\n\tlet [selectionEnd, setSelectionEnd] = useState(null);\r\n\tlet [modalStatus, setModalStatus] = useState(false);\r\n\r\n\tconst boldBtnOnClickHandler = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tlet tagStart = '';\r\n\t\tlet tagEnd = '';\r\n\t\tlet target = e.target.innerHTML;\r\n\r\n\t\tconsole.log(target);\r\n\r\n\t\tif (target === 'b') {\r\n\t\t\ttagStart = '<b>';\r\n\t\t\ttagEnd = '</b>';\r\n\t\t}\r\n\t\tif (target === 'i') {\r\n\t\t\ttagStart = '<i>';\r\n\t\t\ttagEnd = '</i>';\r\n\t\t}\r\n\t\tif (target === 'u') {\r\n\t\t\ttagStart = '<span style=\"text-decoration:underline\">';\r\n\t\t\ttagEnd = '</span>';\r\n\t\t}\r\n\t\tif (target === 'link') {\r\n\t\t\tconst result = prompt('Введіть посилання');\r\n\t\t\ttagStart = `<a href=\"${result}\">`;\r\n\t\t\ttagEnd = '</a>';\r\n\t\t}\r\n\r\n\t\tsetText((currentText) => {\r\n\t\t\tconst selectedText = currentText.slice(selectionStart, selectionEnd);\r\n\t\t\tconst newText = currentText.slice(0, selectionStart) + tagStart + selectedText + tagEnd + currentText.slice(selectionEnd);\r\n\t\t\treturn newText;\r\n\t\t});\r\n\t};\r\n\tconst addUserModalHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetModalStatus(true);\r\n\t};\r\n\tconst addUserLinkHandler = (userId, userName) => {\r\n\t\tlet tagStart = `<a href=\"${userId}\"><p>{${userName}}</p></a>`;\r\n\r\n\t\tsetText((currentText) => {\r\n\t\t\tconst newText = currentText.slice(0, selectionStart) + tagStart + currentText.slice(selectionEnd);\r\n\t\t\treturn newText;\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={s.post_item}>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tТекст події:\r\n\t\t\t\t\t<span style={{ fontSize: '20px', color: 'red' }} title=\"Обов`язкове\">\r\n\t\t\t\t\t\t*\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className={s.row_btns}>\r\n\t\t\t\t\t<button onClick={boldBtnOnClickHandler}>\r\n\t\t\t\t\t\t<b>b</b>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button onClick={boldBtnOnClickHandler}>\r\n\t\t\t\t\t\t<i>i</i>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button onClick={boldBtnOnClickHandler}>\r\n\t\t\t\t\t\t<span style={{ textDecoration: 'underline' }}>u</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button onClick={boldBtnOnClickHandler}>\r\n\t\t\t\t\t\t<span>link</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button onClick={addUserModalHandler}>\r\n\t\t\t\t\t\t<span>#user</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tvalue={text}\r\n\t\t\t\t\tonSelect={(e) => {\r\n\t\t\t\t\t\tsetSelectionStart(e.target.selectionStart);\r\n\t\t\t\t\t\tsetSelectionEnd(e.target.selectionEnd);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tsetText(e.target.value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tplaceholder=\"Текст події\"\r\n\t\t\t\t\tclassName={`${s.text} ${validationErrors.text ? s.validated : ''}`}></textarea>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttitle=\"Смайлики\"\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tsetVisibleStatus2((status) => !status);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName={s.smile_button}>\r\n\t\t\t\t\t<img src={smileIcon} alt=\"\" />\r\n\t\t\t\t</button>\r\n\t\t\t\t<EmojiList visibleStatus={visibleStatus2} setSmile={setText} />\r\n\t\t\t</div>\r\n\r\n\t\t\t{modalStatus && (\r\n\t\t\t\t<ModalWidnow closeModal={() => setModalStatus(false)}>\r\n\t\t\t\t\t<UsersList addLinkHandler={addUserLinkHandler} />\r\n\t\t\t\t</ModalWidnow>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default FormTextBlock;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}