{"ast":null,"code":"import{useEffect,useRef,useState}from'react';import s from'./NewsItemLow.module.css';import arrowIcon from'../../assets/img/icons/arrow-down-icon.svg';import heartIcon from'../../assets/img/icons/heart-icon.svg';import commentsIcon from'../../assets/img/icons/comments-icon.svg';import smileIcon from'../../assets/img/icons/smile-icon.svg';import clockIcon from'../../assets/img/icons/clock-icon.svg';import mailIcon from'../../assets/img/icons/paper-plane-icon.svg';import CommentsList from'../CommentsList/CommentsList';import{addIdToSeenNews,getNewsFromID,sendCommentNews,toggleLike}from'../../api/api';import{Provider,useDispatch,useSelector}from'react-redux';import{userSelector}from'../../selectors/userSelectors';import EmojiList from'../EmojiList/EmojiList';import{Link}from'react-router-dom';import{fetchSeenNews}from'../../store/thunks';import NewsImgSlider from'../NewsImgSlider/NewsImgSlider';import{useOutsideClick}from'../../hooks/useOutsideClick';import EditAdminButton from'../UI/EditAdminButton/EditAdminButton';import UserInfoModalBtn from'../UserInfoModalBtn/UserInfoModalBtn';import ReactDOM from'react-dom/client';import store from'../../store/store';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const toDay=new Date().toJSON().slice(0,10);const NewsItemLow=_ref=>{let{item,filterParams,adminStatus,fullScreen,viewed=false}=_ref;let ref=useRef();let refText=useRef();const dispatch=useDispatch();// select block\nlet[selectorStatus,setSelectorStatus]=useState(false);let[copyLinkStatus,setCopyLinkStatus]=useState(false);let userSeenNews=useSelector(userSelector.userSeenNews);let user=useSelector(userSelector.userData);let{id,title,pub_date,tags,text,html,img,comment,reaction,views}=item;let[fetchedComments,setFetchedComments]=useState(null);let[commentsLength,setCommentsLenth]=useState(0);let[textAreaComment,setTextAreaComment]=useState('');let[reacionState,setReacionState]=useState(null);let[reacionStateLength,setReacionStateLenth]=useState(0);let[reacionStatus,setReacionStatus]=useState(false);let[currentViews,setCurrentViews]=useState(null);let[visibleStatus,toggleVisibleStatus]=useState(false);let[fetchingStatus,setFetchingStatus]=useState(false);let[smileStatus,setSmileStatus]=useState(false);let[isSeenStatus,setSeenStatus]=useState(false);// functions\nconst findReactionStatus=state1=>{if(state1){let likeStatus=false;state1.forEach(el=>{if(el.UserCode&&user.id&&el.UserCode===user.id){setReacionStatus(true);likeStatus=true;}});if(!likeStatus){setReacionStatus(false);}}else{setReacionStatus(false);}};const changeIdSeenNews=async()=>{let result=await addIdToSeenNews(id,user.id);result.status===200&&dispatch(fetchSeenNews(user.id));};let changeViews=async()=>{await changeIdSeenNews();let relustItem=await getNewsFromID(id,setFetchedComments,setReacionState);setCurrentViews(relustItem[0].views);};const uploadComments=async()=>{setFetchingStatus(true);await getNewsFromID(id,setFetchedComments,setReacionState);setFetchingStatus(false);setTextAreaComment('');setSmileStatus(false);};const changeUserLinksToButtons=()=>{setTimeout(()=>{const linksInText=document.querySelectorAll(`._userLink`);console.log(linksInText);linksInText&&linksInText.length>0&&linksInText.forEach(linkInText=>{const exampleAttr1=linkInText.getAttribute('title');const exampleAttr2=linkInText.getAttribute('href');const container=document.createElement('span');linkInText.replaceWith(container);if(container){const root=ReactDOM.createRoot(container);root.render(/*#__PURE__*/_jsx(Provider,{store:store,children:/*#__PURE__*/_jsx(UserInfoModalBtn,{userId:exampleAttr2,children:exampleAttr1})}));}});},0);};useEffect(()=>{if(viewed){toggleVisibleStatus(true);}else{toggleVisibleStatus(false);}},[]);useEffect(()=>{if(viewed&&id&&user.id&&userSeenNews){let seenStatus=false;userSeenNews.forEach(element=>{if(element==id){seenStatus=true;}});if(!seenStatus){changeViews();}}},[id,user.id,userSeenNews]);useEffect(()=>{if(text){changeUserLinksToButtons();}},[text]);// for close tab\nuseEffect(()=>{if(!viewed){toggleVisibleStatus(false);setSmileStatus(false);}return()=>{toggleVisibleStatus(false);setSmileStatus(false);};},[filterParams]);// this item is seen?\nuseEffect(()=>{userSeenNews&&userSeenNews.forEach(element=>{if(element==id){setSeenStatus(true);}});},[userSeenNews]);// reactions\nuseEffect(()=>{setReacionState(reaction);findReactionStatus(reaction);},[reaction]);useEffect(()=>{!reacionState&&setReacionStateLenth(0);reacionState&&setReacionStateLenth(reacionState.length);reacionState&&user&&findReactionStatus(reacionState);},[reacionState,user]);// comments\nuseEffect(()=>{setFetchedComments(comment);},[comment]);useEffect(()=>{fetchedComments&&setCommentsLenth(fetchedComments.length);fetchedComments===null&&setCommentsLenth(0);},[fetchedComments]);useEffect(()=>{views&&setCurrentViews(views);},[views]);// Remove user links\nuseEffect(()=>{changeUserLinksToButtons();},[visibleStatus]);// Handlers\nlet commentButtonOnClickHandler=e=>{if(!visibleStatus){toggleVisibleStatus(true);}if(!isSeenStatus){let changeViews=async()=>{await changeIdSeenNews();let relustItem=await getNewsFromID(id,setFetchedComments,setReacionState);setCurrentViews(relustItem[0].views);};changeViews();}setTimeout(()=>{ref.current.focus();},100);};let sendCommetnButtonOnClickHandler=e=>{let sendAndGetComments=async()=>{setFetchingStatus(true);await sendCommentNews(id,user.id,textAreaComment,setFetchingStatus);await getNewsFromID(id,setFetchedComments,setReacionState);setFetchingStatus(false);setTextAreaComment('');setSmileStatus(false);};if(textAreaComment&&textAreaComment.trim()){sendAndGetComments();}};let addLikeButtonHandler=e=>{let sendAndGetLikes=async()=>{setFetchingStatus(true);await toggleLike(id,user.id,'like');await getNewsFromID(id,setFetchedComments,setReacionState);setFetchingStatus(false);};sendAndGetLikes();};let removeLikeButtonHandler=e=>{let sendAndGetLikes=async()=>{setFetchingStatus(true);await toggleLike(id,user.id,'0');await getNewsFromID(id,setFetchedComments,setReacionState,id);setReacionStatus(false);setFetchingStatus(false);};sendAndGetLikes();};let onClickVisibleButtonHandler=()=>{toggleVisibleStatus(status=>visibleStatus=!status);setSmileStatus(false);if(!isSeenStatus){changeViews();}};return/*#__PURE__*/_jsxs(\"div\",{className:`${s.item} ${visibleStatus&&s.active} ${fullScreen&&s.full_screen}`,children:[adminStatus&&/*#__PURE__*/_jsx(EditAdminButton,{link:`./add-change-news/${id}`}),/*#__PURE__*/_jsxs(\"div\",{className:s.left_column,children:[/*#__PURE__*/_jsxs(\"p\",{className:s.title,children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Link,{className:s.title_link,title:\"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438\",to:`/feed-news/feed-separate-news/${id}`,dangerouslySetInnerHTML:{__html:title}})}),/*#__PURE__*/_jsxs(\"div\",{ref:useOutsideClick(()=>selectorStatus&&setSelectorStatus(false)&&setCopyLinkStatus(false)),className:s.selector_list,children:[/*#__PURE__*/_jsx(\"button\",{title:selectorStatus?'Закрити':'Відкрити',onClick:()=>{setSelectorStatus(selector=>!selector);setCopyLinkStatus(false);},children:/*#__PURE__*/_jsx(\"span\",{})}),/*#__PURE__*/_jsxs(\"ul\",{className:`${s.selector_body} ${selectorStatus&&s.active}`,children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:`/feed-news/feed-separate-news/${id}`,children:\"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438\"})}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{let inp=document.createElement('input');inp.value=`https://portal.softcom.ua/feed-news/feed-separate-news/${id}`;document.body.appendChild(inp);inp.select();if(document.execCommand('copy')){setCopyLinkStatus(true);}else{setCopyLinkStatus(false);}document.body.removeChild(inp);},children:\"\\u041A\\u043E\\u043F\\u0456\\u044E\\u0432\\u0430\\u0442\\u0438 \\u043F\\u043E\\u0441\\u0438\\u043B\\u0430\\u043D\\u043D\\u044F\"}),copyLinkStatus&&/*#__PURE__*/_jsx(\"p\",{style:{color:'green',fontSize:'12px',width:'100%',textAlign:'center'},children:\"\\u0421\\u043A\\u043E\\u043F\\u0456\\u0439\\u043E\\u0432\\u0430\\u043D\\u043E\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:s.date,children:[/*#__PURE__*/_jsx(\"img\",{src:clockIcon,alt:\"\"}),pub_date&&toDay===pub_date.slice(0,10)?`Сьогодні ${pub_date.slice(11,16)}`:`${pub_date.slice(8,10)}-${pub_date.slice(5,7)}-${pub_date.slice(0,4)} ${pub_date.slice(11,16)}`]}),/*#__PURE__*/_jsx(\"div\",{className:s.tags,children:tags&&tags.map((item,index)=>/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#5182FE'},className:s.tag,children:/*#__PURE__*/_jsx(\"p\",{children:item})},index))}),visibleStatus&&/*#__PURE__*/_jsx(\"p\",{ref:refText,dangerouslySetInnerHTML:{__html:text},className:`${s.text}`})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.right_column,children:[img&&visibleStatus&&/*#__PURE__*/_jsx(\"div\",{className:s.images_container,children:/*#__PURE__*/_jsx(NewsImgSlider,{img:img,fullScreen:fullScreen})}),/*#__PURE__*/_jsxs(\"div\",{className:s.buttons_container,children:[/*#__PURE__*/_jsxs(\"div\",{className:s.buttons_row,children:[/*#__PURE__*/_jsxs(\"button\",{title:'Подобається',onClick:reacionStatus?removeLikeButtonHandler:addLikeButtonHandler,disabled:fetchingStatus,className:`${s.likes_button} ${reacionStatus&&s.liked}`,children:[/*#__PURE__*/_jsx(\"img\",{src:heartIcon,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:reacionStateLength})]}),/*#__PURE__*/_jsxs(\"button\",{title:'Коментарі',onClick:commentButtonOnClickHandler,className:s.coments_button,children:[/*#__PURE__*/_jsx(\"img\",{src:commentsIcon,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:commentsLength}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u041A\\u043E\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0456\"})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:s.views,children:[\"\\u041F\\u0435\\u0440\\u0435\\u0433\\u043B\\u044F\\u0434\\u0438: \",currentViews?currentViews:'0']})})]}),visibleStatus&&/*#__PURE__*/_jsxs(\"div\",{className:s.commet_container,children:[fetchedComments&&/*#__PURE__*/_jsx(CommentsList,{comment:fetchedComments,fullScreen:fullScreen,uploadComments:uploadComments}),/*#__PURE__*/_jsxs(\"div\",{className:s.coments_input,children:[/*#__PURE__*/_jsx(\"textarea\",{value:textAreaComment// onKeyDown={(e) => e.key === 'Enter' && sendCommetnButtonOnClickHandler(e)}\n,onChange:e=>setTextAreaComment(e.target.value),ref:ref,placeholder:\"\\u0412\\u0430\\u0448 \\u043A\\u043E\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440...\",name:\"\",id:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:s.coments_input__btns,children:[/*#__PURE__*/_jsx(\"button\",{title:'Смайлики',disabled:fetchingStatus,onClick:()=>setSmileStatus(status=>!status),children:/*#__PURE__*/_jsx(\"img\",{src:smileIcon,alt:\"\"})}),/*#__PURE__*/_jsx(\"button\",{title:'Додати коментар',disabled:fetchingStatus,onClick:sendCommetnButtonOnClickHandler,children:/*#__PURE__*/_jsx(\"img\",{src:mailIcon,alt:\"\"})})]})]}),/*#__PURE__*/_jsx(EmojiList,{visibleStatus:smileStatus,setSmile:setTextAreaComment})]})]}),!viewed&&/*#__PURE__*/_jsx(\"button\",{title:visibleStatus?'Згорнути':'Розгорнути',className:s.open_button,onClick:onClickVisibleButtonHandler,children:/*#__PURE__*/_jsx(\"img\",{src:arrowIcon,alt:\"\"})})]});};export default NewsItemLow;","map":{"version":3,"names":["useEffect","useRef","useState","s","arrowIcon","heartIcon","commentsIcon","smileIcon","clockIcon","mailIcon","CommentsList","addIdToSeenNews","getNewsFromID","sendCommentNews","toggleLike","Provider","useDispatch","useSelector","userSelector","EmojiList","Link","fetchSeenNews","NewsImgSlider","useOutsideClick","EditAdminButton","UserInfoModalBtn","ReactDOM","store","jsx","_jsx","jsxs","_jsxs","toDay","Date","toJSON","slice","NewsItemLow","_ref","item","filterParams","adminStatus","fullScreen","viewed","ref","refText","dispatch","selectorStatus","setSelectorStatus","copyLinkStatus","setCopyLinkStatus","userSeenNews","user","userData","id","title","pub_date","tags","text","html","img","comment","reaction","views","fetchedComments","setFetchedComments","commentsLength","setCommentsLenth","textAreaComment","setTextAreaComment","reacionState","setReacionState","reacionStateLength","setReacionStateLenth","reacionStatus","setReacionStatus","currentViews","setCurrentViews","visibleStatus","toggleVisibleStatus","fetchingStatus","setFetchingStatus","smileStatus","setSmileStatus","isSeenStatus","setSeenStatus","findReactionStatus","state1","likeStatus","forEach","el","UserCode","changeIdSeenNews","result","status","changeViews","relustItem","uploadComments","changeUserLinksToButtons","setTimeout","linksInText","document","querySelectorAll","console","log","length","linkInText","exampleAttr1","getAttribute","exampleAttr2","container","createElement","replaceWith","root","createRoot","render","children","userId","seenStatus","element","commentButtonOnClickHandler","e","current","focus","sendCommetnButtonOnClickHandler","sendAndGetComments","trim","addLikeButtonHandler","sendAndGetLikes","removeLikeButtonHandler","onClickVisibleButtonHandler","className","active","full_screen","link","left_column","title_link","to","dangerouslySetInnerHTML","__html","selector_list","onClick","selector","selector_body","inp","value","body","appendChild","select","execCommand","removeChild","style","color","fontSize","width","textAlign","date","src","alt","map","index","backgroundColor","tag","right_column","images_container","buttons_container","buttons_row","disabled","likes_button","liked","coments_button","commet_container","coments_input","onChange","target","placeholder","name","coments_input__btns","setSmile","open_button"],"sources":["E:/WEB/korportal-master/src/components/NewsItemLow/NewsItemLow.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\nimport s from './NewsItemLow.module.css';\r\nimport arrowIcon from '../../assets/img/icons/arrow-down-icon.svg';\r\nimport heartIcon from '../../assets/img/icons/heart-icon.svg';\r\nimport commentsIcon from '../../assets/img/icons/comments-icon.svg';\r\nimport smileIcon from '../../assets/img/icons/smile-icon.svg';\r\nimport clockIcon from '../../assets/img/icons/clock-icon.svg';\r\nimport mailIcon from '../../assets/img/icons/paper-plane-icon.svg';\r\nimport CommentsList from '../CommentsList/CommentsList';\r\nimport { addIdToSeenNews, getNewsFromID, sendCommentNews, toggleLike } from '../../api/api';\r\nimport { Provider, useDispatch, useSelector } from 'react-redux';\r\nimport { userSelector } from '../../selectors/userSelectors';\r\nimport EmojiList from '../EmojiList/EmojiList';\r\nimport { Link } from 'react-router-dom';\r\nimport { fetchSeenNews } from '../../store/thunks';\r\nimport NewsImgSlider from '../NewsImgSlider/NewsImgSlider';\r\nimport { useOutsideClick } from '../../hooks/useOutsideClick';\r\nimport EditAdminButton from '../UI/EditAdminButton/EditAdminButton';\r\nimport UserInfoModalBtn from '../UserInfoModalBtn/UserInfoModalBtn';\r\nimport ReactDOM from 'react-dom/client';\r\nimport store from '../../store/store';\r\n\r\nconst toDay = new Date().toJSON().slice(0, 10);\r\n\r\nconst NewsItemLow = ({ item, filterParams, adminStatus, fullScreen, viewed = false }) => {\r\n\tlet ref = useRef();\r\n\tlet refText = useRef();\r\n\tconst dispatch = useDispatch();\r\n\r\n\t// select block\r\n\tlet [selectorStatus, setSelectorStatus] = useState(false);\r\n\tlet [copyLinkStatus, setCopyLinkStatus] = useState(false);\r\n\r\n\tlet userSeenNews = useSelector(userSelector.userSeenNews);\r\n\tlet user = useSelector(userSelector.userData);\r\n\tlet { id, title, pub_date, tags, text, html, img, comment, reaction, views } = item;\r\n\r\n\tlet [fetchedComments, setFetchedComments] = useState(null);\r\n\tlet [commentsLength, setCommentsLenth] = useState(0);\r\n\tlet [textAreaComment, setTextAreaComment] = useState('');\r\n\r\n\tlet [reacionState, setReacionState] = useState(null);\r\n\tlet [reacionStateLength, setReacionStateLenth] = useState(0);\r\n\tlet [reacionStatus, setReacionStatus] = useState(false);\r\n\r\n\tlet [currentViews, setCurrentViews] = useState(null);\r\n\r\n\tlet [visibleStatus, toggleVisibleStatus] = useState(false);\r\n\tlet [fetchingStatus, setFetchingStatus] = useState(false);\r\n\tlet [smileStatus, setSmileStatus] = useState(false);\r\n\tlet [isSeenStatus, setSeenStatus] = useState(false);\r\n\r\n\t// functions\r\n\tconst findReactionStatus = (state1) => {\r\n\t\tif (state1) {\r\n\t\t\tlet likeStatus = false;\r\n\r\n\t\t\tstate1.forEach((el) => {\r\n\t\t\t\tif (el.UserCode && user.id && el.UserCode === user.id) {\r\n\t\t\t\t\tsetReacionStatus(true);\r\n\t\t\t\t\tlikeStatus = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (!likeStatus) {\r\n\t\t\t\tsetReacionStatus(false);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetReacionStatus(false);\r\n\t\t}\r\n\t};\r\n\tconst changeIdSeenNews = async () => {\r\n\t\tlet result = await addIdToSeenNews(id, user.id);\r\n\t\tresult.status === 200 && dispatch(fetchSeenNews(user.id));\r\n\t};\r\n\tlet changeViews = async () => {\r\n\t\tawait changeIdSeenNews();\r\n\t\tlet relustItem = await getNewsFromID(id, setFetchedComments, setReacionState);\r\n\t\tsetCurrentViews(relustItem[0].views);\r\n\t};\r\n\tconst uploadComments = async () => {\r\n\t\tsetFetchingStatus(true);\r\n\t\tawait getNewsFromID(id, setFetchedComments, setReacionState);\r\n\t\tsetFetchingStatus(false);\r\n\t\tsetTextAreaComment('');\r\n\t\tsetSmileStatus(false);\r\n\t};\r\n\tconst changeUserLinksToButtons = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tconst linksInText = document.querySelectorAll(`._userLink`);\r\n\t\t\tconsole.log(linksInText);\r\n\r\n\t\t\tlinksInText &&\r\n\t\t\t\tlinksInText.length > 0 &&\r\n\t\t\t\tlinksInText.forEach((linkInText) => {\r\n\t\t\t\t\tconst exampleAttr1 = linkInText.getAttribute('title');\r\n\t\t\t\t\tconst exampleAttr2 = linkInText.getAttribute('href');\r\n\r\n\t\t\t\t\tconst container = document.createElement('span');\r\n\t\t\t\t\tlinkInText.replaceWith(container);\r\n\r\n\t\t\t\t\tif (container) {\r\n\t\t\t\t\t\tconst root = ReactDOM.createRoot(container);\r\n\r\n\t\t\t\t\t\troot.render(\r\n\t\t\t\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t\t\t\t<UserInfoModalBtn userId={exampleAttr2}>{exampleAttr1}</UserInfoModalBtn>\r\n\t\t\t\t\t\t\t</Provider>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}, 0);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (viewed) {\r\n\t\t\ttoggleVisibleStatus(true);\r\n\t\t} else {\r\n\t\t\ttoggleVisibleStatus(false);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (viewed && id && user.id && userSeenNews) {\r\n\t\t\tlet seenStatus = false;\r\n\t\t\tuserSeenNews.forEach((element) => {\r\n\t\t\t\tif (element == id) {\r\n\t\t\t\t\tseenStatus = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (!seenStatus) {\r\n\t\t\t\tchangeViews();\r\n\t\t\t}\r\n\t\t}\r\n\t}, [id, user.id, userSeenNews]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (text) {\r\n\t\t\tchangeUserLinksToButtons();\r\n\t\t}\r\n\t}, [text]);\r\n\r\n\t// for close tab\r\n\tuseEffect(() => {\r\n\t\tif (!viewed) {\r\n\t\t\ttoggleVisibleStatus(false);\r\n\t\t\tsetSmileStatus(false);\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\ttoggleVisibleStatus(false);\r\n\t\t\tsetSmileStatus(false);\r\n\t\t};\r\n\t}, [filterParams]);\r\n\r\n\t// this item is seen?\r\n\tuseEffect(() => {\r\n\t\tuserSeenNews &&\r\n\t\t\tuserSeenNews.forEach((element) => {\r\n\t\t\t\tif (element == id) {\r\n\t\t\t\t\tsetSeenStatus(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}, [userSeenNews]);\r\n\r\n\t// reactions\r\n\tuseEffect(() => {\r\n\t\tsetReacionState(reaction);\r\n\t\tfindReactionStatus(reaction);\r\n\t}, [reaction]);\r\n\tuseEffect(() => {\r\n\t\t!reacionState && setReacionStateLenth(0);\r\n\t\treacionState && setReacionStateLenth(reacionState.length);\r\n\t\treacionState && user && findReactionStatus(reacionState);\r\n\t}, [reacionState, user]);\r\n\r\n\t// comments\r\n\tuseEffect(() => {\r\n\t\tsetFetchedComments(comment);\r\n\t}, [comment]);\r\n\tuseEffect(() => {\r\n\t\tfetchedComments && setCommentsLenth(fetchedComments.length);\r\n\t\tfetchedComments === null && setCommentsLenth(0);\r\n\t}, [fetchedComments]);\r\n\tuseEffect(() => {\r\n\t\tviews && setCurrentViews(views);\r\n\t}, [views]);\r\n\r\n\t// Remove user links\r\n\tuseEffect(() => {\r\n\t\tchangeUserLinksToButtons();\r\n\t}, [visibleStatus]);\r\n\r\n\t// Handlers\r\n\tlet commentButtonOnClickHandler = (e) => {\r\n\t\tif (!visibleStatus) {\r\n\t\t\ttoggleVisibleStatus(true);\r\n\t\t}\r\n\t\tif (!isSeenStatus) {\r\n\t\t\tlet changeViews = async () => {\r\n\t\t\t\tawait changeIdSeenNews();\r\n\t\t\t\tlet relustItem = await getNewsFromID(id, setFetchedComments, setReacionState);\r\n\t\t\t\tsetCurrentViews(relustItem[0].views);\r\n\t\t\t};\r\n\r\n\t\t\tchangeViews();\r\n\t\t}\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tref.current.focus();\r\n\t\t}, 100);\r\n\t};\r\n\tlet sendCommetnButtonOnClickHandler = (e) => {\r\n\t\tlet sendAndGetComments = async () => {\r\n\t\t\tsetFetchingStatus(true);\r\n\t\t\tawait sendCommentNews(id, user.id, textAreaComment, setFetchingStatus);\r\n\t\t\tawait getNewsFromID(id, setFetchedComments, setReacionState);\r\n\t\t\tsetFetchingStatus(false);\r\n\t\t\tsetTextAreaComment('');\r\n\t\t\tsetSmileStatus(false);\r\n\t\t};\r\n\r\n\t\tif (textAreaComment && textAreaComment.trim()) {\r\n\t\t\tsendAndGetComments();\r\n\t\t}\r\n\t};\r\n\tlet addLikeButtonHandler = (e) => {\r\n\t\tlet sendAndGetLikes = async () => {\r\n\t\t\tsetFetchingStatus(true);\r\n\t\t\tawait toggleLike(id, user.id, 'like');\r\n\t\t\tawait getNewsFromID(id, setFetchedComments, setReacionState);\r\n\t\t\tsetFetchingStatus(false);\r\n\t\t};\r\n\t\tsendAndGetLikes();\r\n\t};\r\n\tlet removeLikeButtonHandler = (e) => {\r\n\t\tlet sendAndGetLikes = async () => {\r\n\t\t\tsetFetchingStatus(true);\r\n\t\t\tawait toggleLike(id, user.id, '0');\r\n\t\t\tawait getNewsFromID(id, setFetchedComments, setReacionState, id);\r\n\t\t\tsetReacionStatus(false);\r\n\t\t\tsetFetchingStatus(false);\r\n\t\t};\r\n\r\n\t\tsendAndGetLikes();\r\n\t};\r\n\tlet onClickVisibleButtonHandler = () => {\r\n\t\ttoggleVisibleStatus((status) => (visibleStatus = !status));\r\n\t\tsetSmileStatus(false);\r\n\t\tif (!isSeenStatus) {\r\n\t\t\tchangeViews();\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`${s.item} ${visibleStatus && s.active} ${fullScreen && s.full_screen}`}>\r\n\t\t\t{adminStatus && <EditAdminButton link={`./add-change-news/${id}`} />}\r\n\r\n\t\t\t<div className={s.left_column}>\r\n\t\t\t\t<p className={s.title}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tclassName={s.title_link}\r\n\t\t\t\t\t\t\ttitle=\"Перейти\"\r\n\t\t\t\t\t\t\tto={`/feed-news/feed-separate-news/${id}`}\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: title }}></Link>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tref={useOutsideClick(() => selectorStatus && setSelectorStatus(false) && setCopyLinkStatus(false))}\r\n\t\t\t\t\t\tclassName={s.selector_list}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttitle={selectorStatus ? 'Закрити' : 'Відкрити'}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetSelectorStatus((selector) => !selector);\r\n\t\t\t\t\t\t\t\tsetCopyLinkStatus(false);\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<ul className={`${s.selector_body} ${selectorStatus && s.active}`}>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Link to={`/feed-news/feed-separate-news/${id}`}>Перейти</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tlet inp = document.createElement('input');\r\n\t\t\t\t\t\t\t\t\t\tinp.value = `https://portal.softcom.ua/feed-news/feed-separate-news/${id}`;\r\n\t\t\t\t\t\t\t\t\t\tdocument.body.appendChild(inp);\r\n\t\t\t\t\t\t\t\t\t\tinp.select();\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (document.execCommand('copy')) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetCopyLinkStatus(true);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tsetCopyLinkStatus(false);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tdocument.body.removeChild(inp);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tКопіювати посилання\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t{copyLinkStatus && <p style={{ color: 'green', fontSize: '12px', width: '100%', textAlign: 'center' }}>Скопійовано</p>}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className={s.date}>\r\n\t\t\t\t\t<img src={clockIcon} alt=\"\" />\r\n\t\t\t\t\t{pub_date && toDay === pub_date.slice(0, 10)\r\n\t\t\t\t\t\t? `Сьогодні ${pub_date.slice(11, 16)}`\r\n\t\t\t\t\t\t: `${pub_date.slice(8, 10)}-${pub_date.slice(5, 7)}-${pub_date.slice(0, 4)} ${pub_date.slice(11, 16)}`}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className={s.tags}>\r\n\t\t\t\t\t{tags &&\r\n\t\t\t\t\t\ttags.map((item, index) => (\r\n\t\t\t\t\t\t\t<div key={index} style={{ backgroundColor: '#5182FE' }} className={s.tag}>\r\n\t\t\t\t\t\t\t\t<p>{item}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t\t{visibleStatus && <p ref={refText} dangerouslySetInnerHTML={{ __html: text }} className={`${s.text}`} />}\r\n\t\t\t</div>\r\n\t\t\t<div className={s.right_column}>\r\n\t\t\t\t{img && visibleStatus && (\r\n\t\t\t\t\t<div className={s.images_container}>\r\n\t\t\t\t\t\t<NewsImgSlider img={img} fullScreen={fullScreen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className={s.buttons_container}>\r\n\t\t\t\t\t<div className={s.buttons_row}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttitle={'Подобається'}\r\n\t\t\t\t\t\t\tonClick={reacionStatus ? removeLikeButtonHandler : addLikeButtonHandler}\r\n\t\t\t\t\t\t\tdisabled={fetchingStatus}\r\n\t\t\t\t\t\t\tclassName={`${s.likes_button} ${reacionStatus && s.liked}`}>\r\n\t\t\t\t\t\t\t<img src={heartIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t<p>{reacionStateLength}</p>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button title={'Коментарі'} onClick={commentButtonOnClickHandler} className={s.coments_button}>\r\n\t\t\t\t\t\t\t<img src={commentsIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t<p>{commentsLength}</p>\r\n\t\t\t\t\t\t\t<p>Коментарі</p>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className={s.views}>Перегляди: {currentViews ? currentViews : '0'}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{visibleStatus && (\r\n\t\t\t\t\t<div className={s.commet_container}>\r\n\t\t\t\t\t\t{fetchedComments && <CommentsList comment={fetchedComments} fullScreen={fullScreen} uploadComments={uploadComments} />}\r\n\t\t\t\t\t\t<div className={s.coments_input}>\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tvalue={textAreaComment}\r\n\t\t\t\t\t\t\t\t// onKeyDown={(e) => e.key === 'Enter' && sendCommetnButtonOnClickHandler(e)}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setTextAreaComment(e.target.value)}\r\n\t\t\t\t\t\t\t\tref={ref}\r\n\t\t\t\t\t\t\t\tplaceholder=\"Ваш коментар...\"\r\n\t\t\t\t\t\t\t\tname=\"\"\r\n\t\t\t\t\t\t\t\tid=\"\"></textarea>\r\n\t\t\t\t\t\t\t<div className={s.coments_input__btns}>\r\n\t\t\t\t\t\t\t\t<button title={'Смайлики'} disabled={fetchingStatus} onClick={() => setSmileStatus((status) => !status)}>\r\n\t\t\t\t\t\t\t\t\t<img src={smileIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button title={'Додати коментар'} disabled={fetchingStatus} onClick={sendCommetnButtonOnClickHandler}>\r\n\t\t\t\t\t\t\t\t\t<img src={mailIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<EmojiList visibleStatus={smileStatus} setSmile={setTextAreaComment} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t{!viewed && (\r\n\t\t\t\t<button title={visibleStatus ? 'Згорнути' : 'Розгорнути'} className={s.open_button} onClick={onClickVisibleButtonHandler}>\r\n\t\t\t\t\t<img src={arrowIcon} alt=\"\" />\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NewsItemLow;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}