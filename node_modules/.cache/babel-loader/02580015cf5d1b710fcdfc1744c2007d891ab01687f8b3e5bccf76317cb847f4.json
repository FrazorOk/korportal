{"ast":null,"code":"var _jsxFileName = \"E:\\\\WEB\\\\korportal-master\\\\src\\\\pages\\\\AdminAddChangeGalleryPage\\\\AdminAddGalleryFormSection\\\\AdminAddGalleryFormSection.jsx\",\n  _s = $RefreshSig$();\nimport s from './AdminAddGalleryFormSection.module.css';\nimport deleteIcon from '../../../assets/img/icons/delete-icon.svg';\nimport { createNewCatalogGallery, deleteGalleryCatalogsFiles, updateCatalogGallery } from '../../../api/api.js';\nimport { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { userSelector } from '../../../selectors/userSelectors.js';\nimport ModalWidnow from '../../../components/UI/ModalWidnow/ModalWidnow.jsx';\nimport Loader from '../../../components/UI/Loader/Loader.jsx';\nimport { Link, useNavigate } from 'react-router-dom';\nimport AlertModalWindow from '../../../components/AlertModalWindow/AlertModalWindow.jsx';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet now = new Date(Date.now()).toLocaleString();\nlet formatedNow = `${now.slice(6, 10)}-${now.slice(3, 5)}-${now.slice(0, 2)}T${now.slice(12, now.length)}`;\nconst AdminAddGalleryFormSection = ({\n  Id,\n  data\n}) => {\n  _s();\n  let userID = useSelector(userSelector.userData);\n  let navigate = useNavigate();\n  let [resultId, setResultId] = useState(null);\n  let [modalWidndovStatus, setModalWidndovStatus] = useState(false);\n  let [modalWidndovStatusDelete, setModalWidndovStatusDelete] = useState(false);\n  let [modalWidndovStatusUpdate, setModalWidndovStatusUpdate] = useState(false);\n  let [isFetching, setFetching] = useState(false);\n  let [isFetchingStatus, setFetchingStatus] = useState(false);\n  let [title, setTitle] = useState('');\n  let [date, setDate] = useState(formatedNow);\n  let [images, setImages] = useState('');\n  let [filesList, setFilesList] = useState(['']);\n  let [fileIndex, setFilesIndex] = useState(['']);\n  let [validationErrors, setValidationErrors] = useState({\n    title: false,\n    date: false,\n    images: false\n  });\n\n  // Functions\n  const nulledAllInputs = () => {\n    setTitle('');\n    setDate('');\n    setImages('');\n    setFilesList(['']);\n    setFilesIndex(['']);\n  };\n  const nulledAllValidations = () => {\n    setValidationErrors({\n      title: false,\n      date: false,\n      images: false\n    });\n  };\n  const validationForm = async () => {\n    !title && setValidationErrors(obj => ({\n      ...obj,\n      title: true\n    }));\n    !date && setValidationErrors(obj => ({\n      ...obj,\n      date: true\n    }));\n    let filteredImgsList = filesList.filter(item => item != false);\n    filteredImgsList.length < 1 && setValidationErrors(obj => ({\n      ...obj,\n      images: true\n    }));\n    let imgStatus = false;\n    if (filteredImgsList.length > 0) {\n      imgStatus = true;\n    }\n    if (title && date && imgStatus) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  const fetchingNewPost = async data => {\n    await setFetching(true);\n    await setModalWidndovStatus(true);\n    let result = await createNewCatalogGallery(data);\n    await setFetching(false);\n    if (result.status == 200 || result.id) {\n      nulledAllInputs();\n      setFetchingStatus(true);\n      setResultId(result.id);\n    } else {\n      setFetchingStatus('error');\n    }\n  };\n  const fetchingDeletePost = async () => {\n    await setFetching(true);\n    let result = await deleteGalleryCatalogsFiles(Id, 'catalog');\n    await setFetching(false);\n    if (result.status == 200) {\n      nulledAllInputs();\n      setFetchingStatus(true);\n    } else {\n      console.log(`Помилка ${result.status}`);\n      setFetchingStatus('error');\n    }\n  };\n  const fetchingUpdatePost = async data => {\n    await setFetching(true);\n    let result = await updateCatalogGallery(data);\n    await setFetching(false);\n    console.log(result);\n    if (result.status == 200 || result.id) {\n      setFetchingStatus(true);\n    } else {\n      console.log(`Помилка ${result.status}`);\n      setFetchingStatus('error');\n    }\n  };\n\n  // Handlers\n  const creacteHandler = e => {\n    e.preventDefault();\n    let filteredImgsList = filesList.filter(item => item != false);\n    let dataFetching = {\n      title: title,\n      date: date,\n      imgFile: filteredImgsList,\n      autor_id: userID.id\n    };\n    let asyncFetchingAndValidation = async () => {\n      let validationStatus = await validationForm();\n      if (validationStatus) {\n        nulledAllValidations();\n        fetchingNewPost(dataFetching);\n      }\n    };\n    asyncFetchingAndValidation();\n  };\n  const deletePostHandler = e => {\n    e.preventDefault();\n    let asyncFetchingAndValidation = async () => {\n      await fetchingDeletePost();\n      nulledAllValidations();\n    };\n    asyncFetchingAndValidation();\n  };\n  const deleteOpenMoalHandler = e => {\n    e.preventDefault();\n    setModalWidndovStatusDelete(true);\n  };\n  const updatePostHandler = e => {\n    e.preventDefault();\n\n    // let filteredDelImgsList = [];\n    // filesList.forEach((itemDelImg, indexDelIndex) => {\n    // \tif (`${itemDelImg}` == 'delimg') {\n    // \t\tfilteredDelImgsList.push(data.img[indexDelIndex]);\n    // \t}\n    // });\n\n    let filteredImgsList = filesList.filter(item => {\n      if (item != false && item != 'delimg') {\n        return true;\n      }\n    });\n    console.log(filteredImgsList);\n    console.log(filesList);\n    let dataFetching = {\n      id: Id,\n      title: title,\n      date: date,\n      imgFile: filteredImgsList,\n      autor_id: userID.id\n    };\n    let asyncFetchingAndValidation = async () => {\n      let validationStatus = await validationForm();\n      if (validationStatus) {\n        nulledAllValidations();\n        console.log(dataFetching);\n        fetchingUpdatePost(dataFetching);\n      }\n    };\n    asyncFetchingAndValidation();\n  };\n  const updateOpenMoalHandler = e => {\n    e.preventDefault();\n    setModalWidndovStatusUpdate(true);\n  };\n\n  // Effects\n\n  useEffect(() => {\n    console.log(data);\n    data.title && setTitle(data.title);\n    data.create_date && setDate(data.create_date);\n    data.cover && setFilesList([data.cover]);\n    data.cover && setFilesIndex(index => {\n      let currentIndex = [...index];\n\n      // for (let i = 0; i < 1; i++) {\n      // \tcurrentIndex = [...currentIndex, ''];\n      // }\n\n      return currentIndex;\n    });\n  }, [data]);\n\n  // Data for modal windows\n  let dataForUpdateModal = {\n    acceptButton: {\n      text: 'Оновити',\n      class: '',\n      handler: updatePostHandler\n    },\n    cencelButton: {\n      text: 'Повернутися',\n      handler: () => {\n        setModalWidndovStatusUpdate(false);\n        setFetchingStatus(false);\n      }\n    },\n    closeButton: {\n      text: 'Повернутися',\n      handler: () => {\n        setModalWidndovStatusUpdate(false);\n        setFetchingStatus(false);\n      },\n      link: false\n    },\n    isFetching: isFetching,\n    fetchingResult: isFetchingStatus,\n    text: {\n      question: 'Оновити цю новину?',\n      accept: 'Новину оновлено!',\n      error: 'Сталася якась помилка!'\n    }\n  };\n  let dataForDeleteModal = {\n    acceptButton: {\n      text: 'Видалити',\n      class: 'delete',\n      handler: deletePostHandler\n    },\n    cencelButton: {\n      text: 'Повернутися',\n      handler: e => {\n        setModalWidndovStatusDelete(false);\n        setFetchingStatus(false);\n      }\n    },\n    closeButton: {\n      text: 'Повернутися',\n      handler: e => {\n        setModalWidndovStatusDelete(false);\n        setFetchingStatus(false);\n      },\n      link: '/admin-gallery'\n    },\n    isFetching: isFetching,\n    fetchingResult: isFetchingStatus,\n    text: {\n      question: 'Видалити цю новину?',\n      accept: 'Новину видалено!',\n      error: 'Сталася якась помилка!'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `section-container`,\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: s.post,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.post_item,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u0417\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A:\", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '20px',\n              color: 'red'\n            },\n            title: \"\\u041E\\u0431\\u043E\\u0432`\\u044F\\u0437\\u043A\\u043E\\u0432\\u0435\",\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: title,\n          onChange: e => setTitle(e.target.value),\n          placeholder: \"\\u0417\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A\",\n          className: `${s.title} ${validationErrors.title ? s.validated : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${s.post_item} ${s.row}`,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u0443\\u0431\\u043B\\u0456\\u043A\\u0430\\u0446\\u0456\\u0457:\", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '20px',\n              color: 'red'\n            },\n            title: \"\\u041E\\u0431\\u043E\\u0432`\\u044F\\u0437\\u043A\\u043E\\u0432\\u0435\",\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `${s.date} ${validationErrors.date ? s.validated : ''}`,\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"datetime-local\",\n            step: \"1\",\n            onChange: e => setDate(e.target.value),\n            value: date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.post_item,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u0417\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F:\", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '20px',\n              color: 'red'\n            },\n            title: \"\\u041E\\u0431\\u043E\\u0432`\\u044F\\u0437\\u043A\\u043E\\u0432\\u0435\",\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 6\n        }, this), images && /*#__PURE__*/_jsxDEV(\"img\", {\n          className: s.image_url,\n          src: images,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 17\n        }, this), fileIndex.map((itemImg, indexImg) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${s.image_container} ${filesList[indexImg] === false || filesList[indexImg] === 'delimg' ? s.hidden : ''}`,\n          children: filesList[indexImg] && !filesList[indexImg].name && filesList[indexImg] != 'delimg' ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: s.image_now_container,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: s.image_now,\n              src: filesList[indexImg],\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: e => {\n                e.preventDefault();\n                setFilesList(filesItem => {\n                  let fileItem = [...filesItem];\n                  fileItem[indexImg] = 'delimg';\n                  return fileItem;\n                });\n              },\n              className: s.image_now_del,\n              title: \"\\u0412\\u0438\\u0434\\u0430\\u043B\\u0438\\u0442\\u0438\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: deleteIcon,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 9\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: e => {\n                setFilesList(filesItem => {\n                  let fileItem = [...filesItem];\n                  fileItem[indexImg] = e.target.files[0];\n                  return fileItem;\n                });\n              },\n              className: `${s.image} ${!images && validationErrors.images ? s.validated : ''}`,\n              multiple: true,\n              type: \"file\",\n              name: \"myImage\",\n              placeholder: \"\\u041E\\u0431\\u0435\\u0440\\u0456\\u0442\\u044C \\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: e => {\n                e.preventDefault();\n                setFilesList(filesItem => {\n                  let fileItem = [...filesItem];\n                  fileItem[indexImg] = false;\n                  return fileItem;\n                });\n              },\n              title: \"\\u0412\\u0438\\u0434\\u0430\\u043B\\u0438\\u0442\\u0438\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: deleteIcon,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true)\n        }, `${indexImg}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 7\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: s.image_add_input,\n          onClick: e => {\n            e.preventDefault();\n            setFilesIndex(i => [...i, '']);\n          },\n          children: \"\\u0414\\u043E\\u0434\\u0430\\u0442\\u0438 \\u0449\\u0435 \\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.select_buttons,\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: '/admin-gallery',\n          className: s.cancel,\n          children: \"\\u0412\\u0456\\u0434\\u043C\\u0456\\u043D\\u0438\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 6\n        }, this), data.id && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: s.delete,\n          onClick: deleteOpenMoalHandler,\n          children: \"\\u0412\\u0438\\u0434\\u0430\\u043B\\u0438\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 7\n        }, this), Id ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: s.select,\n          onClick: updateOpenMoalHandler,\n          children: \"\\u0417\\u0431\\u0435\\u0440\\u0435\\u0433\\u0442\\u0438 \\u0437\\u043C\\u0456\\u043D\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 7\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: s.select,\n          onClick: creacteHandler,\n          children: \"\\u041E\\u043F\\u0443\\u0431\\u043B\\u0456\\u043A\\u0443\\u0432\\u0430\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 4\n    }, this), modalWidndovStatus && /*#__PURE__*/_jsxDEV(ModalWidnow, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.result_window,\n        children: isFetching ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 8\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.result_container,\n          children: [isFetchingStatus && isFetchingStatus !== 'error' && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u041F\\u043E\\u0434\\u0456\\u044F \\u0443\\u0441\\u043F\\u0456\\u0448\\u043D\\u043E \\u0441\\u0442\\u0432\\u043E\\u0440\\u0435\\u043D\\u0430!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 62\n          }, this), isFetchingStatus === 'error' && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u0423\\u043F\\u0441! \\u0412\\u0438\\u0439\\u0448\\u043B\\u0430 \\u044F\\u043A\\u0430\\u0441\\u044C \\u043F\\u043E\\u043C\\u0438\\u043B\\u043A\\u0430!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 42\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setModalWidndovStatus(false);\n              setFetchingStatus(false);\n              navigate(`/admin-gallery/add-change-gallery/${resultId}`);\n            },\n            children: \"\\u041F\\u043E\\u0432\\u0435\\u0440\\u043D\\u0443\\u0442\\u0438\\u0441\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 5\n    }, this), modalWidndovStatusDelete && /*#__PURE__*/_jsxDEV(AlertModalWindow, {\n      data: dataForDeleteModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 33\n    }, this), modalWidndovStatusUpdate && /*#__PURE__*/_jsxDEV(AlertModalWindow, {\n      data: dataForUpdateModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 33\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 268,\n    columnNumber: 3\n  }, this);\n};\n_s(AdminAddGalleryFormSection, \"ZrRb+v2L6qNADDJQnlz+mlp7OH4=\", false, function () {\n  return [useSelector, useNavigate];\n});\n_c = AdminAddGalleryFormSection;\nexport default AdminAddGalleryFormSection;\nvar _c;\n$RefreshReg$(_c, \"AdminAddGalleryFormSection\");","map":{"version":3,"names":["s","deleteIcon","createNewCatalogGallery","deleteGalleryCatalogsFiles","updateCatalogGallery","useEffect","useState","useSelector","userSelector","ModalWidnow","Loader","Link","useNavigate","AlertModalWindow","jsxDEV","_jsxDEV","Fragment","_Fragment","now","Date","toLocaleString","formatedNow","slice","length","AdminAddGalleryFormSection","Id","data","_s","userID","userData","navigate","resultId","setResultId","modalWidndovStatus","setModalWidndovStatus","modalWidndovStatusDelete","setModalWidndovStatusDelete","modalWidndovStatusUpdate","setModalWidndovStatusUpdate","isFetching","setFetching","isFetchingStatus","setFetchingStatus","title","setTitle","date","setDate","images","setImages","filesList","setFilesList","fileIndex","setFilesIndex","validationErrors","setValidationErrors","nulledAllInputs","nulledAllValidations","validationForm","obj","filteredImgsList","filter","item","imgStatus","fetchingNewPost","result","status","id","fetchingDeletePost","console","log","fetchingUpdatePost","creacteHandler","e","preventDefault","dataFetching","imgFile","autor_id","asyncFetchingAndValidation","validationStatus","deletePostHandler","deleteOpenMoalHandler","updatePostHandler","updateOpenMoalHandler","create_date","cover","index","currentIndex","dataForUpdateModal","acceptButton","text","class","handler","cencelButton","closeButton","link","fetchingResult","question","accept","error","dataForDeleteModal","className","children","post","post_item","style","fontSize","color","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","placeholder","validated","row","type","step","image_url","src","alt","map","itemImg","indexImg","image_container","hidden","name","image_now_container","image_now","onClick","filesItem","fileItem","image_now_del","files","image","multiple","image_add_input","i","select_buttons","to","cancel","delete","select","result_window","result_container","_c","$RefreshReg$"],"sources":["E:/WEB/korportal-master/src/pages/AdminAddChangeGalleryPage/AdminAddGalleryFormSection/AdminAddGalleryFormSection.jsx"],"sourcesContent":["import s from './AdminAddGalleryFormSection.module.css';\r\nimport deleteIcon from '../../../assets/img/icons/delete-icon.svg';\r\nimport { createNewCatalogGallery, deleteGalleryCatalogsFiles, updateCatalogGallery } from '../../../api/api.js';\r\nimport { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { userSelector } from '../../../selectors/userSelectors.js';\r\nimport ModalWidnow from '../../../components/UI/ModalWidnow/ModalWidnow.jsx';\r\nimport Loader from '../../../components/UI/Loader/Loader.jsx';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport AlertModalWindow from '../../../components/AlertModalWindow/AlertModalWindow.jsx';\r\n\r\nlet now = new Date(Date.now()).toLocaleString();\r\nlet formatedNow = `${now.slice(6, 10)}-${now.slice(3, 5)}-${now.slice(0, 2)}T${now.slice(12, now.length)}`;\r\n\r\nconst AdminAddGalleryFormSection = ({ Id, data }) => {\r\n\tlet userID = useSelector(userSelector.userData);\r\n\tlet navigate = useNavigate();\r\n\r\n\tlet [resultId, setResultId] = useState(null);\r\n\tlet [modalWidndovStatus, setModalWidndovStatus] = useState(false);\r\n\tlet [modalWidndovStatusDelete, setModalWidndovStatusDelete] = useState(false);\r\n\tlet [modalWidndovStatusUpdate, setModalWidndovStatusUpdate] = useState(false);\r\n\r\n\tlet [isFetching, setFetching] = useState(false);\r\n\tlet [isFetchingStatus, setFetchingStatus] = useState(false);\r\n\r\n\tlet [title, setTitle] = useState('');\r\n\tlet [date, setDate] = useState(formatedNow);\r\n\tlet [images, setImages] = useState('');\r\n\r\n\tlet [filesList, setFilesList] = useState(['']);\r\n\tlet [fileIndex, setFilesIndex] = useState(['']);\r\n\r\n\tlet [validationErrors, setValidationErrors] = useState({ title: false, date: false, images: false });\r\n\r\n\t// Functions\r\n\tconst nulledAllInputs = () => {\r\n\t\tsetTitle('');\r\n\t\tsetDate('');\r\n\t\tsetImages('');\r\n\t\tsetFilesList(['']);\r\n\t\tsetFilesIndex(['']);\r\n\t};\r\n\tconst nulledAllValidations = () => {\r\n\t\tsetValidationErrors({ title: false, date: false, images: false });\r\n\t};\r\n\tconst validationForm = async () => {\r\n\t\t!title && setValidationErrors((obj) => ({ ...obj, title: true }));\r\n\t\t!date && setValidationErrors((obj) => ({ ...obj, date: true }));\r\n\r\n\t\tlet filteredImgsList = filesList.filter((item) => item != false);\r\n\r\n\t\tfilteredImgsList.length < 1 && setValidationErrors((obj) => ({ ...obj, images: true }));\r\n\r\n\t\tlet imgStatus = false;\r\n\t\tif (filteredImgsList.length > 0) {\r\n\t\t\timgStatus = true;\r\n\t\t}\r\n\t\tif (title && date && imgStatus) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\tconst fetchingNewPost = async (data) => {\r\n\t\tawait setFetching(true);\r\n\t\tawait setModalWidndovStatus(true);\r\n\t\tlet result = await createNewCatalogGallery(data);\r\n\t\tawait setFetching(false);\r\n\t\tif (result.status == 200 || result.id) {\r\n\t\t\tnulledAllInputs();\r\n\t\t\tsetFetchingStatus(true);\r\n\t\t\tsetResultId(result.id);\r\n\t\t} else {\r\n\t\t\tsetFetchingStatus('error');\r\n\t\t}\r\n\t};\r\n\tconst fetchingDeletePost = async () => {\r\n\t\tawait setFetching(true);\r\n\r\n\t\tlet result = await deleteGalleryCatalogsFiles(Id, 'catalog');\r\n\t\tawait setFetching(false);\r\n\t\tif (result.status == 200) {\r\n\t\t\tnulledAllInputs();\r\n\t\t\tsetFetchingStatus(true);\r\n\t\t} else {\r\n\t\t\tconsole.log(`Помилка ${result.status}`);\r\n\t\t\tsetFetchingStatus('error');\r\n\t\t}\r\n\t};\r\n\tconst fetchingUpdatePost = async (data) => {\r\n\t\tawait setFetching(true);\r\n\t\tlet result = await updateCatalogGallery(data);\r\n\t\tawait setFetching(false);\r\n\t\tconsole.log(result);\r\n\r\n\t\tif (result.status == 200 || result.id) {\r\n\t\t\tsetFetchingStatus(true);\r\n\t\t} else {\r\n\t\t\tconsole.log(`Помилка ${result.status}`);\r\n\t\t\tsetFetchingStatus('error');\r\n\t\t}\r\n\t};\r\n\r\n\t// Handlers\r\n\tconst creacteHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tlet filteredImgsList = filesList.filter((item) => item != false);\r\n\r\n\t\tlet dataFetching = {\r\n\t\t\ttitle: title,\r\n\t\t\tdate: date,\r\n\t\t\timgFile: filteredImgsList,\r\n\t\t\tautor_id: userID.id,\r\n\t\t};\r\n\r\n\t\tlet asyncFetchingAndValidation = async () => {\r\n\t\t\tlet validationStatus = await validationForm();\r\n\r\n\t\t\tif (validationStatus) {\r\n\t\t\t\tnulledAllValidations();\r\n\r\n\t\t\t\tfetchingNewPost(dataFetching);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tasyncFetchingAndValidation();\r\n\t};\r\n\tconst deletePostHandler = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tlet asyncFetchingAndValidation = async () => {\r\n\t\t\tawait fetchingDeletePost();\r\n\t\t\tnulledAllValidations();\r\n\t\t};\r\n\r\n\t\tasyncFetchingAndValidation();\r\n\t};\r\n\tconst deleteOpenMoalHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetModalWidndovStatusDelete(true);\r\n\t};\r\n\tconst updatePostHandler = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\t// let filteredDelImgsList = [];\r\n\t\t// filesList.forEach((itemDelImg, indexDelIndex) => {\r\n\t\t// \tif (`${itemDelImg}` == 'delimg') {\r\n\t\t// \t\tfilteredDelImgsList.push(data.img[indexDelIndex]);\r\n\t\t// \t}\r\n\t\t// });\r\n\r\n\t\tlet filteredImgsList = filesList.filter((item) => {\r\n\t\t\tif (item != false && item != 'delimg') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t});\r\n\t\tconsole.log(filteredImgsList);\r\n\t\tconsole.log(filesList);\r\n\r\n\t\tlet dataFetching = {\r\n\t\t\tid: Id,\r\n\t\t\ttitle: title,\r\n\t\t\tdate: date,\r\n\t\t\timgFile: filteredImgsList,\r\n\t\t\tautor_id: userID.id,\r\n\t\t};\r\n\r\n\t\tlet asyncFetchingAndValidation = async () => {\r\n\t\t\tlet validationStatus = await validationForm();\r\n\r\n\t\t\tif (validationStatus) {\r\n\t\t\t\tnulledAllValidations();\r\n\t\t\t\tconsole.log(dataFetching);\r\n\r\n\t\t\t\tfetchingUpdatePost(dataFetching);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tasyncFetchingAndValidation();\r\n\t};\r\n\tconst updateOpenMoalHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetModalWidndovStatusUpdate(true);\r\n\t};\r\n\r\n\t// Effects\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log(data);\r\n\r\n\t\tdata.title && setTitle(data.title);\r\n\t\tdata.create_date && setDate(data.create_date);\r\n\t\tdata.cover && setFilesList([data.cover]);\r\n\t\tdata.cover &&\r\n\t\t\tsetFilesIndex((index) => {\r\n\t\t\t\tlet currentIndex = [...index];\r\n\r\n\t\t\t\t// for (let i = 0; i < 1; i++) {\r\n\t\t\t\t// \tcurrentIndex = [...currentIndex, ''];\r\n\t\t\t\t// }\r\n\r\n\t\t\t\treturn currentIndex;\r\n\t\t\t});\r\n\t}, [data]);\r\n\r\n\t// Data for modal windows\r\n\tlet dataForUpdateModal = {\r\n\t\tacceptButton: {\r\n\t\t\ttext: 'Оновити',\r\n\t\t\tclass: '',\r\n\t\t\thandler: updatePostHandler,\r\n\t\t},\r\n\t\tcencelButton: {\r\n\t\t\ttext: 'Повернутися',\r\n\t\t\thandler: () => {\r\n\t\t\t\tsetModalWidndovStatusUpdate(false);\r\n\t\t\t\tsetFetchingStatus(false);\r\n\t\t\t},\r\n\t\t},\r\n\t\tcloseButton: {\r\n\t\t\ttext: 'Повернутися',\r\n\t\t\thandler: () => {\r\n\t\t\t\tsetModalWidndovStatusUpdate(false);\r\n\t\t\t\tsetFetchingStatus(false);\r\n\t\t\t},\r\n\t\t\tlink: false,\r\n\t\t},\r\n\t\tisFetching: isFetching,\r\n\t\tfetchingResult: isFetchingStatus,\r\n\t\ttext: {\r\n\t\t\tquestion: 'Оновити цю новину?',\r\n\t\t\taccept: 'Новину оновлено!',\r\n\t\t\terror: 'Сталася якась помилка!',\r\n\t\t},\r\n\t};\r\n\tlet dataForDeleteModal = {\r\n\t\tacceptButton: {\r\n\t\t\ttext: 'Видалити',\r\n\t\t\tclass: 'delete',\r\n\t\t\thandler: deletePostHandler,\r\n\t\t},\r\n\t\tcencelButton: {\r\n\t\t\ttext: 'Повернутися',\r\n\t\t\thandler: (e) => {\r\n\t\t\t\tsetModalWidndovStatusDelete(false);\r\n\t\t\t\tsetFetchingStatus(false);\r\n\t\t\t},\r\n\t\t},\r\n\t\tcloseButton: {\r\n\t\t\ttext: 'Повернутися',\r\n\t\t\thandler: (e) => {\r\n\t\t\t\tsetModalWidndovStatusDelete(false);\r\n\t\t\t\tsetFetchingStatus(false);\r\n\t\t\t},\r\n\t\t\tlink: '/admin-gallery',\r\n\t\t},\r\n\t\tisFetching: isFetching,\r\n\t\tfetchingResult: isFetchingStatus,\r\n\t\ttext: {\r\n\t\t\tquestion: 'Видалити цю новину?',\r\n\t\t\taccept: 'Новину видалено!',\r\n\t\t\terror: 'Сталася якась помилка!',\r\n\t\t},\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`section-container`}>\r\n\t\t\t<form className={s.post}>\r\n\t\t\t\t<div className={s.post_item}>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tЗаголовок:\r\n\t\t\t\t\t\t<span style={{ fontSize: '20px', color: 'red' }} title=\"Обов`язкове\">\r\n\t\t\t\t\t\t\t*\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\tonChange={(e) => setTitle(e.target.value)}\r\n\t\t\t\t\t\tplaceholder=\"Заголовок\"\r\n\t\t\t\t\t\tclassName={`${s.title} ${validationErrors.title ? s.validated : ''}`}></textarea>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={`${s.post_item} ${s.row}`}>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tДата публікації:\r\n\t\t\t\t\t\t<span style={{ fontSize: '20px', color: 'red' }} title=\"Обов`язкове\">\r\n\t\t\t\t\t\t\t*\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className={`${s.date} ${validationErrors.date ? s.validated : ''}`}>\r\n\t\t\t\t\t\t<input type=\"datetime-local\" step=\"1\" onChange={(e) => setDate(e.target.value)} value={date} />\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={s.post_item}>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tЗображення:\r\n\t\t\t\t\t\t<span style={{ fontSize: '20px', color: 'red' }} title=\"Обов`язкове\">\r\n\t\t\t\t\t\t\t*\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t{images && <img className={s.image_url} src={images} alt=\"\" />}\r\n\r\n\t\t\t\t\t{fileIndex.map((itemImg, indexImg) => (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tkey={`${indexImg}`}\r\n\t\t\t\t\t\t\tclassName={`${s.image_container} ${filesList[indexImg] === false || filesList[indexImg] === 'delimg' ? s.hidden : ''}`}>\r\n\t\t\t\t\t\t\t{filesList[indexImg] && !filesList[indexImg].name && filesList[indexImg] != 'delimg' ? (\r\n\t\t\t\t\t\t\t\t<div className={s.image_now_container}>\r\n\t\t\t\t\t\t\t\t\t<img className={s.image_now} src={filesList[indexImg]} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tsetFilesList((filesItem) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet fileItem = [...filesItem];\r\n\t\t\t\t\t\t\t\t\t\t\t\tfileItem[indexImg] = 'delimg';\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn fileItem;\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName={s.image_now_del}\r\n\t\t\t\t\t\t\t\t\t\ttitle=\"Видалити\">\r\n\t\t\t\t\t\t\t\t\t\t<img src={deleteIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetFilesList((filesItem) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet fileItem = [...filesItem];\r\n\t\t\t\t\t\t\t\t\t\t\t\tfileItem[indexImg] = e.target.files[0];\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn fileItem;\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName={`${s.image} ${!images && validationErrors.images ? s.validated : ''}`}\r\n\t\t\t\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"myImage\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Оберіть зображення\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tsetFilesList((filesItem) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet fileItem = [...filesItem];\r\n\t\t\t\t\t\t\t\t\t\t\t\tfileItem[indexImg] = false;\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn fileItem;\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\ttitle=\"Видалити\">\r\n\t\t\t\t\t\t\t\t\t\t<img src={deleteIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName={s.image_add_input}\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tsetFilesIndex((i) => [...i, '']);\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tДодати ще зображення\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={s.select_buttons}>\r\n\t\t\t\t\t<Link to={'/admin-gallery'} className={s.cancel}>\r\n\t\t\t\t\t\tВідмінити\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t{data.id && (\r\n\t\t\t\t\t\t<button className={s.delete} onClick={deleteOpenMoalHandler}>\r\n\t\t\t\t\t\t\tВидалити\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{Id ? (\r\n\t\t\t\t\t\t<button className={s.select} onClick={updateOpenMoalHandler}>\r\n\t\t\t\t\t\t\tЗберегти зміни\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<button className={s.select} onClick={creacteHandler}>\r\n\t\t\t\t\t\t\tОпублікувати\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\r\n\t\t\t{modalWidndovStatus && (\r\n\t\t\t\t<ModalWidnow>\r\n\t\t\t\t\t<div className={s.result_window}>\r\n\t\t\t\t\t\t{isFetching ? (\r\n\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className={s.result_container}>\r\n\t\t\t\t\t\t\t\t{isFetchingStatus && isFetchingStatus !== 'error' && <p>Подія успішно створена!</p>}\r\n\t\t\t\t\t\t\t\t{isFetchingStatus === 'error' && <p>Упс! Вийшла якась помилка!</p>}\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tsetModalWidndovStatus(false);\r\n\t\t\t\t\t\t\t\t\t\tsetFetchingStatus(false);\r\n\t\t\t\t\t\t\t\t\t\tnavigate(`/admin-gallery/add-change-gallery/${resultId}`);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tПовернутися\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</ModalWidnow>\r\n\t\t\t)}\r\n\t\t\t{modalWidndovStatusDelete && <AlertModalWindow data={dataForDeleteModal} />}\r\n\t\t\t{modalWidndovStatusUpdate && <AlertModalWindow data={dataForUpdateModal} />}\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default AdminAddGalleryFormSection;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}