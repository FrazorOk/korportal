{"ast":null,"code":"import{useEffect,useState}from'react';import{getMailingTime,updateMailingTime}from'../../../api/mailingApi';import s from'./TimeMailingSection.module.css';import Loader from'../../../components/UI/Loader/Loader';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TimeMailingSection=()=>{let[isInputTime,setInputTime]=useState('');let[isCurrentTime,setCurrentTime]=useState('');let[isLoading,setLoading]=useState(false);const fetchingCurrentMailingTime=async()=>{let result=await getMailingTime();if(result){setCurrentTime(result.time);}};const fetchingMailingTime=async()=>{setLoading(true);let result=await updateMailingTime(isInputTime+':00');if(result.status){setLoading(false);setInputTime('');setTimeout(()=>{fetchingCurrentMailingTime();},10);}};useEffect(()=>{fetchingCurrentMailingTime();},[]);const onClickSubmitBtnHandler=e=>{e.preventDefault();isInputTime&&fetchingMailingTime();};return/*#__PURE__*/_jsxs(\"div\",{className:\"section-container\",style:{width:'100%',maxWidth:'540px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0427\\u0430\\u0441 \\u0440\\u043E\\u0437\\u0441\\u0438\\u043B\\u043A\\u0438\"}),/*#__PURE__*/_jsxs(\"form\",{className:s.form,children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u041F\\u043E\\u0442\\u043E\\u0447\\u043D\\u0438\\u0439 \\u0447\\u0430\\u0441 \\u0440\\u043E\\u0437\\u0441\\u0438\\u043B\\u043A\\u0438: \",/*#__PURE__*/_jsx(\"b\",{style:{fontSize:'16px'},children:isCurrentTime})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.input_block,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"\\u0417\\u043C\\u0456\\u043D\\u0438\\u0442\\u0438 \\u0447\\u0430\\u0441 \\u0440\\u043E\\u0437\\u0441\\u0438\\u043B\\u043A\\u0438:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:isInputTime,onChange:e=>setInputTime(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:s.input_block,style:{justifyContent:'center',minHeight:'100px'},children:isLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(\"button\",{className:\"standart-btn\",onClick:onClickSubmitBtnHandler,children:\"\\u0417\\u043C\\u0456\\u043D\\u0438\\u0442\\u0438\"})})]})]});};export default TimeMailingSection;","map":{"version":3,"names":["useEffect","useState","getMailingTime","updateMailingTime","s","Loader","jsx","_jsx","jsxs","_jsxs","TimeMailingSection","isInputTime","setInputTime","isCurrentTime","setCurrentTime","isLoading","setLoading","fetchingCurrentMailingTime","result","time","fetchingMailingTime","status","setTimeout","onClickSubmitBtnHandler","e","preventDefault","className","style","width","maxWidth","children","form","fontSize","input_block","htmlFor","type","value","onChange","target","justifyContent","minHeight","onClick"],"sources":["C:/Users/Dmytro/Downloads/korportal-master/korportal-master/src/pages/AdminMailingListPage/TimeMailingSection/TimeMailingSection.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { getMailingTime, updateMailingTime } from '../../../api/mailingApi';\nimport s from './TimeMailingSection.module.css';\nimport Loader from '../../../components/UI/Loader/Loader';\n\nconst TimeMailingSection = () => {\n\tlet [isInputTime, setInputTime] = useState('');\n\tlet [isCurrentTime, setCurrentTime] = useState('');\n\tlet [isLoading, setLoading] = useState(false);\n\n\tconst fetchingCurrentMailingTime = async () => {\n\t\tlet result = await getMailingTime();\n\t\tif (result) {\n\t\t\tsetCurrentTime(result.time);\n\t\t}\n\t};\n\n\tconst fetchingMailingTime = async () => {\n\t\tsetLoading(true);\n\t\tlet result = await updateMailingTime(isInputTime + ':00');\n\t\tif (result.status) {\n\t\t\tsetLoading(false);\n\t\t\tsetInputTime('');\n\t\t\tsetTimeout(() => {\n\t\t\t\tfetchingCurrentMailingTime();\n\t\t\t}, 10);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tfetchingCurrentMailingTime();\n\t}, []);\n\n\tconst onClickSubmitBtnHandler = (e) => {\n\t\te.preventDefault();\n\t\tisInputTime && fetchingMailingTime();\n\t};\n\n\treturn (\n\t\t<div className=\"section-container\" style={{ width: '100%', maxWidth: '540px' }}>\n\t\t\t<h3>Час розсилки</h3>\n\n\t\t\t<form className={s.form}>\n\t\t\t\t<p>\n\t\t\t\t\tПоточний час розсилки: <b style={{ fontSize: '16px' }}>{isCurrentTime}</b>\n\t\t\t\t</p>\n\n\t\t\t\t<div className={s.input_block}>\n\t\t\t\t\t<label htmlFor=\"\">Змінити час розсилки:</label>\n\t\t\t\t\t<input type=\"time\" value={isInputTime} onChange={(e) => setInputTime(e.target.value)} />\n\t\t\t\t</div>\n\n\t\t\t\t<div className={s.input_block} style={{ justifyContent: 'center', minHeight: '100px' }}>\n\t\t\t\t\t{isLoading ? (\n\t\t\t\t\t\t<Loader />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button className=\"standart-btn\" onClick={onClickSubmitBtnHandler}>\n\t\t\t\t\t\t\tЗмінити\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default TimeMailingSection;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}