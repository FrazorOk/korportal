{"ast":null,"code":"import{useEffect,useRef,useState}from'react';import s from'./NewsItem.module.css';import arrowIcon from'../../assets/img/icons/arrow-down-icon.svg';import heartIcon from'../../assets/img/icons/heart-icon.svg';import commentsIcon from'../../assets/img/icons/comments-icon.svg';import changeIcon from'../../assets/img/icons/pencil-icon.svg';import deleteIcon from'../../assets/img/icons/delete-icon.svg';import smileIcon from'../../assets/img/icons/smile-icon.svg';import clockIcon from'../../assets/img/icons/clock-icon.svg';import mailIcon from'../../assets/img/icons/mail_gray_icon.svg';import CommentsList from'../CommentsList/CommentsList';import{addIdToSeenNews,getNewsFromID,sendCommentNews,toggleLike}from'../../api/api';import{useDispatch,useSelector}from'react-redux';import{userSelector}from'../../selectors/userSelectors';import EmojiList from'../EmojiList/EmojiList';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const toDay=new Date().toJSON().slice(0,10);const NewsItem=_ref=>{let{item,filterParams,adminStatus}=_ref;let ref=useRef();const dispatch=useDispatch();let userSeenNews=useSelector(userSelector.userSeenNews);let user=useSelector(userSelector.userData);let{id,title,pub_date,tags,text,img,comment,reaction}=item;let[fetchedComments,setFetchedComments]=useState(null);let[commentsLength,setCommentsLenth]=useState(0);let[textAreaComment,setTextAreaComment]=useState('');let[reacionState,setReacionState]=useState(null);let[reacionStateLength,setReacionStateLenth]=useState(0);let[reacionStatus,setReacionStatus]=useState(false);let[visibleStatus,toggleVisibleStatus]=useState(false);let[fetchingStatus,setFetchingStatus]=useState(false);let[smileStatus,setSmileStatus]=useState(false);const findReactionStatus=state1=>{if(state1){let likeStatus=false;state1.forEach(el=>{if(el.UserCode&&user.id&&el.UserCode===user.id){setReacionStatus(true);likeStatus=true;}});if(!likeStatus){setReacionStatus(false);}}else{setReacionStatus(false);}};// for close tab\nuseEffect(()=>{toggleVisibleStatus(false);setSmileStatus(false);return()=>{toggleVisibleStatus(false);setSmileStatus(false);};},[filterParams]);// reactions\nuseEffect(()=>{setReacionState(reaction);findReactionStatus(reaction);},[reaction]);useEffect(()=>{!reacionState&&setReacionStateLenth(0);reacionState&&setReacionStateLenth(reacionState.length);reacionState&&user&&findReactionStatus(reacionState);},[reacionState,user]);// comments\nuseEffect(()=>{setFetchedComments(comment);},[comment]);useEffect(()=>{fetchedComments&&setCommentsLenth(fetchedComments.length);},[fetchedComments]);// Handlers\nlet commentButtonOnClickHandler=e=>{if(!visibleStatus){toggleVisibleStatus(true);}setTimeout(()=>{ref.current.focus();},100);};let sendCommetnButtonOnClickHandler=e=>{let sendAndGetComments=async()=>{setFetchingStatus(true);await sendCommentNews(id,user.id,textAreaComment,setFetchingStatus);await getNewsFromID(setFetchedComments,setReacionState,id);setFetchingStatus(false);setTextAreaComment('');setSmileStatus(false);};sendAndGetComments();};let addLikeButtonHandler=e=>{let sendAndGetLikes=async()=>{setFetchingStatus(true);await toggleLike(id,user.id,'like');await getNewsFromID(setFetchedComments,setReacionState,id);setFetchingStatus(false);};sendAndGetLikes();};let removeLikeButtonHandler=e=>{let sendAndGetLikes=async()=>{setFetchingStatus(true);await toggleLike(id,user.id,'0');await getNewsFromID(setFetchedComments,setReacionState,id);setReacionStatus(false);setFetchingStatus(false);};sendAndGetLikes();};// functions\nconst changeIdSeenNews=async()=>{let result=await addIdToSeenNews(id,user.id);console.log(result);};return/*#__PURE__*/_jsxs(\"div\",{className:`${s.item} ${visibleStatus&&s.active}`,children:[adminStatus&&/*#__PURE__*/_jsxs(\"div\",{className:s.admin_btns,children:[/*#__PURE__*/_jsx(Link,{to:`./add-change-news/${id}`,title:\"\\u0417\\u043C\\u0456\\u043D\\u0438\\u0442\\u0438\",children:/*#__PURE__*/_jsx(\"img\",{src:changeIcon,alt:\"\"})}),/*#__PURE__*/_jsx(Link,{title:\"\\u0412\\u0438\\u0434\\u0430\\u043B\\u0438\\u0442\\u0438\",children:/*#__PURE__*/_jsx(\"img\",{src:deleteIcon,alt:\"\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.left_column,children:[/*#__PURE__*/_jsx(\"p\",{className:s.title,children:title&&title}),/*#__PURE__*/_jsxs(\"p\",{className:s.date,children:[/*#__PURE__*/_jsx(\"img\",{src:clockIcon,alt:\"\"}),pub_date&&toDay===pub_date.slice(0,10)?`Сьогодні ${pub_date.slice(11,16)}`:`${pub_date.slice(8,10)}-${pub_date.slice(5,7)}-${pub_date.slice(0,4)} ${pub_date.slice(11,16)}`]}),/*#__PURE__*/_jsx(\"div\",{className:s.tags,children:tags&&tags.map((item,index)=>/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#5182FE'},className:s.tag,children:/*#__PURE__*/_jsx(\"p\",{children:item})},index))}),text&&/*#__PURE__*/_jsx(\"p\",{dangerouslySetInnerHTML:{__html:text},className:`${s.text}`})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.right_column,children:[/*#__PURE__*/_jsx(\"div\",{className:s.images_container,children:/*#__PURE__*/_jsx(\"img\",{src:img,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:s.buttons_container,children:[/*#__PURE__*/_jsxs(\"button\",{title:'Подобається',onClick:reacionStatus?removeLikeButtonHandler:addLikeButtonHandler,disabled:fetchingStatus,className:`${s.likes_button} ${reacionStatus&&s.liked}`,children:[/*#__PURE__*/_jsx(\"img\",{src:heartIcon,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:reacionStateLength})]}),/*#__PURE__*/_jsxs(\"button\",{title:'Коментарі',onClick:commentButtonOnClickHandler,className:s.coments_button,children:[/*#__PURE__*/_jsx(\"img\",{src:commentsIcon,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:commentsLength})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.commet_container,children:[fetchedComments&&/*#__PURE__*/_jsx(CommentsList,{comment:fetchedComments}),/*#__PURE__*/_jsxs(\"div\",{className:s.coments_input,children:[/*#__PURE__*/_jsx(\"textarea\",{value:textAreaComment,onKeyDown:e=>e.key==='Enter'&&sendCommetnButtonOnClickHandler(e),onChange:e=>setTextAreaComment(e.target.value),ref:ref,placeholder:\"\\u0412\\u0430\\u0448 \\u043A\\u043E\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440...\",name:\"\",id:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:s.coments_input__btns,children:[/*#__PURE__*/_jsx(\"button\",{title:'Додати коментар',disabled:fetchingStatus,onClick:sendCommetnButtonOnClickHandler,children:/*#__PURE__*/_jsx(\"img\",{src:mailIcon,alt:\"\"})}),/*#__PURE__*/_jsx(\"button\",{title:'Смайлики',disabled:fetchingStatus,onClick:()=>setSmileStatus(status=>!status),children:/*#__PURE__*/_jsx(\"img\",{src:smileIcon,alt:\"\"})})]})]}),/*#__PURE__*/_jsx(EmojiList,{visibleStatus:smileStatus,setSmile:setTextAreaComment})]})]}),/*#__PURE__*/_jsx(\"button\",{title:visibleStatus?'Згорнути':'Розгорнути',className:s.open_button,onClick:e=>{toggleVisibleStatus(status=>visibleStatus=!status);setSmileStatus(false);changeIdSeenNews();},children:/*#__PURE__*/_jsx(\"img\",{src:arrowIcon,alt:\"\"})})]});};export default NewsItem;","map":{"version":3,"names":["useEffect","useRef","useState","s","arrowIcon","heartIcon","commentsIcon","changeIcon","deleteIcon","smileIcon","clockIcon","mailIcon","CommentsList","addIdToSeenNews","getNewsFromID","sendCommentNews","toggleLike","useDispatch","useSelector","userSelector","EmojiList","Link","jsx","_jsx","jsxs","_jsxs","toDay","Date","toJSON","slice","NewsItem","_ref","item","filterParams","adminStatus","ref","dispatch","userSeenNews","user","userData","id","title","pub_date","tags","text","img","comment","reaction","fetchedComments","setFetchedComments","commentsLength","setCommentsLenth","textAreaComment","setTextAreaComment","reacionState","setReacionState","reacionStateLength","setReacionStateLenth","reacionStatus","setReacionStatus","visibleStatus","toggleVisibleStatus","fetchingStatus","setFetchingStatus","smileStatus","setSmileStatus","findReactionStatus","state1","likeStatus","forEach","el","UserCode","length","commentButtonOnClickHandler","e","setTimeout","current","focus","sendCommetnButtonOnClickHandler","sendAndGetComments","addLikeButtonHandler","sendAndGetLikes","removeLikeButtonHandler","changeIdSeenNews","result","console","log","className","active","children","admin_btns","to","src","alt","left_column","date","map","index","style","backgroundColor","tag","dangerouslySetInnerHTML","__html","right_column","images_container","buttons_container","onClick","disabled","likes_button","liked","coments_button","commet_container","coments_input","value","onKeyDown","key","onChange","target","placeholder","name","coments_input__btns","status","setSmile","open_button"],"sources":["E:/web/web/2024/korportal/src/components/NewsItem/NewsItem.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\nimport s from './NewsItem.module.css';\r\nimport arrowIcon from '../../assets/img/icons/arrow-down-icon.svg';\r\nimport heartIcon from '../../assets/img/icons/heart-icon.svg';\r\nimport commentsIcon from '../../assets/img/icons/comments-icon.svg';\r\nimport changeIcon from '../../assets/img/icons/pencil-icon.svg';\r\nimport deleteIcon from '../../assets/img/icons/delete-icon.svg';\r\nimport smileIcon from '../../assets/img/icons/smile-icon.svg';\r\nimport clockIcon from '../../assets/img/icons/clock-icon.svg';\r\nimport mailIcon from '../../assets/img/icons/mail_gray_icon.svg';\r\nimport CommentsList from '../CommentsList/CommentsList';\r\nimport { addIdToSeenNews, getNewsFromID, sendCommentNews, toggleLike } from '../../api/api';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { userSelector } from '../../selectors/userSelectors';\r\nimport EmojiList from '../EmojiList/EmojiList';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst toDay = new Date().toJSON().slice(0, 10);\r\n\r\nconst NewsItem = ({ item, filterParams, adminStatus }) => {\r\n\tlet ref = useRef();\r\n\tconst dispatch = useDispatch();\r\n\r\n\tlet userSeenNews = useSelector(userSelector.userSeenNews);\r\n\tlet user = useSelector(userSelector.userData);\r\n\tlet { id, title, pub_date, tags, text, img, comment, reaction } = item;\r\n\r\n\tlet [fetchedComments, setFetchedComments] = useState(null);\r\n\tlet [commentsLength, setCommentsLenth] = useState(0);\r\n\tlet [textAreaComment, setTextAreaComment] = useState('');\r\n\r\n\tlet [reacionState, setReacionState] = useState(null);\r\n\tlet [reacionStateLength, setReacionStateLenth] = useState(0);\r\n\tlet [reacionStatus, setReacionStatus] = useState(false);\r\n\r\n\tlet [visibleStatus, toggleVisibleStatus] = useState(false);\r\n\tlet [fetchingStatus, setFetchingStatus] = useState(false);\r\n\tlet [smileStatus, setSmileStatus] = useState(false);\r\n\r\n\tconst findReactionStatus = (state1) => {\r\n\t\tif (state1) {\r\n\t\t\tlet likeStatus = false;\r\n\r\n\t\t\tstate1.forEach((el) => {\r\n\t\t\t\tif (el.UserCode && user.id && el.UserCode === user.id) {\r\n\t\t\t\t\tsetReacionStatus(true);\r\n\t\t\t\t\tlikeStatus = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (!likeStatus) {\r\n\t\t\t\tsetReacionStatus(false);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetReacionStatus(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// for close tab\r\n\tuseEffect(() => {\r\n\t\ttoggleVisibleStatus(false);\r\n\t\tsetSmileStatus(false);\r\n\r\n\t\treturn () => {\r\n\t\t\ttoggleVisibleStatus(false);\r\n\t\t\tsetSmileStatus(false);\r\n\t\t};\r\n\t}, [filterParams]);\r\n\r\n\t// reactions\r\n\tuseEffect(() => {\r\n\t\tsetReacionState(reaction);\r\n\t\tfindReactionStatus(reaction);\r\n\t}, [reaction]);\r\n\tuseEffect(() => {\r\n\t\t!reacionState && setReacionStateLenth(0);\r\n\t\treacionState && setReacionStateLenth(reacionState.length);\r\n\t\treacionState && user && findReactionStatus(reacionState);\r\n\t}, [reacionState, user]);\r\n\r\n\t// comments\r\n\tuseEffect(() => {\r\n\t\tsetFetchedComments(comment);\r\n\t}, [comment]);\r\n\tuseEffect(() => {\r\n\t\tfetchedComments && setCommentsLenth(fetchedComments.length);\r\n\t}, [fetchedComments]);\r\n\r\n\t// Handlers\r\n\tlet commentButtonOnClickHandler = (e) => {\r\n\t\tif (!visibleStatus) {\r\n\t\t\ttoggleVisibleStatus(true);\r\n\t\t}\r\n\t\tsetTimeout(() => {\r\n\t\t\tref.current.focus();\r\n\t\t}, 100);\r\n\t};\r\n\tlet sendCommetnButtonOnClickHandler = (e) => {\r\n\t\tlet sendAndGetComments = async () => {\r\n\t\t\tsetFetchingStatus(true);\r\n\t\t\tawait sendCommentNews(id, user.id, textAreaComment, setFetchingStatus);\r\n\t\t\tawait getNewsFromID(setFetchedComments, setReacionState, id);\r\n\t\t\tsetFetchingStatus(false);\r\n\t\t\tsetTextAreaComment('');\r\n\t\t\tsetSmileStatus(false);\r\n\t\t};\r\n\t\tsendAndGetComments();\r\n\t};\r\n\tlet addLikeButtonHandler = (e) => {\r\n\t\tlet sendAndGetLikes = async () => {\r\n\t\t\tsetFetchingStatus(true);\r\n\t\t\tawait toggleLike(id, user.id, 'like');\r\n\t\t\tawait getNewsFromID(setFetchedComments, setReacionState, id);\r\n\t\t\tsetFetchingStatus(false);\r\n\t\t};\r\n\t\tsendAndGetLikes();\r\n\t};\r\n\tlet removeLikeButtonHandler = (e) => {\r\n\t\tlet sendAndGetLikes = async () => {\r\n\t\t\tsetFetchingStatus(true);\r\n\t\t\tawait toggleLike(id, user.id, '0');\r\n\t\t\tawait getNewsFromID(setFetchedComments, setReacionState, id);\r\n\t\t\tsetReacionStatus(false);\r\n\t\t\tsetFetchingStatus(false);\r\n\t\t};\r\n\r\n\t\tsendAndGetLikes();\r\n\t};\r\n\r\n\t// functions\r\n\tconst changeIdSeenNews = async () => {\r\n\t\tlet result = await addIdToSeenNews(id, user.id);\r\n\t\tconsole.log(result);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`${s.item} ${visibleStatus && s.active}`}>\r\n\t\t\t{adminStatus && (\r\n\t\t\t\t<div className={s.admin_btns}>\r\n\t\t\t\t\t<Link to={`./add-change-news/${id}`} title=\"Змінити\">\r\n\t\t\t\t\t\t<img src={changeIcon} alt=\"\" />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link title=\"Видалити\">\r\n\t\t\t\t\t\t<img src={deleteIcon} alt=\"\" />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className={s.left_column}>\r\n\t\t\t\t<p className={s.title}>{title && title}</p>\r\n\t\t\t\t<p className={s.date}>\r\n\t\t\t\t\t<img src={clockIcon} alt=\"\" />\r\n\t\t\t\t\t{pub_date && toDay === pub_date.slice(0, 10)\r\n\t\t\t\t\t\t? `Сьогодні ${pub_date.slice(11, 16)}`\r\n\t\t\t\t\t\t: `${pub_date.slice(8, 10)}-${pub_date.slice(5, 7)}-${pub_date.slice(0, 4)} ${pub_date.slice(11, 16)}`}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className={s.tags}>\r\n\t\t\t\t\t{tags &&\r\n\t\t\t\t\t\ttags.map((item, index) => (\r\n\t\t\t\t\t\t\t<div key={index} style={{ backgroundColor: '#5182FE' }} className={s.tag}>\r\n\t\t\t\t\t\t\t\t<p>{item}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t\t{text && <p dangerouslySetInnerHTML={{ __html: text }} className={`${s.text}`} />}\r\n\t\t\t</div>\r\n\t\t\t<div className={s.right_column}>\r\n\t\t\t\t<div className={s.images_container}>\r\n\t\t\t\t\t<img src={img} alt=\"\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.buttons_container}>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttitle={'Подобається'}\r\n\t\t\t\t\t\tonClick={reacionStatus ? removeLikeButtonHandler : addLikeButtonHandler}\r\n\t\t\t\t\t\tdisabled={fetchingStatus}\r\n\t\t\t\t\t\tclassName={`${s.likes_button} ${reacionStatus && s.liked}`}>\r\n\t\t\t\t\t\t<img src={heartIcon} alt=\"\" />\r\n\t\t\t\t\t\t<p>{reacionStateLength}</p>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button title={'Коментарі'} onClick={commentButtonOnClickHandler} className={s.coments_button}>\r\n\t\t\t\t\t\t<img src={commentsIcon} alt=\"\" />\r\n\t\t\t\t\t\t<p>{commentsLength}</p>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.commet_container}>\r\n\t\t\t\t\t{fetchedComments && <CommentsList comment={fetchedComments} />}\r\n\t\t\t\t\t<div className={s.coments_input}>\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\tvalue={textAreaComment}\r\n\t\t\t\t\t\t\tonKeyDown={(e) => e.key === 'Enter' && sendCommetnButtonOnClickHandler(e)}\r\n\t\t\t\t\t\t\tonChange={(e) => setTextAreaComment(e.target.value)}\r\n\t\t\t\t\t\t\tref={ref}\r\n\t\t\t\t\t\t\tplaceholder=\"Ваш коментар...\"\r\n\t\t\t\t\t\t\tname=\"\"\r\n\t\t\t\t\t\t\tid=\"\"></textarea>\r\n\t\t\t\t\t\t<div className={s.coments_input__btns}>\r\n\t\t\t\t\t\t\t<button title={'Додати коментар'} disabled={fetchingStatus} onClick={sendCommetnButtonOnClickHandler}>\r\n\t\t\t\t\t\t\t\t<img src={mailIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button title={'Смайлики'} disabled={fetchingStatus} onClick={() => setSmileStatus((status) => !status)}>\r\n\t\t\t\t\t\t\t\t<img src={smileIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<EmojiList visibleStatus={smileStatus} setSmile={setTextAreaComment} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<button\r\n\t\t\t\ttitle={visibleStatus ? 'Згорнути' : 'Розгорнути'}\r\n\t\t\t\tclassName={s.open_button}\r\n\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\ttoggleVisibleStatus((status) => (visibleStatus = !status));\r\n\t\t\t\t\tsetSmileStatus(false);\r\n\t\t\t\t\tchangeIdSeenNews();\r\n\t\t\t\t}}>\r\n\t\t\t\t<img src={arrowIcon} alt=\"\" />\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NewsItem;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}