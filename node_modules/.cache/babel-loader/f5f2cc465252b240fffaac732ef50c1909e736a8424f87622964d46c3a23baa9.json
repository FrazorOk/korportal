{"ast":null,"code":"var _jsxFileName = \"E:\\\\WEB\\\\korportal-master\\\\src\\\\pages\\\\AdminAddChangeGalleryPage\\\\GalleryFilesFormSection\\\\GalleryFilesFormSection.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport DeleteButton from '../../../components/UI/DeleteButton/DeleteButton';\nimport s from './GalleryFilesFormSection.module.css';\nimport { deleteGalleryCatalogsFiles, domain } from '../../../api/api';\nimport Loader from '../../../components/UI/Loader/Loader';\nimport asseptIcon from '../../../assets/img/icons/assept-blue-icon.svg';\nimport axios from 'axios';\nimport { getCookie } from '../../../helpers/cookieMetods';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst GalleryFilesFormSection = ({\n  files,\n  Id,\n  getCatalogFunction\n}) => {\n  _s();\n  let [filesList, setFilesList] = useState([]);\n  let [fetchingFiles, setFetchingFiles] = useState([]);\n  let [inputFiles, setInputFiles] = useState([]);\n  let [fetchingStatus, setFetchingStatus] = useState(true);\n  async function processArray(array) {\n    for (let index = 0; index < array.length; index++) {\n      let imgInArray = [array[index]];\n      const handleUpload = async () => {\n        let token = getCookie('_form_token');\n        let data = new FormData();\n        data.append('token', `${token}`);\n        data.append('catalog_id', Id);\n        if (imgInArray) {\n          for (let i = 0; i < imgInArray.length; i++) {\n            data.append('img[]', imgInArray[i]);\n          }\n        }\n        try {\n          const response = await axios.post(`${domain}/php/upload.php`, data, {\n            onUploadProgress: event => {\n              const percent = Math.round(event.loaded * 100 / event.total);\n              console.log(`main percent: ${percent}`);\n              setFetchingFiles(fetchingFilesList => {\n                let currentItem = [...fetchingFilesList];\n                currentItem[index] = {\n                  ...currentItem[index],\n                  percent: percent\n                };\n                return currentItem;\n              });\n            }\n          });\n          return response.data;\n        } catch (error) {\n          console.error('error ' + error);\n          return null;\n        }\n      };\n      let result = await handleUpload();\n      if (result !== null && result !== void 0 && result.id) {\n        setFetchingFiles(fetchingFilesList => {\n          let currentItem = [...fetchingFilesList];\n          currentItem[index] = {\n            id: result.id,\n            url: result.url,\n            fetching: false,\n            type: result.file_type\n          };\n          return currentItem;\n        });\n      }\n    }\n  }\n  const nullState = () => {\n    setFetchingFiles([]);\n    setInputFiles([]);\n    setFetchingStatus(true);\n  };\n  const onChangeInputFilesHandler = e => {\n    let filesListInput = e.target.files;\n    if (filesListInput.length > 0) {\n      let objectFetchingFile = {\n        fetching: true,\n        url: '',\n        id: null,\n        type: null\n      };\n      let currentArray = [];\n      for (let index = 0; index < filesListInput.length; index++) {\n        currentArray.push(objectFetchingFile);\n      }\n      setFetchingFiles(currentArray);\n      setInputFiles(filesListInput);\n    }\n  };\n  useEffect(() => {\n    files && setFilesList(files);\n  }, [files]);\n  useEffect(() => {\n    if (fetchingFiles.length > 0 && inputFiles.length > 0 && fetchingStatus) {\n      setFetchingStatus(false);\n      setTimeout(() => {\n        processArray(inputFiles);\n      }, 300);\n    }\n  }, [fetchingFiles, inputFiles]);\n  useEffect(() => {\n    if (fetchingFiles && fetchingFiles.length > 0) {\n      let allFetchedStatus = fetchingFiles.find(findItem => {\n        console.log(findItem.fetching);\n        console.log(findItem);\n        if (findItem.fetching == true) {\n          return true;\n        }\n      });\n      console.log(allFetchedStatus);\n      if (!allFetchedStatus) {\n        nullState();\n        getCatalogFunction();\n      }\n    }\n  }, [fetchingFiles]);\n  const onClickDeleteHandler = id => {\n    const deleteGallery = async () => {\n      let result = await deleteGalleryCatalogsFiles(id, 'files');\n      getCatalogFunction();\n    };\n    deleteGallery();\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.files_list,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${s.files_item} ${s.files_add_btn}`,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"upload-files\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"upload-files\",\n          type: \"file\",\n          multiple: true,\n          onChange: onChangeInputFilesHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 5\n      }, this), fetchingFiles && fetchingFiles.map((file, indexFile) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${s.files_item} ${s.files_fetching}`,\n        children: file.fetching ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 10\n          }, this), file && file.percent && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              position: 'absolute',\n              top: '50%',\n              left: '50%',\n              transform: 'translate(-50%, -50%)'\n            },\n            children: [file.percent, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"img\", {\n          className: s.assept_icon,\n          src: asseptIcon,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 9\n        }, this)\n      }, indexFile, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 7\n      }, this)), filesList && filesList.length > 0 && filesList.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.files_item,\n        children: [file.file_type === 'image' && /*#__PURE__*/_jsxDEV(\"img\", {\n          loading: \"lazy\",\n          className: s.file_img,\n          src: `${file.url}`,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 39\n        }, this), file.file_type === 'video' && /*#__PURE__*/_jsxDEV(\"video\", {\n          controls: true,\n          loading: \"lazy\",\n          className: s.file_img,\n          src: `${file.url}`,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 39\n        }, this), file.file_type !== 'video' && file.file_type !== 'image' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%',\n            height: '100%',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            gap: '16px',\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            padding: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              textAlign: 'center',\n              overflowWrap: 'break-word',\n              width: '100%'\n            },\n            children: file.file_type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              textAlign: 'center',\n              overflowWrap: 'break-word',\n              width: '100%'\n            },\n            children: file.url\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 10\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(DeleteButton, {\n          onClickHandler: () => onClickDeleteHandler(file.id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 8\n        }, this)]\n      }, file.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 7\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n_s(GalleryFilesFormSection, \"LEa191CeRklzS7p1oaBtWmrDFcs=\");\n_c = GalleryFilesFormSection;\nexport default GalleryFilesFormSection;\nvar _c;\n$RefreshReg$(_c, \"GalleryFilesFormSection\");","map":{"version":3,"names":["useEffect","useState","DeleteButton","s","deleteGalleryCatalogsFiles","domain","Loader","asseptIcon","axios","getCookie","jsxDEV","_jsxDEV","Fragment","_Fragment","GalleryFilesFormSection","files","Id","getCatalogFunction","_s","filesList","setFilesList","fetchingFiles","setFetchingFiles","inputFiles","setInputFiles","fetchingStatus","setFetchingStatus","processArray","array","index","length","imgInArray","handleUpload","token","data","FormData","append","i","response","post","onUploadProgress","event","percent","Math","round","loaded","total","console","log","fetchingFilesList","currentItem","error","result","id","url","fetching","type","file_type","nullState","onChangeInputFilesHandler","e","filesListInput","target","objectFetchingFile","currentArray","push","setTimeout","allFetchedStatus","find","findItem","onClickDeleteHandler","deleteGallery","children","className","files_list","files_item","files_add_btn","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","multiple","onChange","map","file","indexFile","files_fetching","style","position","top","left","transform","assept_icon","src","alt","loading","file_img","controls","width","height","display","flexDirection","alignItems","justifyContent","gap","padding","textAlign","overflowWrap","onClickHandler","_c","$RefreshReg$"],"sources":["E:/WEB/korportal-master/src/pages/AdminAddChangeGalleryPage/GalleryFilesFormSection/GalleryFilesFormSection.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport DeleteButton from '../../../components/UI/DeleteButton/DeleteButton';\r\nimport s from './GalleryFilesFormSection.module.css';\r\nimport { deleteGalleryCatalogsFiles, domain } from '../../../api/api';\r\nimport Loader from '../../../components/UI/Loader/Loader';\r\nimport asseptIcon from '../../../assets/img/icons/assept-blue-icon.svg';\r\nimport axios from 'axios';\r\nimport { getCookie } from '../../../helpers/cookieMetods';\r\n\r\nconst GalleryFilesFormSection = ({ files, Id, getCatalogFunction }) => {\r\n\tlet [filesList, setFilesList] = useState([]);\r\n\tlet [fetchingFiles, setFetchingFiles] = useState([]);\r\n\tlet [inputFiles, setInputFiles] = useState([]);\r\n\tlet [fetchingStatus, setFetchingStatus] = useState(true);\r\n\r\n\tasync function processArray(array) {\r\n\t\tfor (let index = 0; index < array.length; index++) {\r\n\t\t\tlet imgInArray = [array[index]];\r\n\r\n\t\t\tconst handleUpload = async () => {\r\n\t\t\t\tlet token = getCookie('_form_token');\r\n\r\n\t\t\t\tlet data = new FormData();\r\n\t\t\t\tdata.append('token', `${token}`);\r\n\t\t\t\tdata.append('catalog_id', Id);\r\n\r\n\t\t\t\tif (imgInArray) {\r\n\t\t\t\t\tfor (let i = 0; i < imgInArray.length; i++) {\r\n\t\t\t\t\t\tdata.append('img[]', imgInArray[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await axios.post(`${domain}/php/upload.php`, data, {\r\n\t\t\t\t\t\tonUploadProgress: (event) => {\r\n\t\t\t\t\t\t\tconst percent = Math.round((event.loaded * 100) / event.total);\r\n\t\t\t\t\t\t\tconsole.log(`main percent: ${percent}`);\r\n\r\n\t\t\t\t\t\t\tsetFetchingFiles((fetchingFilesList) => {\r\n\t\t\t\t\t\t\t\tlet currentItem = [...fetchingFilesList];\r\n\t\t\t\t\t\t\t\tcurrentItem[index] = {\r\n\t\t\t\t\t\t\t\t\t...currentItem[index],\r\n\t\t\t\t\t\t\t\t\tpercent: percent,\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\treturn currentItem;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn response.data;\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('error ' + error);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tlet result = await handleUpload();\r\n\r\n\t\t\tif (result?.id) {\r\n\t\t\t\tsetFetchingFiles((fetchingFilesList) => {\r\n\t\t\t\t\tlet currentItem = [...fetchingFilesList];\r\n\r\n\t\t\t\t\tcurrentItem[index] = {\r\n\t\t\t\t\t\tid: result.id,\r\n\t\t\t\t\t\turl: result.url,\r\n\t\t\t\t\t\tfetching: false,\r\n\t\t\t\t\t\ttype: result.file_type,\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\treturn currentItem;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tconst nullState = () => {\r\n\t\tsetFetchingFiles([]);\r\n\t\tsetInputFiles([]);\r\n\t\tsetFetchingStatus(true);\r\n\t};\r\n\tconst onChangeInputFilesHandler = (e) => {\r\n\t\tlet filesListInput = e.target.files;\r\n\r\n\t\tif (filesListInput.length > 0) {\r\n\t\t\tlet objectFetchingFile = { fetching: true, url: '', id: null, type: null };\r\n\r\n\t\t\tlet currentArray = [];\r\n\t\t\tfor (let index = 0; index < filesListInput.length; index++) {\r\n\t\t\t\tcurrentArray.push(objectFetchingFile);\r\n\t\t\t}\r\n\t\t\tsetFetchingFiles(currentArray);\r\n\t\t\tsetInputFiles(filesListInput);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfiles && setFilesList(files);\r\n\t}, [files]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (fetchingFiles.length > 0 && inputFiles.length > 0 && fetchingStatus) {\r\n\t\t\tsetFetchingStatus(false);\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tprocessArray(inputFiles);\r\n\t\t\t}, 300);\r\n\t\t}\r\n\t}, [fetchingFiles, inputFiles]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (fetchingFiles && fetchingFiles.length > 0) {\r\n\t\t\tlet allFetchedStatus = fetchingFiles.find((findItem) => {\r\n\t\t\t\tconsole.log(findItem.fetching);\r\n\t\t\t\tconsole.log(findItem);\r\n\r\n\t\t\t\tif (findItem.fetching == true) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tconsole.log(allFetchedStatus);\r\n\r\n\t\t\tif (!allFetchedStatus) {\r\n\t\t\t\tnullState();\r\n\t\t\t\tgetCatalogFunction();\r\n\t\t\t}\r\n\t\t}\r\n\t}, [fetchingFiles]);\r\n\r\n\tconst onClickDeleteHandler = (id) => {\r\n\t\tconst deleteGallery = async () => {\r\n\t\t\tlet result = await deleteGalleryCatalogsFiles(id, 'files');\r\n\t\t\tgetCatalogFunction();\r\n\t\t};\r\n\t\tdeleteGallery();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={s.files_list}>\r\n\t\t\t\t<div className={`${s.files_item} ${s.files_add_btn}`}>\r\n\t\t\t\t\t<label htmlFor=\"upload-files\"></label>\r\n\t\t\t\t\t<input id=\"upload-files\" type=\"file\" multiple onChange={onChangeInputFilesHandler}></input>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{fetchingFiles &&\r\n\t\t\t\t\tfetchingFiles.map((file, indexFile) => (\r\n\t\t\t\t\t\t<div key={indexFile} className={`${s.files_item} ${s.files_fetching}`}>\r\n\t\t\t\t\t\t\t{file.fetching ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t\t\t\t{file && file.percent && (\r\n\t\t\t\t\t\t\t\t\t\t<p style={{ position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)' }}>{file.percent}%</p>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<img className={s.assept_icon} src={asseptIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t{filesList &&\r\n\t\t\t\t\tfilesList.length > 0 &&\r\n\t\t\t\t\tfilesList.map((file) => (\r\n\t\t\t\t\t\t<div key={file.id} className={s.files_item}>\r\n\t\t\t\t\t\t\t{file.file_type === 'image' && <img loading=\"lazy\" className={s.file_img} src={`${file.url}`} alt=\"\" />}\r\n\t\t\t\t\t\t\t{file.file_type === 'video' && <video controls loading=\"lazy\" className={s.file_img} src={`${file.url}`} alt=\"\" />}\r\n\t\t\t\t\t\t\t{file.file_type !== 'video' && file.file_type !== 'image' && (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\t\t\t\t\t\tgap: '16px',\r\n\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t\t\t\tleft: 0,\r\n\t\t\t\t\t\t\t\t\t\tpadding: '20px',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<span style={{ textAlign: 'center', overflowWrap: 'break-word', width: '100%' }}>{file.file_type}</span>\r\n\t\t\t\t\t\t\t\t\t<span style={{ textAlign: 'center', overflowWrap: 'break-word', width: '100%' }}>{file.url}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<DeleteButton onClickHandler={() => onClickDeleteHandler(file.id)} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default GalleryFilesFormSection;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}