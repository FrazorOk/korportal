{"ast":null,"code":"import BirthdaySection from'./BirthdaySection/BirthdaySection';import EventSection from'./EventSection/EventSection';import NewsSection from'./NewsSection/NewsSection';import HeroSection from'./HeroSection/HeroSection';import TodaySection from'./TodaySection/TodaySection';import VivoChatSection from'./VivoChatSection/VivoChatSection';import{memo,useEffect,useRef,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HomePage=()=>{let ref=useRef();let ref2=useRef();let ref3=useRef();const[width,setwidth]=useState(0);const[scroll,setScroll]=useState(0);const[windowHeight,setWindowHeight]=useState(null);const[statusStiky,setStatusStiky]=useState(false);const handleScroll=sizeWindow=>{if(ref3.current){let heightWindows=ref3.current.getBoundingClientRect();if(ref3.current&&ref.current&&sizeWindow<heightWindows.height+130){setStatusStiky(true);setScroll(ref.current.getBoundingClientRect().top+ref3.current.getBoundingClientRect().height-sizeWindow+30);}else{setStatusStiky(false);setScroll(ref.current.getBoundingClientRect().top-95);}}};useEffect(()=>{const observer=new ResizeObserver(entries=>{setwidth(entries[0].contentRect.width/2-15);setWindowHeight(window.innerHeight);});observer.observe(ref.current);return()=>{ref.current&&observer.unobserve(ref.current);};},[]);useEffect(()=>{if(windowHeight){let el=document.querySelector('.main-scroll-block');el.addEventListener('scroll',e=>handleScroll(window.innerHeight));return()=>{window.removeEventListener('scroll',e=>handleScroll(window.innerHeight));};}},[windowHeight]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0413\\u043E\\u043B\\u043E\\u0432\\u043D\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row no-wrap\",children:[/*#__PURE__*/_jsx(HeroSection,{}),/*#__PURE__*/_jsx(TodaySection,{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(EventSection,{})}),/*#__PURE__*/_jsxs(\"div\",{ref:ref,className:\"row end\",children:[/*#__PURE__*/_jsxs(\"div\",{ref:ref3,style:{width:width},className:`column-50 ${scroll<0&&'sticky-position'} ${statusStiky&&'sticky-position__bottom'}`,children:[/*#__PURE__*/_jsx(NewsSection,{}),/*#__PURE__*/_jsx(BirthdaySection,{})]}),/*#__PURE__*/_jsx(VivoChatSection,{ref1:ref2})]})]});};export default/*#__PURE__*/memo(HomePage);","map":{"version":3,"names":["BirthdaySection","EventSection","NewsSection","HeroSection","TodaySection","VivoChatSection","memo","useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","HomePage","ref","ref2","ref3","width","setwidth","scroll","setScroll","windowHeight","setWindowHeight","statusStiky","setStatusStiky","handleScroll","sizeWindow","current","heightWindows","getBoundingClientRect","height","top","observer","ResizeObserver","entries","contentRect","window","innerHeight","observe","unobserve","el","document","querySelector","addEventListener","e","removeEventListener","children","className","style","ref1"],"sources":["C:/Users/zhuikov/OneDrive - SOFTCOM/Desktop/web/2024/korportal/src/pages/HomePage/HomePage.jsx"],"sourcesContent":["import BirthdaySection from './BirthdaySection/BirthdaySection';\r\nimport EventSection from './EventSection/EventSection';\r\nimport NewsSection from './NewsSection/NewsSection';\r\nimport HeroSection from './HeroSection/HeroSection';\r\nimport TodaySection from './TodaySection/TodaySection';\r\nimport VivoChatSection from './VivoChatSection/VivoChatSection';\r\nimport { memo, useEffect, useRef, useState } from 'react';\r\n\r\nconst HomePage = () => {\r\n\tlet ref = useRef();\r\n\tlet ref2 = useRef();\r\n\tlet ref3 = useRef();\r\n\r\n\tconst [width, setwidth] = useState(0);\r\n\tconst [scroll, setScroll] = useState(0);\r\n\tconst [windowHeight, setWindowHeight] = useState(null);\r\n\tconst [statusStiky, setStatusStiky] = useState(false);\r\n\r\n\tconst handleScroll = (sizeWindow) => {\r\n\t\tif (ref3.current) {\r\n\t\t\tlet heightWindows = ref3.current.getBoundingClientRect();\r\n\r\n\t\t\tif (ref3.current && ref.current && sizeWindow < heightWindows.height + 130) {\r\n\t\t\t\tsetStatusStiky(true);\r\n\t\t\t\tsetScroll(ref.current.getBoundingClientRect().top + ref3.current.getBoundingClientRect().height - sizeWindow + 30);\r\n\t\t\t} else {\r\n\t\t\t\tsetStatusStiky(false);\r\n\t\t\t\tsetScroll(ref.current.getBoundingClientRect().top - 95);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst observer = new ResizeObserver((entries) => {\r\n\t\t\tsetwidth(entries[0].contentRect.width / 2 - 15);\r\n\t\t\tsetWindowHeight(window.innerHeight);\r\n\t\t});\r\n\t\tobserver.observe(ref.current);\r\n\t\treturn () => {\r\n\t\t\tref.current && observer.unobserve(ref.current);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (windowHeight) {\r\n\t\t\tlet el = document.querySelector('.main-scroll-block');\r\n\t\t\tel.addEventListener('scroll', (e) => handleScroll(window.innerHeight));\r\n\t\t\treturn () => {\r\n\t\t\t\twindow.removeEventListener('scroll', (e) => handleScroll(window.innerHeight));\r\n\t\t\t};\r\n\t\t}\r\n\t}, [windowHeight]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Головна</h1>\r\n\t\t\t<div className=\"row no-wrap\">\r\n\t\t\t\t<HeroSection />\r\n\t\t\t\t<TodaySection />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<EventSection />\r\n\t\t\t</div>\r\n\t\t\t<div ref={ref} className=\"row end\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tref={ref3}\r\n\t\t\t\t\tstyle={{ width: width }}\r\n\t\t\t\t\tclassName={`column-50 ${scroll < 0 && 'sticky-position'} ${statusStiky && 'sticky-position__bottom'}`}>\r\n\t\t\t\t\t<NewsSection />\r\n\t\t\t\t\t<BirthdaySection />\r\n\t\t\t\t</div>\r\n\t\t\t\t<VivoChatSection ref1={ref2} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default memo(HomePage);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}