{"ast":null,"code":"var _jsxFileName = \"E:\\\\WEB\\\\korportal-master\\\\src\\\\components\\\\NewsItemLow\\\\NewsItemLow.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\nimport s from './NewsItemLow.module.css';\nimport arrowIcon from '../../assets/img/icons/arrow-down-icon.svg';\nimport heartIcon from '../../assets/img/icons/heart-icon.svg';\nimport commentsIcon from '../../assets/img/icons/comments-icon.svg';\nimport smileIcon from '../../assets/img/icons/smile-icon.svg';\nimport clockIcon from '../../assets/img/icons/clock-icon.svg';\nimport mailIcon from '../../assets/img/icons/paper-plane-icon.svg';\nimport CommentsList from '../CommentsList/CommentsList';\nimport { addIdToSeenNews, getNewsFromID, sendCommentNews, toggleLike } from '../../api/api';\nimport { Provider, useDispatch, useSelector } from 'react-redux';\nimport { userSelector } from '../../selectors/userSelectors';\nimport EmojiList from '../EmojiList/EmojiList';\nimport { Link } from 'react-router-dom';\nimport { fetchSeenNews } from '../../store/thunks';\nimport NewsImgSlider from '../NewsImgSlider/NewsImgSlider';\nimport { useOutsideClick } from '../../hooks/useOutsideClick';\nimport EditAdminButton from '../UI/EditAdminButton/EditAdminButton';\nimport UserInfoModalBtn from '../UserInfoModalBtn/UserInfoModalBtn';\nimport ReactDOM from 'react-dom/client';\nimport store from '../../store/store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst toDay = new Date().toJSON().slice(0, 10);\nconst NewsItemLow = ({\n  item,\n  filterParams,\n  adminStatus,\n  fullScreen,\n  viewed = false\n}) => {\n  _s();\n  let ref = useRef();\n  let refText = useRef();\n  const dispatch = useDispatch();\n\n  // select block\n  let [selectorStatus, setSelectorStatus] = useState(false);\n  let [copyLinkStatus, setCopyLinkStatus] = useState(false);\n  let userSeenNews = useSelector(userSelector.userSeenNews);\n  let user = useSelector(userSelector.userData);\n  let {\n    id,\n    title,\n    pub_date,\n    tags,\n    text,\n    html,\n    img,\n    comment,\n    reaction,\n    views\n  } = item;\n  let [fetchedComments, setFetchedComments] = useState(null);\n  let [commentsLength, setCommentsLenth] = useState(0);\n  let [textAreaComment, setTextAreaComment] = useState('');\n  let [reacionState, setReacionState] = useState(null);\n  let [reacionStateLength, setReacionStateLenth] = useState(0);\n  let [reacionStatus, setReacionStatus] = useState(false);\n  let [currentViews, setCurrentViews] = useState(null);\n  let [visibleStatus, toggleVisibleStatus] = useState(false);\n  let [fetchingStatus, setFetchingStatus] = useState(false);\n  let [smileStatus, setSmileStatus] = useState(false);\n  let [isSeenStatus, setSeenStatus] = useState(false);\n\n  // functions\n  const findReactionStatus = state1 => {\n    if (state1) {\n      let likeStatus = false;\n      state1.forEach(el => {\n        if (el.UserCode && user.id && el.UserCode === user.id) {\n          setReacionStatus(true);\n          likeStatus = true;\n        }\n      });\n      if (!likeStatus) {\n        setReacionStatus(false);\n      }\n    } else {\n      setReacionStatus(false);\n    }\n  };\n  const changeIdSeenNews = async () => {\n    let result = await addIdToSeenNews(id, user.id);\n    result.status === 200 && dispatch(fetchSeenNews(user.id));\n  };\n  let changeViews = async () => {\n    await changeIdSeenNews();\n    let relustItem = await getNewsFromID(id, setFetchedComments, setReacionState);\n    setCurrentViews(relustItem[0].views);\n  };\n  const uploadComments = async () => {\n    setFetchingStatus(true);\n    await getNewsFromID(id, setFetchedComments, setReacionState);\n    setFetchingStatus(false);\n    setTextAreaComment('');\n    setSmileStatus(false);\n  };\n  const changeUserLinksToButtons = () => {\n    setTimeout(() => {\n      const linksInText = document.querySelectorAll(`._userLink`);\n      console.log(linksInText);\n      linksInText && linksInText.length > 0 && linksInText.forEach(linkInText => {\n        const exampleAttr1 = linkInText.getAttribute('title');\n        const exampleAttr2 = linkInText.getAttribute('href');\n        const container = document.createElement('span');\n        linkInText.replaceWith(container);\n        if (container) {\n          const root = ReactDOM.createRoot(container);\n          root.render( /*#__PURE__*/_jsxDEV(Provider, {\n            store: store,\n            children: /*#__PURE__*/_jsxDEV(UserInfoModalBtn, {\n              userId: exampleAttr2,\n              children: exampleAttr1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 8\n          }, this));\n        }\n      });\n    }, 0);\n  };\n  useEffect(() => {\n    if (viewed) {\n      toggleVisibleStatus(true);\n    } else {\n      toggleVisibleStatus(false);\n    }\n  }, []);\n  useEffect(() => {\n    if (viewed && id && user.id && userSeenNews) {\n      let seenStatus = false;\n      userSeenNews.forEach(element => {\n        if (element == id) {\n          seenStatus = true;\n        }\n      });\n      if (!seenStatus) {\n        changeViews();\n      }\n    }\n  }, [id, user.id, userSeenNews]);\n  useEffect(() => {\n    if (text) {\n      changeUserLinksToButtons();\n    }\n  }, [text]);\n\n  // for close tab\n  useEffect(() => {\n    if (!viewed) {\n      toggleVisibleStatus(false);\n      setSmileStatus(false);\n    }\n    return () => {\n      toggleVisibleStatus(false);\n      setSmileStatus(false);\n    };\n  }, [filterParams]);\n\n  // this item is seen?\n  useEffect(() => {\n    userSeenNews && userSeenNews.forEach(element => {\n      if (element == id) {\n        setSeenStatus(true);\n      }\n    });\n  }, [userSeenNews]);\n\n  // reactions\n  useEffect(() => {\n    setReacionState(reaction);\n    findReactionStatus(reaction);\n  }, [reaction]);\n  useEffect(() => {\n    !reacionState && setReacionStateLenth(0);\n    reacionState && setReacionStateLenth(reacionState.length);\n    reacionState && user && findReactionStatus(reacionState);\n  }, [reacionState, user]);\n\n  // comments\n  useEffect(() => {\n    setFetchedComments(comment);\n  }, [comment]);\n  useEffect(() => {\n    fetchedComments && setCommentsLenth(fetchedComments.length);\n    fetchedComments === null && setCommentsLenth(0);\n  }, [fetchedComments]);\n  useEffect(() => {\n    views && setCurrentViews(views);\n  }, [views]);\n\n  // Remove user links\n  useEffect(() => {\n    changeUserLinksToButtons();\n  }, [visibleStatus]);\n\n  // Handlers\n  let commentButtonOnClickHandler = e => {\n    if (!visibleStatus) {\n      toggleVisibleStatus(true);\n    }\n    if (!isSeenStatus) {\n      let changeViews = async () => {\n        await changeIdSeenNews();\n        let relustItem = await getNewsFromID(id, setFetchedComments, setReacionState);\n        setCurrentViews(relustItem[0].views);\n      };\n      changeViews();\n    }\n    setTimeout(() => {\n      ref.current.focus();\n    }, 100);\n  };\n  let sendCommetnButtonOnClickHandler = e => {\n    let sendAndGetComments = async () => {\n      setFetchingStatus(true);\n      await sendCommentNews(id, user.id, textAreaComment, setFetchingStatus);\n      await getNewsFromID(id, setFetchedComments, setReacionState);\n      setFetchingStatus(false);\n      setTextAreaComment('');\n      setSmileStatus(false);\n    };\n    if (textAreaComment && textAreaComment.trim()) {\n      sendAndGetComments();\n    }\n  };\n  let addLikeButtonHandler = e => {\n    let sendAndGetLikes = async () => {\n      setFetchingStatus(true);\n      await toggleLike(id, user.id, 'like');\n      await getNewsFromID(id, setFetchedComments, setReacionState);\n      setFetchingStatus(false);\n    };\n    sendAndGetLikes();\n  };\n  let removeLikeButtonHandler = e => {\n    let sendAndGetLikes = async () => {\n      setFetchingStatus(true);\n      await toggleLike(id, user.id, '0');\n      await getNewsFromID(id, setFetchedComments, setReacionState, id);\n      setReacionStatus(false);\n      setFetchingStatus(false);\n    };\n    sendAndGetLikes();\n  };\n  let onClickVisibleButtonHandler = () => {\n    toggleVisibleStatus(status => visibleStatus = !status);\n    setSmileStatus(false);\n    if (!isSeenStatus) {\n      changeViews();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${s.item} ${visibleStatus && s.active} ${fullScreen && s.full_screen}`,\n    children: [adminStatus && /*#__PURE__*/_jsxDEV(EditAdminButton, {\n      link: `./add-change-news/${id}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.left_column,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: s.title,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            className: s.title_link,\n            title: \"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438\",\n            to: `/feed-news/feed-separate-news/${id}`,\n            dangerouslySetInnerHTML: {\n              __html: title\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: useOutsideClick(() => selectorStatus && setSelectorStatus(false) && setCopyLinkStatus(false)),\n          className: s.selector_list,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            title: selectorStatus ? 'Закрити' : 'Відкрити',\n            onClick: () => {\n              setSelectorStatus(selector => !selector);\n              setCopyLinkStatus(false);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: `${s.selector_body} ${selectorStatus && s.active}`,\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/feed-news/feed-separate-news/${id}`,\n                children: \"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  let inp = document.createElement('input');\n                  inp.value = `https://portal.softcom.ua/feed-news/feed-separate-news/${id}`;\n                  document.body.appendChild(inp);\n                  inp.select();\n                  if (document.execCommand('copy')) {\n                    setCopyLinkStatus(true);\n                  } else {\n                    setCopyLinkStatus(false);\n                  }\n                  document.body.removeChild(inp);\n                },\n                children: \"\\u041A\\u043E\\u043F\\u0456\\u044E\\u0432\\u0430\\u0442\\u0438 \\u043F\\u043E\\u0441\\u0438\\u043B\\u0430\\u043D\\u043D\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 9\n              }, this), copyLinkStatus && /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: 'green',\n                  fontSize: '12px',\n                  width: '100%',\n                  textAlign: 'center'\n                },\n                children: \"\\u0421\\u043A\\u043E\\u043F\\u0456\\u0439\\u043E\\u0432\\u0430\\u043D\\u043E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 28\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: s.date,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: clockIcon,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 6\n        }, this), pub_date && toDay === pub_date.slice(0, 10) ? `Сьогодні ${pub_date.slice(11, 16)}` : `${pub_date.slice(8, 10)}-${pub_date.slice(5, 7)}-${pub_date.slice(0, 4)} ${pub_date.slice(11, 16)}`]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.tags,\n        children: tags && tags.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: '#5182FE'\n          },\n          className: s.tag,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 9\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 8\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 5\n      }, this), visibleStatus && /*#__PURE__*/_jsxDEV(\"p\", {\n        ref: refText,\n        dangerouslySetInnerHTML: {\n          __html: text\n        },\n        className: `${s.text}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.right_column,\n      children: [img && visibleStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.images_container,\n        children: /*#__PURE__*/_jsxDEV(NewsImgSlider, {\n          img: img,\n          fullScreen: fullScreen,\n          visibleStatus: visibleStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.buttons_container,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.buttons_row,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            title: 'Подобається',\n            onClick: reacionStatus ? removeLikeButtonHandler : addLikeButtonHandler,\n            disabled: fetchingStatus,\n            className: `${s.likes_button} ${reacionStatus && s.liked}`,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: heartIcon,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: reacionStateLength\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            title: 'Коментарі',\n            onClick: commentButtonOnClickHandler,\n            className: s.coments_button,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: commentsIcon,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: commentsLength\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u041A\\u043E\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0456\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: s.views,\n            children: [\"\\u041F\\u0435\\u0440\\u0435\\u0433\\u043B\\u044F\\u0434\\u0438: \", currentViews ? currentViews : '0']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 5\n      }, this), visibleStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.commet_container,\n        children: [fetchedComments && /*#__PURE__*/_jsxDEV(CommentsList, {\n          comment: fetchedComments,\n          fullScreen: fullScreen,\n          uploadComments: uploadComments\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.coments_input,\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: textAreaComment\n            // onKeyDown={(e) => e.key === 'Enter' && sendCommetnButtonOnClickHandler(e)}\n            ,\n            onChange: e => setTextAreaComment(e.target.value),\n            ref: ref,\n            placeholder: \"\\u0412\\u0430\\u0448 \\u043A\\u043E\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440...\",\n            name: \"\",\n            id: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: s.coments_input__btns,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              title: 'Смайлики',\n              disabled: fetchingStatus,\n              onClick: () => setSmileStatus(status => !status),\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: smileIcon,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              title: 'Додати коментар',\n              disabled: fetchingStatus,\n              onClick: sendCommetnButtonOnClickHandler,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: mailIcon,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(EmojiList, {\n          visibleStatus: smileStatus,\n          setSmile: setTextAreaComment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 4\n    }, this), !viewed && /*#__PURE__*/_jsxDEV(\"button\", {\n      title: visibleStatus ? 'Згорнути' : 'Розгорнути',\n      className: s.open_button,\n      onClick: onClickVisibleButtonHandler,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: arrowIcon,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 256,\n    columnNumber: 3\n  }, this);\n};\n_s(NewsItemLow, \"IljmP/HNu+KX30Mz/qM4s/llSeQ=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useOutsideClick];\n});\n_c = NewsItemLow;\nexport default NewsItemLow;\nvar _c;\n$RefreshReg$(_c, \"NewsItemLow\");","map":{"version":3,"names":["useEffect","useRef","useState","s","arrowIcon","heartIcon","commentsIcon","smileIcon","clockIcon","mailIcon","CommentsList","addIdToSeenNews","getNewsFromID","sendCommentNews","toggleLike","Provider","useDispatch","useSelector","userSelector","EmojiList","Link","fetchSeenNews","NewsImgSlider","useOutsideClick","EditAdminButton","UserInfoModalBtn","ReactDOM","store","jsxDEV","_jsxDEV","toDay","Date","toJSON","slice","NewsItemLow","item","filterParams","adminStatus","fullScreen","viewed","_s","ref","refText","dispatch","selectorStatus","setSelectorStatus","copyLinkStatus","setCopyLinkStatus","userSeenNews","user","userData","id","title","pub_date","tags","text","html","img","comment","reaction","views","fetchedComments","setFetchedComments","commentsLength","setCommentsLenth","textAreaComment","setTextAreaComment","reacionState","setReacionState","reacionStateLength","setReacionStateLenth","reacionStatus","setReacionStatus","currentViews","setCurrentViews","visibleStatus","toggleVisibleStatus","fetchingStatus","setFetchingStatus","smileStatus","setSmileStatus","isSeenStatus","setSeenStatus","findReactionStatus","state1","likeStatus","forEach","el","UserCode","changeIdSeenNews","result","status","changeViews","relustItem","uploadComments","changeUserLinksToButtons","setTimeout","linksInText","document","querySelectorAll","console","log","length","linkInText","exampleAttr1","getAttribute","exampleAttr2","container","createElement","replaceWith","root","createRoot","render","children","userId","fileName","_jsxFileName","lineNumber","columnNumber","seenStatus","element","commentButtonOnClickHandler","e","current","focus","sendCommetnButtonOnClickHandler","sendAndGetComments","trim","addLikeButtonHandler","sendAndGetLikes","removeLikeButtonHandler","onClickVisibleButtonHandler","className","active","full_screen","link","left_column","title_link","to","dangerouslySetInnerHTML","__html","selector_list","onClick","selector","selector_body","inp","value","body","appendChild","select","execCommand","removeChild","style","color","fontSize","width","textAlign","date","src","alt","map","index","backgroundColor","tag","right_column","images_container","buttons_container","buttons_row","disabled","likes_button","liked","coments_button","commet_container","coments_input","onChange","target","placeholder","name","coments_input__btns","setSmile","open_button","_c","$RefreshReg$"],"sources":["E:/WEB/korportal-master/src/components/NewsItemLow/NewsItemLow.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\nimport s from './NewsItemLow.module.css';\r\nimport arrowIcon from '../../assets/img/icons/arrow-down-icon.svg';\r\nimport heartIcon from '../../assets/img/icons/heart-icon.svg';\r\nimport commentsIcon from '../../assets/img/icons/comments-icon.svg';\r\nimport smileIcon from '../../assets/img/icons/smile-icon.svg';\r\nimport clockIcon from '../../assets/img/icons/clock-icon.svg';\r\nimport mailIcon from '../../assets/img/icons/paper-plane-icon.svg';\r\nimport CommentsList from '../CommentsList/CommentsList';\r\nimport { addIdToSeenNews, getNewsFromID, sendCommentNews, toggleLike } from '../../api/api';\r\nimport { Provider, useDispatch, useSelector } from 'react-redux';\r\nimport { userSelector } from '../../selectors/userSelectors';\r\nimport EmojiList from '../EmojiList/EmojiList';\r\nimport { Link } from 'react-router-dom';\r\nimport { fetchSeenNews } from '../../store/thunks';\r\nimport NewsImgSlider from '../NewsImgSlider/NewsImgSlider';\r\nimport { useOutsideClick } from '../../hooks/useOutsideClick';\r\nimport EditAdminButton from '../UI/EditAdminButton/EditAdminButton';\r\nimport UserInfoModalBtn from '../UserInfoModalBtn/UserInfoModalBtn';\r\nimport ReactDOM from 'react-dom/client';\r\nimport store from '../../store/store';\r\n\r\nconst toDay = new Date().toJSON().slice(0, 10);\r\n\r\nconst NewsItemLow = ({ item, filterParams, adminStatus, fullScreen, viewed = false }) => {\r\n\tlet ref = useRef();\r\n\tlet refText = useRef();\r\n\tconst dispatch = useDispatch();\r\n\r\n\t// select block\r\n\tlet [selectorStatus, setSelectorStatus] = useState(false);\r\n\tlet [copyLinkStatus, setCopyLinkStatus] = useState(false);\r\n\r\n\tlet userSeenNews = useSelector(userSelector.userSeenNews);\r\n\tlet user = useSelector(userSelector.userData);\r\n\tlet { id, title, pub_date, tags, text, html, img, comment, reaction, views } = item;\r\n\r\n\tlet [fetchedComments, setFetchedComments] = useState(null);\r\n\tlet [commentsLength, setCommentsLenth] = useState(0);\r\n\tlet [textAreaComment, setTextAreaComment] = useState('');\r\n\r\n\tlet [reacionState, setReacionState] = useState(null);\r\n\tlet [reacionStateLength, setReacionStateLenth] = useState(0);\r\n\tlet [reacionStatus, setReacionStatus] = useState(false);\r\n\r\n\tlet [currentViews, setCurrentViews] = useState(null);\r\n\r\n\tlet [visibleStatus, toggleVisibleStatus] = useState(false);\r\n\tlet [fetchingStatus, setFetchingStatus] = useState(false);\r\n\tlet [smileStatus, setSmileStatus] = useState(false);\r\n\tlet [isSeenStatus, setSeenStatus] = useState(false);\r\n\r\n\t// functions\r\n\tconst findReactionStatus = (state1) => {\r\n\t\tif (state1) {\r\n\t\t\tlet likeStatus = false;\r\n\r\n\t\t\tstate1.forEach((el) => {\r\n\t\t\t\tif (el.UserCode && user.id && el.UserCode === user.id) {\r\n\t\t\t\t\tsetReacionStatus(true);\r\n\t\t\t\t\tlikeStatus = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (!likeStatus) {\r\n\t\t\t\tsetReacionStatus(false);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetReacionStatus(false);\r\n\t\t}\r\n\t};\r\n\tconst changeIdSeenNews = async () => {\r\n\t\tlet result = await addIdToSeenNews(id, user.id);\r\n\t\tresult.status === 200 && dispatch(fetchSeenNews(user.id));\r\n\t};\r\n\tlet changeViews = async () => {\r\n\t\tawait changeIdSeenNews();\r\n\t\tlet relustItem = await getNewsFromID(id, setFetchedComments, setReacionState);\r\n\t\tsetCurrentViews(relustItem[0].views);\r\n\t};\r\n\tconst uploadComments = async () => {\r\n\t\tsetFetchingStatus(true);\r\n\t\tawait getNewsFromID(id, setFetchedComments, setReacionState);\r\n\t\tsetFetchingStatus(false);\r\n\t\tsetTextAreaComment('');\r\n\t\tsetSmileStatus(false);\r\n\t};\r\n\tconst changeUserLinksToButtons = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tconst linksInText = document.querySelectorAll(`._userLink`);\r\n\t\t\tconsole.log(linksInText);\r\n\r\n\t\t\tlinksInText &&\r\n\t\t\t\tlinksInText.length > 0 &&\r\n\t\t\t\tlinksInText.forEach((linkInText) => {\r\n\t\t\t\t\tconst exampleAttr1 = linkInText.getAttribute('title');\r\n\t\t\t\t\tconst exampleAttr2 = linkInText.getAttribute('href');\r\n\r\n\t\t\t\t\tconst container = document.createElement('span');\r\n\t\t\t\t\tlinkInText.replaceWith(container);\r\n\r\n\t\t\t\t\tif (container) {\r\n\t\t\t\t\t\tconst root = ReactDOM.createRoot(container);\r\n\r\n\t\t\t\t\t\troot.render(\r\n\t\t\t\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t\t\t\t<UserInfoModalBtn userId={exampleAttr2}>{exampleAttr1}</UserInfoModalBtn>\r\n\t\t\t\t\t\t\t</Provider>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}, 0);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (viewed) {\r\n\t\t\ttoggleVisibleStatus(true);\r\n\t\t} else {\r\n\t\t\ttoggleVisibleStatus(false);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (viewed && id && user.id && userSeenNews) {\r\n\t\t\tlet seenStatus = false;\r\n\t\t\tuserSeenNews.forEach((element) => {\r\n\t\t\t\tif (element == id) {\r\n\t\t\t\t\tseenStatus = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (!seenStatus) {\r\n\t\t\t\tchangeViews();\r\n\t\t\t}\r\n\t\t}\r\n\t}, [id, user.id, userSeenNews]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (text) {\r\n\t\t\tchangeUserLinksToButtons();\r\n\t\t}\r\n\t}, [text]);\r\n\r\n\t// for close tab\r\n\tuseEffect(() => {\r\n\t\tif (!viewed) {\r\n\t\t\ttoggleVisibleStatus(false);\r\n\t\t\tsetSmileStatus(false);\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\ttoggleVisibleStatus(false);\r\n\t\t\tsetSmileStatus(false);\r\n\t\t};\r\n\t}, [filterParams]);\r\n\r\n\t// this item is seen?\r\n\tuseEffect(() => {\r\n\t\tuserSeenNews &&\r\n\t\t\tuserSeenNews.forEach((element) => {\r\n\t\t\t\tif (element == id) {\r\n\t\t\t\t\tsetSeenStatus(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}, [userSeenNews]);\r\n\r\n\t// reactions\r\n\tuseEffect(() => {\r\n\t\tsetReacionState(reaction);\r\n\t\tfindReactionStatus(reaction);\r\n\t}, [reaction]);\r\n\tuseEffect(() => {\r\n\t\t!reacionState && setReacionStateLenth(0);\r\n\t\treacionState && setReacionStateLenth(reacionState.length);\r\n\t\treacionState && user && findReactionStatus(reacionState);\r\n\t}, [reacionState, user]);\r\n\r\n\t// comments\r\n\tuseEffect(() => {\r\n\t\tsetFetchedComments(comment);\r\n\t}, [comment]);\r\n\tuseEffect(() => {\r\n\t\tfetchedComments && setCommentsLenth(fetchedComments.length);\r\n\t\tfetchedComments === null && setCommentsLenth(0);\r\n\t}, [fetchedComments]);\r\n\tuseEffect(() => {\r\n\t\tviews && setCurrentViews(views);\r\n\t}, [views]);\r\n\r\n\t// Remove user links\r\n\tuseEffect(() => {\r\n\t\tchangeUserLinksToButtons();\r\n\t}, [visibleStatus]);\r\n\r\n\t// Handlers\r\n\tlet commentButtonOnClickHandler = (e) => {\r\n\t\tif (!visibleStatus) {\r\n\t\t\ttoggleVisibleStatus(true);\r\n\t\t}\r\n\t\tif (!isSeenStatus) {\r\n\t\t\tlet changeViews = async () => {\r\n\t\t\t\tawait changeIdSeenNews();\r\n\t\t\t\tlet relustItem = await getNewsFromID(id, setFetchedComments, setReacionState);\r\n\t\t\t\tsetCurrentViews(relustItem[0].views);\r\n\t\t\t};\r\n\r\n\t\t\tchangeViews();\r\n\t\t}\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tref.current.focus();\r\n\t\t}, 100);\r\n\t};\r\n\tlet sendCommetnButtonOnClickHandler = (e) => {\r\n\t\tlet sendAndGetComments = async () => {\r\n\t\t\tsetFetchingStatus(true);\r\n\t\t\tawait sendCommentNews(id, user.id, textAreaComment, setFetchingStatus);\r\n\t\t\tawait getNewsFromID(id, setFetchedComments, setReacionState);\r\n\t\t\tsetFetchingStatus(false);\r\n\t\t\tsetTextAreaComment('');\r\n\t\t\tsetSmileStatus(false);\r\n\t\t};\r\n\r\n\t\tif (textAreaComment && textAreaComment.trim()) {\r\n\t\t\tsendAndGetComments();\r\n\t\t}\r\n\t};\r\n\tlet addLikeButtonHandler = (e) => {\r\n\t\tlet sendAndGetLikes = async () => {\r\n\t\t\tsetFetchingStatus(true);\r\n\t\t\tawait toggleLike(id, user.id, 'like');\r\n\t\t\tawait getNewsFromID(id, setFetchedComments, setReacionState);\r\n\t\t\tsetFetchingStatus(false);\r\n\t\t};\r\n\t\tsendAndGetLikes();\r\n\t};\r\n\tlet removeLikeButtonHandler = (e) => {\r\n\t\tlet sendAndGetLikes = async () => {\r\n\t\t\tsetFetchingStatus(true);\r\n\t\t\tawait toggleLike(id, user.id, '0');\r\n\t\t\tawait getNewsFromID(id, setFetchedComments, setReacionState, id);\r\n\t\t\tsetReacionStatus(false);\r\n\t\t\tsetFetchingStatus(false);\r\n\t\t};\r\n\r\n\t\tsendAndGetLikes();\r\n\t};\r\n\tlet onClickVisibleButtonHandler = () => {\r\n\t\ttoggleVisibleStatus((status) => (visibleStatus = !status));\r\n\t\tsetSmileStatus(false);\r\n\t\tif (!isSeenStatus) {\r\n\t\t\tchangeViews();\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`${s.item} ${visibleStatus && s.active} ${fullScreen && s.full_screen}`}>\r\n\t\t\t{adminStatus && <EditAdminButton link={`./add-change-news/${id}`} />}\r\n\r\n\t\t\t<div className={s.left_column}>\r\n\t\t\t\t<p className={s.title}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tclassName={s.title_link}\r\n\t\t\t\t\t\t\ttitle=\"Перейти\"\r\n\t\t\t\t\t\t\tto={`/feed-news/feed-separate-news/${id}`}\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: title }}></Link>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tref={useOutsideClick(() => selectorStatus && setSelectorStatus(false) && setCopyLinkStatus(false))}\r\n\t\t\t\t\t\tclassName={s.selector_list}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttitle={selectorStatus ? 'Закрити' : 'Відкрити'}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetSelectorStatus((selector) => !selector);\r\n\t\t\t\t\t\t\t\tsetCopyLinkStatus(false);\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<ul className={`${s.selector_body} ${selectorStatus && s.active}`}>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Link to={`/feed-news/feed-separate-news/${id}`}>Перейти</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tlet inp = document.createElement('input');\r\n\t\t\t\t\t\t\t\t\t\tinp.value = `https://portal.softcom.ua/feed-news/feed-separate-news/${id}`;\r\n\t\t\t\t\t\t\t\t\t\tdocument.body.appendChild(inp);\r\n\t\t\t\t\t\t\t\t\t\tinp.select();\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (document.execCommand('copy')) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetCopyLinkStatus(true);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tsetCopyLinkStatus(false);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tdocument.body.removeChild(inp);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tКопіювати посилання\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t{copyLinkStatus && <p style={{ color: 'green', fontSize: '12px', width: '100%', textAlign: 'center' }}>Скопійовано</p>}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className={s.date}>\r\n\t\t\t\t\t<img src={clockIcon} alt=\"\" />\r\n\t\t\t\t\t{pub_date && toDay === pub_date.slice(0, 10)\r\n\t\t\t\t\t\t? `Сьогодні ${pub_date.slice(11, 16)}`\r\n\t\t\t\t\t\t: `${pub_date.slice(8, 10)}-${pub_date.slice(5, 7)}-${pub_date.slice(0, 4)} ${pub_date.slice(11, 16)}`}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className={s.tags}>\r\n\t\t\t\t\t{tags &&\r\n\t\t\t\t\t\ttags.map((item, index) => (\r\n\t\t\t\t\t\t\t<div key={index} style={{ backgroundColor: '#5182FE' }} className={s.tag}>\r\n\t\t\t\t\t\t\t\t<p>{item}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t\t{visibleStatus && <p ref={refText} dangerouslySetInnerHTML={{ __html: text }} className={`${s.text}`} />}\r\n\t\t\t</div>\r\n\t\t\t<div className={s.right_column}>\r\n\t\t\t\t{img && visibleStatus && (\r\n\t\t\t\t\t<div className={s.images_container}>\r\n\t\t\t\t\t\t<NewsImgSlider img={img} fullScreen={fullScreen} visibleStatus={visibleStatus} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className={s.buttons_container}>\r\n\t\t\t\t\t<div className={s.buttons_row}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttitle={'Подобається'}\r\n\t\t\t\t\t\t\tonClick={reacionStatus ? removeLikeButtonHandler : addLikeButtonHandler}\r\n\t\t\t\t\t\t\tdisabled={fetchingStatus}\r\n\t\t\t\t\t\t\tclassName={`${s.likes_button} ${reacionStatus && s.liked}`}>\r\n\t\t\t\t\t\t\t<img src={heartIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t<p>{reacionStateLength}</p>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button title={'Коментарі'} onClick={commentButtonOnClickHandler} className={s.coments_button}>\r\n\t\t\t\t\t\t\t<img src={commentsIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t<p>{commentsLength}</p>\r\n\t\t\t\t\t\t\t<p>Коментарі</p>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className={s.views}>Перегляди: {currentViews ? currentViews : '0'}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{visibleStatus && (\r\n\t\t\t\t\t<div className={s.commet_container}>\r\n\t\t\t\t\t\t{fetchedComments && <CommentsList comment={fetchedComments} fullScreen={fullScreen} uploadComments={uploadComments} />}\r\n\t\t\t\t\t\t<div className={s.coments_input}>\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tvalue={textAreaComment}\r\n\t\t\t\t\t\t\t\t// onKeyDown={(e) => e.key === 'Enter' && sendCommetnButtonOnClickHandler(e)}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setTextAreaComment(e.target.value)}\r\n\t\t\t\t\t\t\t\tref={ref}\r\n\t\t\t\t\t\t\t\tplaceholder=\"Ваш коментар...\"\r\n\t\t\t\t\t\t\t\tname=\"\"\r\n\t\t\t\t\t\t\t\tid=\"\"></textarea>\r\n\t\t\t\t\t\t\t<div className={s.coments_input__btns}>\r\n\t\t\t\t\t\t\t\t<button title={'Смайлики'} disabled={fetchingStatus} onClick={() => setSmileStatus((status) => !status)}>\r\n\t\t\t\t\t\t\t\t\t<img src={smileIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button title={'Додати коментар'} disabled={fetchingStatus} onClick={sendCommetnButtonOnClickHandler}>\r\n\t\t\t\t\t\t\t\t\t<img src={mailIcon} alt=\"\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<EmojiList visibleStatus={smileStatus} setSmile={setTextAreaComment} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t{!viewed && (\r\n\t\t\t\t<button title={visibleStatus ? 'Згорнути' : 'Розгорнути'} className={s.open_button} onClick={onClickVisibleButtonHandler}>\r\n\t\t\t\t\t<img src={arrowIcon} alt=\"\" />\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NewsItemLow;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}