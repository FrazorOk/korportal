{"ast":null,"code":"var _jsxFileName = \"E:\\\\WEB\\\\korportal-master\\\\src\\\\components\\\\NewsFilterTest\\\\NewsFilter.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport s from './NewsFilter.module.css';\nimport { useSearchParams } from 'react-router-dom';\nimport { getNewsList } from '../../api/apiNews';\nimport { useSelector } from 'react-redux';\nimport { userSelector } from '../../selectors/userSelectors';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst btsArray = [{\n  textBtn: 'Усі',\n  title: 'Усі події'\n}, {\n  textBtn: 'Популярне',\n  title: 'Сортувати за популярністю'\n}, {\n  textBtn: `Сьогодні`,\n  title: 'Фільтрувати за сьогодні'\n}, {\n  textBtn: 'Не переглянуті',\n  title: 'Фільтрувати за переглядом'\n}];\nconst tags = [\"Кар'єрний шлях\", 'Життєві віхи', 'Яскраві миті', 'Святковий календар', 'Досягнення', 'Розвиток'];\nconst NewsFilter = ({\n  setFilterParams,\n  fullScreen,\n  isFetching\n}) => {\n  _s();\n  let user = useSelector(userSelector.userData);\n  let userSeenNews = useSelector(userSelector.userSeenNews);\n  const [searchParams, setSearchParams] = useSearchParams();\n  let [activeButton, setActiveButton] = useState(0);\n  let [isTodayCount, setTodayCount] = useState(0);\n  let [isUnVisibleCount, setUnVisibleCount] = useState(0);\n  let getDataParams = filterType => {\n    return {\n      userID: user.id,\n      fromNumber: 0,\n      limitNumber: 100,\n      filterType: filterType,\n      qt: true,\n      all: 0,\n      categoryID: 1\n    };\n  };\n  useEffect(() => {\n    if (user && user.id) {\n      getNewsList(getDataParams('Сьогодні')).then(result => {\n        setTodayCount(result.qt);\n      });\n    }\n  }, [user]);\n  useEffect(() => {\n    if (user && user.id) {\n      getNewsList(getDataParams('Не переглянуті')).then(result => {\n        setUnVisibleCount(result.qt);\n      });\n    }\n  }, [user, userSeenNews]);\n  useEffect(() => {\n    let filterParam = searchParams.get('filter');\n    if (filterParam === 'noviews') {\n      setActiveButton(3);\n    }\n  }, [searchParams]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${s.filters} ${fullScreen && s.full_screen}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${s.filters_row} ${s.params}`,\n      children: btsArray.map((item, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n        title: item.title,\n        disabled: isFetching,\n        onClick: e => {\n          async function onClickHandler(e) {\n            await setFilterParams({\n              params: e.target.textContent.split('(')[0].trim(),\n              tags: false\n            });\n            setActiveButton(index);\n          }\n          onClickHandler(e);\n        },\n        className: `${activeButton === index ? s.active : ''} ${index === 3 && isUnVisibleCount > 0 && s.nonSeen}`,\n        children: [item.textBtn, item.textBtn === 'Сьогодні' && ` (${isTodayCount ? isTodayCount : 0})`, item.textBtn === 'Не переглянуті' && ` (${isUnVisibleCount ? isUnVisibleCount : 0})`]\n      }, `params buttons ${index}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 6\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${s.filters_row} ${s.tags}`,\n      children: tags.map((el, index) => {\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          title: \"\\u0424\\u0456\\u043B\\u044C\\u0442\\u0440\\u0443\\u0432\\u0430\\u0442\\u0438 \\u0437\\u0430 \\u0442\\u0435\\u0433\\u043E\\u043C\",\n          disabled: isFetching,\n          className: activeButton === index + 4 ? s.active : '',\n          onClick: e => {\n            async function onClickHandler(e) {\n              await setFilterParams({\n                params: e.target.textContent,\n                tags: true\n              });\n              setActiveButton(index + 4);\n            }\n            onClickHandler(e);\n          },\n          children: el\n        }, `tags buttons ${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 7\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 3\n  }, this);\n};\n_s(NewsFilter, \"JLIzKA3VA1bH7p8ZQePbMAbIneA=\", false, function () {\n  return [useSelector, useSelector, useSearchParams];\n});\n_c = NewsFilter;\nexport default NewsFilter;\nvar _c;\n$RefreshReg$(_c, \"NewsFilter\");","map":{"version":3,"names":["useEffect","useState","s","useSearchParams","getNewsList","useSelector","userSelector","jsxDEV","_jsxDEV","btsArray","textBtn","title","tags","NewsFilter","setFilterParams","fullScreen","isFetching","_s","user","userData","userSeenNews","searchParams","setSearchParams","activeButton","setActiveButton","isTodayCount","setTodayCount","isUnVisibleCount","setUnVisibleCount","getDataParams","filterType","userID","id","fromNumber","limitNumber","qt","all","categoryID","then","result","filterParam","get","className","filters","full_screen","children","filters_row","params","map","item","index","disabled","onClick","e","onClickHandler","target","textContent","split","trim","active","nonSeen","fileName","_jsxFileName","lineNumber","columnNumber","el","_c","$RefreshReg$"],"sources":["E:/WEB/korportal-master/src/components/NewsFilterTest/NewsFilter.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport s from './NewsFilter.module.css';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport { getNewsList } from '../../api/apiNews';\r\nimport { useSelector } from 'react-redux';\r\nimport { userSelector } from '../../selectors/userSelectors';\r\n\r\nconst btsArray = [\r\n\t{\r\n\t\ttextBtn: 'Усі',\r\n\t\ttitle: 'Усі події',\r\n\t},\r\n\t{\r\n\t\ttextBtn: 'Популярне',\r\n\t\ttitle: 'Сортувати за популярністю',\r\n\t},\r\n\t{\r\n\t\ttextBtn: `Сьогодні`,\r\n\t\ttitle: 'Фільтрувати за сьогодні',\r\n\t},\r\n\t{\r\n\t\ttextBtn: 'Не переглянуті',\r\n\t\ttitle: 'Фільтрувати за переглядом',\r\n\t},\r\n];\r\n\r\nconst tags = [\"Кар'єрний шлях\", 'Життєві віхи', 'Яскраві миті', 'Святковий календар', 'Досягнення', 'Розвиток'];\r\n\r\nconst NewsFilter = ({ setFilterParams, fullScreen, isFetching }) => {\r\n\tlet user = useSelector(userSelector.userData);\r\n\tlet userSeenNews = useSelector(userSelector.userSeenNews);\r\n\r\n\tconst [searchParams, setSearchParams] = useSearchParams();\r\n\r\n\tlet [activeButton, setActiveButton] = useState(0);\r\n\tlet [isTodayCount, setTodayCount] = useState(0);\r\n\tlet [isUnVisibleCount, setUnVisibleCount] = useState(0);\r\n\r\n\tlet getDataParams = (filterType) => {\r\n\t\treturn {\r\n\t\t\tuserID: user.id,\r\n\t\t\tfromNumber: 0,\r\n\t\t\tlimitNumber: 100,\r\n\t\t\tfilterType: filterType,\r\n\t\t\tqt: true,\r\n\t\t\tall: 0,\r\n\t\t\tcategoryID: 1,\r\n\t\t};\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (user && user.id) {\r\n\t\t\tgetNewsList(getDataParams('Сьогодні')).then((result) => {\r\n\t\t\t\tsetTodayCount(result.qt);\r\n\t\t\t});\r\n\t\t}\r\n\t}, [user]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (user && user.id) {\r\n\t\t\tgetNewsList(getDataParams('Не переглянуті')).then((result) => {\r\n\t\t\t\tsetUnVisibleCount(result.qt);\r\n\t\t\t});\r\n\t\t}\r\n\t}, [user, userSeenNews]);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet filterParam = searchParams.get('filter');\r\n\t\tif (filterParam === 'noviews') {\r\n\t\t\tsetActiveButton(3);\r\n\t\t}\r\n\t}, [searchParams]);\r\n\r\n\treturn (\r\n\t\t<div className={`${s.filters} ${fullScreen && s.full_screen}`}>\r\n\t\t\t<div className={`${s.filters_row} ${s.params}`}>\r\n\t\t\t\t{btsArray.map((item, index) => (\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\tkey={`params buttons ${index}`}\r\n\t\t\t\t\t\tdisabled={isFetching}\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\tasync function onClickHandler(e) {\r\n\t\t\t\t\t\t\t\tawait setFilterParams({ params: e.target.textContent.split('(')[0].trim(), tags: false });\r\n\t\t\t\t\t\t\t\tsetActiveButton(index);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonClickHandler(e);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName={`${activeButton === index ? s.active : ''} ${index === 3 && isUnVisibleCount > 0 && s.nonSeen}`}>\r\n\t\t\t\t\t\t{item.textBtn}\r\n\t\t\t\t\t\t{item.textBtn === 'Сьогодні' && ` (${isTodayCount ? isTodayCount : 0})`}\r\n\t\t\t\t\t\t{item.textBtn === 'Не переглянуті' && ` (${isUnVisibleCount ? isUnVisibleCount : 0})`}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={`${s.filters_row} ${s.tags}`}>\r\n\t\t\t\t{tags.map((el, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttitle=\"Фільтрувати за тегом\"\r\n\t\t\t\t\t\t\tdisabled={isFetching}\r\n\t\t\t\t\t\t\tkey={`tags buttons ${index}`}\r\n\t\t\t\t\t\t\tclassName={activeButton === index + 4 ? s.active : ''}\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\tasync function onClickHandler(e) {\r\n\t\t\t\t\t\t\t\t\tawait setFilterParams({ params: e.target.textContent, tags: true });\r\n\t\t\t\t\t\t\t\t\tsetActiveButton(index + 4);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonClickHandler(e);\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{el}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NewsFilter;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}