{"ast":null,"code":"import{useEffect,useState}from'react';import{getMailingTime,updateMailingTime}from'../../../api/mailingApi';import s from'./TimeMailingSection.module.css';import Loader from'../../../components/UI/Loader/Loader';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TimeMailingSection=()=>{let[isInputTime,setInputTime]=useState('');let[isCurrentTime,setCurrentTime]=useState('');let[isLoading,setLoading]=useState(false);const fetchingCurrentMailingTime=async()=>{let result=await getMailingTime();if(result){setCurrentTime(result.time);console.log(result);}};const fetchingMailingTime=async()=>{setLoading(true);console.log(isInputTime+':00');// let result = await updateMailingTime(isInputTime);\n// if (result.status) {\n// \tsetLoading(false);\n// \tsetInputTime('');\n// \tconsole.log(result);\n// setTimeout(() => {\n// \tfetchingCurrentMailingTime();\n// }, 10);\n// }\n};useEffect(()=>{fetchingCurrentMailingTime();},[]);const onClickSubmitBtnHandler=e=>{e.preventDefault();isInputTime&&fetchingMailingTime();};return/*#__PURE__*/_jsxs(\"div\",{className:\"section-container\",style:{width:'100%',maxWidth:'540px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0427\\u0430\\u0441 \\u0440\\u043E\\u0437\\u0441\\u0438\\u043B\\u043A\\u0438\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u041F\\u043E\\u0442\\u043E\\u0447\\u043D\\u0438\\u0439 \\u0447\\u0430\\u0441 \\u0440\\u043E\\u0437\\u0441\\u0438\\u043B\\u043A\\u0438: \",/*#__PURE__*/_jsx(\"b\",{style:{fontSize:'16px'},children:isCurrentTime})]}),/*#__PURE__*/_jsxs(\"form\",{className:s.form,children:[/*#__PURE__*/_jsxs(\"div\",{className:s.input_block,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"\\u0417\\u043C\\u0456\\u043D\\u0438\\u0442\\u0438 \\u0447\\u0430\\u0441 \\u0440\\u043E\\u0437\\u0441\\u0438\\u043B\\u043A\\u0438:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:isInputTime,onChange:e=>setInputTime(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:s.input_block,children:isLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(\"button\",{className:\"standart-btn\",onClick:onClickSubmitBtnHandler,children:\"\\u0417\\u043C\\u0456\\u043D\\u0438\\u0442\\u0438\"})})]})]});};export default TimeMailingSection;","map":{"version":3,"names":["useEffect","useState","getMailingTime","updateMailingTime","s","Loader","jsx","_jsx","jsxs","_jsxs","TimeMailingSection","isInputTime","setInputTime","isCurrentTime","setCurrentTime","isLoading","setLoading","fetchingCurrentMailingTime","result","time","console","log","fetchingMailingTime","onClickSubmitBtnHandler","e","preventDefault","className","style","width","maxWidth","children","fontSize","form","input_block","htmlFor","type","value","onChange","target","onClick"],"sources":["E:/web/web/2024/korportal/src/pages/AdminMailingListPage/TimeMailingSection/TimeMailingSection.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { getMailingTime, updateMailingTime } from '../../../api/mailingApi';\r\nimport s from './TimeMailingSection.module.css';\r\nimport Loader from '../../../components/UI/Loader/Loader';\r\n\r\nconst TimeMailingSection = () => {\r\n\tlet [isInputTime, setInputTime] = useState('');\r\n\tlet [isCurrentTime, setCurrentTime] = useState('');\r\n\tlet [isLoading, setLoading] = useState(false);\r\n\r\n\tconst fetchingCurrentMailingTime = async () => {\r\n\t\tlet result = await getMailingTime();\r\n\t\tif (result) {\r\n\t\t\tsetCurrentTime(result.time);\r\n\t\t\tconsole.log(result);\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetchingMailingTime = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconsole.log(isInputTime + ':00');\r\n\r\n\t\t// let result = await updateMailingTime(isInputTime);\r\n\t\t// if (result.status) {\r\n\t\t// \tsetLoading(false);\r\n\t\t// \tsetInputTime('');\r\n\t\t// \tconsole.log(result);\r\n\r\n\t\t// setTimeout(() => {\r\n\t\t// \tfetchingCurrentMailingTime();\r\n\t\t// }, 10);\r\n\t\t// }\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchingCurrentMailingTime();\r\n\t}, []);\r\n\r\n\tconst onClickSubmitBtnHandler = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tisInputTime && fetchingMailingTime();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"section-container\" style={{ width: '100%', maxWidth: '540px' }}>\r\n\t\t\t<h3>Час розсилки</h3>\r\n\r\n\t\t\t<p>\r\n\t\t\t\tПоточний час розсилки: <b style={{ fontSize: '16px' }}>{isCurrentTime}</b>\r\n\t\t\t</p>\r\n\r\n\t\t\t<form className={s.form}>\r\n\t\t\t\t<div className={s.input_block}>\r\n\t\t\t\t\t<label htmlFor=\"\">Змінити час розсилки:</label>\r\n\t\t\t\t\t<input type=\"time\" value={isInputTime} onChange={(e) => setInputTime(e.target.value)} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={s.input_block}>\r\n\t\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<button className=\"standart-btn\" onClick={onClickSubmitBtnHandler}>\r\n\t\t\t\t\t\t\tЗмінити\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TimeMailingSection;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,cAAc,CAAEC,iBAAiB,KAAQ,yBAAyB,CAC3E,MAAO,CAAAC,CAAC,KAAM,iCAAiC,CAC/C,MAAO,CAAAC,MAAM,KAAM,sCAAsC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1D,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAChC,GAAI,CAACC,WAAW,CAAEC,YAAY,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC9C,GAAI,CAACY,aAAa,CAAEC,cAAc,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAClD,GAAI,CAACc,SAAS,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAgB,0BAA0B,CAAG,KAAAA,CAAA,GAAY,CAC9C,GAAI,CAAAC,MAAM,CAAG,KAAM,CAAAhB,cAAc,CAAC,CAAC,CACnC,GAAIgB,MAAM,CAAE,CACXJ,cAAc,CAACI,MAAM,CAACC,IAAI,CAAC,CAC3BC,OAAO,CAACC,GAAG,CAACH,MAAM,CAAC,CACpB,CACD,CAAC,CAED,KAAM,CAAAI,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACvCN,UAAU,CAAC,IAAI,CAAC,CAChBI,OAAO,CAACC,GAAG,CAACV,WAAW,CAAG,KAAK,CAAC,CAEhC;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACD,CAAC,CAEDX,SAAS,CAAC,IAAM,CACfiB,0BAA0B,CAAC,CAAC,CAC7B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAM,uBAAuB,CAAIC,CAAC,EAAK,CACtCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElBd,WAAW,EAAIW,mBAAmB,CAAC,CAAC,CACrC,CAAC,CAED,mBACCb,KAAA,QAAKiB,SAAS,CAAC,mBAAmB,CAACC,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAAC,QAAA,eAC9EvB,IAAA,OAAAuB,QAAA,CAAI,qEAAY,CAAI,CAAC,cAErBrB,KAAA,MAAAqB,QAAA,EAAG,wHACqB,cAAAvB,IAAA,MAAGoB,KAAK,CAAE,CAAEI,QAAQ,CAAE,MAAO,CAAE,CAAAD,QAAA,CAAEjB,aAAa,CAAI,CAAC,EACxE,CAAC,cAEJJ,KAAA,SAAMiB,SAAS,CAAEtB,CAAC,CAAC4B,IAAK,CAAAF,QAAA,eACvBrB,KAAA,QAAKiB,SAAS,CAAEtB,CAAC,CAAC6B,WAAY,CAAAH,QAAA,eAC7BvB,IAAA,UAAO2B,OAAO,CAAC,EAAE,CAAAJ,QAAA,CAAC,iHAAqB,CAAO,CAAC,cAC/CvB,IAAA,UAAO4B,IAAI,CAAC,MAAM,CAACC,KAAK,CAAEzB,WAAY,CAAC0B,QAAQ,CAAGb,CAAC,EAAKZ,YAAY,CAACY,CAAC,CAACc,MAAM,CAACF,KAAK,CAAE,CAAE,CAAC,EACpF,CAAC,cAEN7B,IAAA,QAAKmB,SAAS,CAAEtB,CAAC,CAAC6B,WAAY,CAAAH,QAAA,CAC5Bf,SAAS,cACTR,IAAA,CAACF,MAAM,GAAE,CAAC,cAEVE,IAAA,WAAQmB,SAAS,CAAC,cAAc,CAACa,OAAO,CAAEhB,uBAAwB,CAAAO,QAAA,CAAC,4CAEnE,CAAQ,CACR,CACG,CAAC,EACD,CAAC,EACH,CAAC,CAER,CAAC,CAED,cAAe,CAAApB,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}