{"ast":null,"code":"import{useEffect,useState}from'react';import GoBackButton from'../../components/UI/GoBackButton/GoBackButton';import{useScrollToTop}from'../../hooks/scrollToTop';import{useRedirectAdmin}from'../../hooks/useRedirectHoook';import AdminAddGalleryFormSection from'./AdminAddGalleryFormSection/AdminAddGalleryFormSection';import{useParams}from'react-router-dom';import{getGalleryCatalogsByID}from'../../api/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminAddChangeGalleryPage=()=>{let{statusAdmin}=useRedirectAdmin();let{Id}=useParams();let[data,setData]=useState({});let[createdStatus,setCreatedStatus]=useState(false);useEffect(()=>{if(Id&&statusAdmin){let getCatalog=async()=>{let result=await getGalleryCatalogsByID(Id);setData(result[0]);};getCatalog();}},[Id,statusAdmin]);useEffect(()=>{console.log(data);if(createdStatus&&statusAdmin&&!data.title){let getCatalog=async()=>{let result=await getGalleryCatalogsByID(Id);setData(result[0]);};getCatalog();}},[data,createdStatus]);useScrollToTop();return/*#__PURE__*/_jsx(_Fragment,{children:statusAdmin&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0421\\u0442\\u0432\\u043E\\u0440\\u0435\\u043D\\u043D\\u044F \\u043D\\u043E\\u0432\\u043E\\u0433\\u043E \\u043A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433\\u0443\"}),/*#__PURE__*/_jsx(GoBackButton,{toLink:`/admin-gallery`}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"column-50\",children:/*#__PURE__*/_jsx(AdminAddGalleryFormSection,{data:data,Id:Id,setCreatedStatus:setCreatedStatus})})})]})});};export default AdminAddChangeGalleryPage;","map":{"version":3,"names":["useEffect","useState","GoBackButton","useScrollToTop","useRedirectAdmin","AdminAddGalleryFormSection","useParams","getGalleryCatalogsByID","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminAddChangeGalleryPage","statusAdmin","Id","data","setData","createdStatus","setCreatedStatus","getCatalog","result","console","log","title","children","toLink","className"],"sources":["E:/web/web/2024/korportal/src/pages/AdminAddChangeGalleryPage/AdminAddChangeGalleryPage.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport GoBackButton from '../../components/UI/GoBackButton/GoBackButton';\r\nimport { useScrollToTop } from '../../hooks/scrollToTop';\r\nimport { useRedirectAdmin } from '../../hooks/useRedirectHoook';\r\nimport AdminAddGalleryFormSection from './AdminAddGalleryFormSection/AdminAddGalleryFormSection';\r\nimport { useParams } from 'react-router-dom';\r\nimport { getGalleryCatalogsByID } from '../../api/api';\r\n\r\nconst AdminAddChangeGalleryPage = () => {\r\n\tlet { statusAdmin } = useRedirectAdmin();\r\n\tlet { Id } = useParams();\r\n\r\n\tlet [data, setData] = useState({});\r\n\tlet [createdStatus, setCreatedStatus] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (Id && statusAdmin) {\r\n\t\t\tlet getCatalog = async () => {\r\n\t\t\t\tlet result = await getGalleryCatalogsByID(Id);\r\n\t\t\t\tsetData(result[0]);\r\n\t\t\t};\r\n\t\t\tgetCatalog();\r\n\t\t}\r\n\t}, [Id, statusAdmin]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log(data);\r\n\r\n\t\tif (createdStatus && statusAdmin && !data.title) {\r\n\t\t\tlet getCatalog = async () => {\r\n\t\t\t\tlet result = await getGalleryCatalogsByID(Id);\r\n\t\t\t\tsetData(result[0]);\r\n\t\t\t};\r\n\t\t\tgetCatalog();\r\n\t\t}\r\n\t}, [data, createdStatus]);\r\n\r\n\tuseScrollToTop();\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{statusAdmin && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1>Створення нового каталогу</h1>\r\n\t\t\t\t\t<GoBackButton toLink={`/admin-gallery`} />\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"column-50\">\r\n\t\t\t\t\t\t\t<AdminAddGalleryFormSection data={data} Id={Id} setCreatedStatus={setCreatedStatus} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default AdminAddChangeGalleryPage;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,YAAY,KAAM,+CAA+C,CACxE,OAASC,cAAc,KAAQ,yBAAyB,CACxD,OAASC,gBAAgB,KAAQ,8BAA8B,CAC/D,MAAO,CAAAC,0BAA0B,KAAM,yDAAyD,CAChG,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,sBAAsB,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEvD,KAAM,CAAAC,yBAAyB,CAAGA,CAAA,GAAM,CACvC,GAAI,CAAEC,WAAY,CAAC,CAAGX,gBAAgB,CAAC,CAAC,CACxC,GAAI,CAAEY,EAAG,CAAC,CAAGV,SAAS,CAAC,CAAC,CAExB,GAAI,CAACW,IAAI,CAAEC,OAAO,CAAC,CAAGjB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAClC,GAAI,CAACkB,aAAa,CAAEC,gBAAgB,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAEvDD,SAAS,CAAC,IAAM,CACf,GAAIgB,EAAE,EAAID,WAAW,CAAE,CACtB,GAAI,CAAAM,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CAAAC,MAAM,CAAG,KAAM,CAAAf,sBAAsB,CAACS,EAAE,CAAC,CAC7CE,OAAO,CAACI,MAAM,CAAC,CAAC,CAAC,CAAC,CACnB,CAAC,CACDD,UAAU,CAAC,CAAC,CACb,CACD,CAAC,CAAE,CAACL,EAAE,CAAED,WAAW,CAAC,CAAC,CAErBf,SAAS,CAAC,IAAM,CACfuB,OAAO,CAACC,GAAG,CAACP,IAAI,CAAC,CAEjB,GAAIE,aAAa,EAAIJ,WAAW,EAAI,CAACE,IAAI,CAACQ,KAAK,CAAE,CAChD,GAAI,CAAAJ,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CAAAC,MAAM,CAAG,KAAM,CAAAf,sBAAsB,CAACS,EAAE,CAAC,CAC7CE,OAAO,CAACI,MAAM,CAAC,CAAC,CAAC,CAAC,CACnB,CAAC,CACDD,UAAU,CAAC,CAAC,CACb,CACD,CAAC,CAAE,CAACJ,IAAI,CAAEE,aAAa,CAAC,CAAC,CAEzBhB,cAAc,CAAC,CAAC,CAEhB,mBACCM,IAAA,CAAAI,SAAA,EAAAa,QAAA,CACEX,WAAW,eACXJ,KAAA,QAAAe,QAAA,eACCjB,IAAA,OAAAiB,QAAA,CAAI,8IAAyB,CAAI,CAAC,cAClCjB,IAAA,CAACP,YAAY,EAACyB,MAAM,CAAE,gBAAiB,CAAE,CAAC,cAC1ClB,IAAA,QAAKmB,SAAS,CAAC,KAAK,CAAAF,QAAA,cACnBjB,IAAA,QAAKmB,SAAS,CAAC,WAAW,CAAAF,QAAA,cACzBjB,IAAA,CAACJ,0BAA0B,EAACY,IAAI,CAAEA,IAAK,CAACD,EAAE,CAAEA,EAAG,CAACI,gBAAgB,CAAEA,gBAAiB,CAAE,CAAC,CAClF,CAAC,CACF,CAAC,EACF,CACL,CACA,CAAC,CAEL,CAAC,CAED,cAAe,CAAAN,yBAAyB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}