{"ast":null,"code":"import{useEffect,useState}from'react';import s from'./UsersList.module.css';import{useMsal}from'@azure/msal-react';import{getAllUsers}from'../../api/graph';import UserInfoModalBtn from'../UserInfoModalBtn/UserInfoModalBtn';import{jsx as _jsx}from\"react/jsx-runtime\";const UsersList=()=>{const{instance,accounts}=useMsal();let[isUsers,setUsers]=useState([]);function RequestUsersData(){instance.acquireTokenSilent({scopes:['User.Read.All'],account:accounts[0]}).then(response=>{getAllUsers(response.accessToken).then(response=>response.json()).then(result=>{let enabledUsers=result.value.filter(item=>item.accountEnabled===true);setUsers(enabledUsers);});});}useEffect(()=>{RequestUsersData();},[]);useEffect(()=>{console.log(isUsers);},[isUsers]);return/*#__PURE__*/_jsx(\"div\",{className:s.users,children:isUsers&&isUsers.map(user=>/*#__PURE__*/_jsx(UserInfoModalBtn,{userId:user.id,children:/*#__PURE__*/_jsx(\"p\",{children:user.displayName})}))});};export default UsersList;","map":{"version":3,"names":["useEffect","useState","s","useMsal","getAllUsers","UserInfoModalBtn","jsx","_jsx","UsersList","instance","accounts","isUsers","setUsers","RequestUsersData","acquireTokenSilent","scopes","account","then","response","accessToken","json","result","enabledUsers","value","filter","item","accountEnabled","console","log","className","users","children","map","user","userId","id","displayName"],"sources":["C:/Users/zhuikov/OneDrive - SOFTCOM/Desktop/web/2024/korportal/src/components/UsersList/UsersList.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport s from './UsersList.module.css';\r\nimport { useMsal } from '@azure/msal-react';\r\nimport { getAllUsers } from '../../api/graph';\r\nimport UserInfoModalBtn from '../UserInfoModalBtn/UserInfoModalBtn';\r\n\r\nconst UsersList = () => {\r\n\tconst { instance, accounts } = useMsal();\r\n\tlet [isUsers, setUsers] = useState([]);\r\n\r\n\tfunction RequestUsersData() {\r\n\t\tinstance\r\n\t\t\t.acquireTokenSilent({\r\n\t\t\t\tscopes: ['User.Read.All'],\r\n\t\t\t\taccount: accounts[0],\r\n\t\t\t})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tgetAllUsers(response.accessToken)\r\n\t\t\t\t\t.then((response) => response.json())\r\n\t\t\t\t\t.then((result) => {\r\n\t\t\t\t\t\tlet enabledUsers = result.value.filter((item) => item.accountEnabled === true);\r\n\t\t\t\t\t\tsetUsers(enabledUsers);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tRequestUsersData();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log(isUsers);\r\n\t}, [isUsers]);\r\n\r\n\treturn (\r\n\t\t<div className={s.users}>\r\n\t\t\t{isUsers &&\r\n\t\t\t\tisUsers.map((user) => (\r\n\t\t\t\t\t<UserInfoModalBtn userId={user.id}>\r\n\t\t\t\t\t\t<p>{user.displayName}</p>\r\n\t\t\t\t\t</UserInfoModalBtn>\r\n\t\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default UsersList;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,CAAC,KAAM,wBAAwB,CACtC,OAASC,OAAO,KAAQ,mBAAmB,CAC3C,OAASC,WAAW,KAAQ,iBAAiB,CAC7C,MAAO,CAAAC,gBAAgB,KAAM,sCAAsC,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEpE,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAEC,QAAQ,CAAEC,QAAS,CAAC,CAAGP,OAAO,CAAC,CAAC,CACxC,GAAI,CAACQ,OAAO,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAEtC,QAAS,CAAAY,gBAAgBA,CAAA,CAAG,CAC3BJ,QAAQ,CACNK,kBAAkB,CAAC,CACnBC,MAAM,CAAE,CAAC,eAAe,CAAC,CACzBC,OAAO,CAAEN,QAAQ,CAAC,CAAC,CACpB,CAAC,CAAC,CACDO,IAAI,CAAEC,QAAQ,EAAK,CACnBd,WAAW,CAACc,QAAQ,CAACC,WAAW,CAAC,CAC/BF,IAAI,CAAEC,QAAQ,EAAKA,QAAQ,CAACE,IAAI,CAAC,CAAC,CAAC,CACnCH,IAAI,CAAEI,MAAM,EAAK,CACjB,GAAI,CAAAC,YAAY,CAAGD,MAAM,CAACE,KAAK,CAACC,MAAM,CAAEC,IAAI,EAAKA,IAAI,CAACC,cAAc,GAAK,IAAI,CAAC,CAC9Ed,QAAQ,CAACU,YAAY,CAAC,CACvB,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAEAtB,SAAS,CAAC,IAAM,CACfa,gBAAgB,CAAC,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAENb,SAAS,CAAC,IAAM,CACf2B,OAAO,CAACC,GAAG,CAACjB,OAAO,CAAC,CACrB,CAAC,CAAE,CAACA,OAAO,CAAC,CAAC,CAEb,mBACCJ,IAAA,QAAKsB,SAAS,CAAE3B,CAAC,CAAC4B,KAAM,CAAAC,QAAA,CACtBpB,OAAO,EACPA,OAAO,CAACqB,GAAG,CAAEC,IAAI,eAChB1B,IAAA,CAACF,gBAAgB,EAAC6B,MAAM,CAAED,IAAI,CAACE,EAAG,CAAAJ,QAAA,cACjCxB,IAAA,MAAAwB,QAAA,CAAIE,IAAI,CAACG,WAAW,CAAI,CAAC,CACR,CAClB,CAAC,CACC,CAAC,CAER,CAAC,CAED,cAAe,CAAA5B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}