{"ast":null,"code":"var _jsxFileName = \"E:\\\\WEB\\\\korportal-master\\\\src\\\\pages\\\\GalleryPage\\\\GalleryListSection.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport GalleryList from '../../components/GalleryList/GalleryList';\nimport { getGalleryCatalogs } from '../../api/api';\nimport Loader from '../../components/UI/Loader/Loader';\nimport FilesFilter from '../../components/FilesFilter/FilesFilter';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst GalleryListSection = () => {\n  _s();\n  let [data, setData] = useState([]);\n  let [isFilteredData, setFilteredData] = useState([]);\n  let [isFetched, setFetched] = useState(false);\n  let [isFilterParametr, setFilterParametr] = useState(null);\n  let [isFilterBtns, setFilterBtns] = useState([{\n    title: 'Усі',\n    filterParametr: null\n  }]);\n  const findYearsFilters = catalogs => {\n    let unicValues = [];\n    catalogs.forEach(element => {\n      if (element) {\n        let currentYear = element.create_date.slice(0, 4);\n        !unicValues.find(el => el === currentYear) && unicValues.push(currentYear);\n      }\n    });\n    let currentYearsParametrs = unicValues.map(item => ({\n      title: item,\n      filterParametr: item\n    }));\n    setFilterBtns(btnsFilter => [...btnsFilter, ...currentYearsParametrs]);\n  };\n  useEffect(() => {\n    setFetched(true);\n    getGalleryCatalogs().then(response => {\n      console.log(response);\n      setData(response);\n      findYearsFilters(response);\n      setFetched(false);\n    });\n  }, []);\n  useEffect(() => {\n    if (!isFilterParametr) {\n      setFilteredData(data);\n    } else {\n      const filteredArray = data.filter(catalog => catalog && catalog.create_date.slice(0, 4) === isFilterParametr);\n      setFilteredData(filteredArray);\n    }\n  }, [isFilterParametr, data]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FilesFilter, {\n      changeFilter: setFilterParametr,\n      btns: isFilterBtns\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: isFetched ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '100%',\n          height: '100px',\n          position: 'relative',\n          marginTop: '30px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Loader, {\n          background: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(GalleryList, {\n        galleryList: isFilteredData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n_s(GalleryListSection, \"eTZfler/UNgD8Ux0XLhqX7YGlgU=\");\n_c = GalleryListSection;\nexport default GalleryListSection;\nvar _c;\n$RefreshReg$(_c, \"GalleryListSection\");","map":{"version":3,"names":["useEffect","useState","GalleryList","getGalleryCatalogs","Loader","FilesFilter","jsxDEV","_jsxDEV","Fragment","_Fragment","GalleryListSection","_s","data","setData","isFilteredData","setFilteredData","isFetched","setFetched","isFilterParametr","setFilterParametr","isFilterBtns","setFilterBtns","title","filterParametr","findYearsFilters","catalogs","unicValues","forEach","element","currentYear","create_date","slice","find","el","push","currentYearsParametrs","map","item","btnsFilter","then","response","console","log","filteredArray","filter","catalog","children","changeFilter","btns","fileName","_jsxFileName","lineNumber","columnNumber","className","style","width","height","position","marginTop","background","galleryList","_c","$RefreshReg$"],"sources":["E:/WEB/korportal-master/src/pages/GalleryPage/GalleryListSection.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport GalleryList from '../../components/GalleryList/GalleryList';\r\nimport { getGalleryCatalogs } from '../../api/api';\r\nimport Loader from '../../components/UI/Loader/Loader';\r\nimport FilesFilter from '../../components/FilesFilter/FilesFilter';\r\n\r\nconst GalleryListSection = () => {\r\n\tlet [data, setData] = useState([]);\r\n\tlet [isFilteredData, setFilteredData] = useState([]);\r\n\tlet [isFetched, setFetched] = useState(false);\r\n\tlet [isFilterParametr, setFilterParametr] = useState(null);\r\n\tlet [isFilterBtns, setFilterBtns] = useState([{ title: 'Усі', filterParametr: null }]);\r\n\r\n\tconst findYearsFilters = (catalogs) => {\r\n\t\tlet unicValues = [];\r\n\r\n\t\tcatalogs.forEach((element) => {\r\n\t\t\tif (element) {\r\n\t\t\t\tlet currentYear = element.create_date.slice(0, 4);\r\n\t\t\t\t!unicValues.find((el) => el === currentYear) && unicValues.push(currentYear);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tlet currentYearsParametrs = unicValues.map((item) => ({ title: item, filterParametr: item }));\r\n\r\n\t\tsetFilterBtns((btnsFilter) => [...btnsFilter, ...currentYearsParametrs]);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetFetched(true);\r\n\t\tgetGalleryCatalogs().then((response) => {\r\n\t\t\tconsole.log(response);\r\n\t\t\tsetData(response);\r\n\t\t\tfindYearsFilters(response);\r\n\t\t\tsetFetched(false);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!isFilterParametr) {\r\n\t\t\tsetFilteredData(data);\r\n\t\t} else {\r\n\t\t\tconst filteredArray = data.filter((catalog) => catalog && catalog.create_date.slice(0, 4) === isFilterParametr);\r\n\t\t\tsetFilteredData(filteredArray);\r\n\t\t}\r\n\t}, [isFilterParametr, data]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<FilesFilter changeFilter={setFilterParametr} btns={isFilterBtns} />\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t{isFetched ? (\r\n\t\t\t\t\t<div style={{ width: '100%', height: '100px', position: 'relative', marginTop: '30px' }}>\r\n\t\t\t\t\t\t<Loader background={true} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<GalleryList galleryList={isFilteredData} />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default GalleryListSection;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}